const jsonData ={

  "list": {

    "channel": [

      {

        "@version": "4.5.1",

        "id": "2a613bab-579c-4284-9d7e-0383ba8c016b",

        "nextMetaDataId": 3,

        "name": "C_AnsgarADT",

        "description": null,

        "revision": 5,

        "sourceConnector": {

          "@version": "4.5.1",

          "metaDataId": 0,

          "name": "sourceConnector",

          "properties": {

            "@class": "com.mirth.connect.connectors.tcp.TcpReceiverProperties",

            "@version": "4.5.1",

            "pluginProperties": null,

            "listenerConnectorProperties": {

              "@version": "4.5.1",

              "host": "0.0.0.0",

              "port": 8000

            },

            "sourceConnectorProperties": {

              "@version": "4.5.1",

              "responseVariable": "Auto-generate (After source transformer)",

              "respondAfterProcessing": true,

              "processBatch": false,

              "firstResponse": true,

              "processingThreads": 1,

              "resourceIds": {

                "@class": "linked-hash-map",

                "entry": {

                  "string": [

                    "Default Resource",

                    "[Default Resource]"

                  ]

                }

              },

              "queueBufferSize": 1000

            },

            "transmissionModeProperties": {

              "@class": "com.mirth.connect.plugins.mllpmode.MLLPModeProperties",

              "pluginPointName": "MLLP",

              "startOfMessageBytes": "0B",

              "endOfMessageBytes": "1C0D",

              "useMLLPv2": false,

              "ackBytes": "06",

              "nackBytes": 15,

              "maxRetries": 2

            },

            "serverMode": true,

            "remoteAddress": null,

            "remotePort": null,

            "overrideLocalBinding": false,

            "reconnectInterval": 5000,

            "receiveTimeout": 0,

            "bufferSize": 65536,

            "maxConnections": 25,

            "keepConnectionOpen": true,

            "dataTypeBinary": false,

            "charsetEncoding": "ISO-8859-15",

            "respondOnNewConnection": 0,

            "responseAddress": null,

            "responsePort": null

          },

          "transformer": {

            "@version": "4.5.1",

            "elements": {

              "com.mirth.connect.plugins.javascriptstep.JavaScriptStep": {

                "@version": "4.5.1",

                "sequenceNumber": 0,

                "enabled": true,

                "script": "getOrderMetadata();"

              }

            },

            "inboundTemplate": {

              "@encoding": "base64"

            },

            "outboundTemplate": {

              "@encoding": "base64"

            },

            "inboundDataType": "HL7V2",

            "outboundDataType": "HL7V2",

            "inboundProperties": {

              "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties",

              "@version": "4.5.1",

              "serializationProperties": {

                "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties",

                "@version": "4.5.1",

                "handleRepetitions": true,

                "handleSubcomponents": true,

                "useStrictParser": false,

                "useStrictValidation": false,

                "stripNamespaces": false,

                "segmentDelimiter": "\\r",

                "convertLineBreaks": true

              },

              "deserializationProperties": {

                "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties",

                "@version": "4.5.1",

                "useStrictParser": false,

                "useStrictValidation": false,

                "segmentDelimiter": "\\r"

              },

              "batchProperties": {

                "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties",

                "@version": "4.5.1",

                "splitType": "MSH_Segment",

                "batchScript": null

              },

              "responseGenerationProperties": {

                "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties",

                "@version": "4.5.1",

                "segmentDelimiter": "\\r",

                "successfulACKCode": "AA",

                "successfulACKMessage": null,

                "errorACKCode": "AE",

                "errorACKMessage": "An Error Occurred Processing Message.",

                "rejectedACKCode": "AR",

                "rejectedACKMessage": "Message Rejected.",

                "msh15ACKAccept": false,

                "dateFormat": "yyyyMMddHHmmss.SSS"

              },

              "responseValidationProperties": {

                "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties",

                "@version": "4.5.1",

                "successfulACKCode": "AA,CA",

                "errorACKCode": "AE,CE",

                "rejectedACKCode": "AR,CR",

                "validateMessageControlId": true,

                "originalMessageControlId": "Destination_Encoded",

                "originalIdMapVariable": null

              }

            },

            "outboundProperties": {

              "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties",

              "@version": "4.5.1",

              "serializationProperties": {

                "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties",

                "@version": "4.5.1",

                "handleRepetitions": true,

                "handleSubcomponents": true,

                "useStrictParser": false,

                "useStrictValidation": false,

                "stripNamespaces": false,

                "segmentDelimiter": "\\r",

                "convertLineBreaks": true

              },

              "deserializationProperties": {

                "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties",

                "@version": "4.5.1",

                "useStrictParser": false,

                "useStrictValidation": false,

                "segmentDelimiter": "\\r"

              },

              "batchProperties": {

                "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties",

                "@version": "4.5.1",

                "splitType": "MSH_Segment",

                "batchScript": null

              },

              "responseGenerationProperties": {

                "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties",

                "@version": "4.5.1",

                "segmentDelimiter": "\\r",

               "successfulACKCode": "AA",

                "successfulACKMessage": null,

                "errorACKCode": "AE",

                "errorACKMessage": "An Error Occurred Processing Message.",

                "rejectedACKCode": "AR",

                "rejectedACKMessage": "Message Rejected.",

                "msh15ACKAccept": false,

                "dateFormat": "yyyyMMddHHmmss.SSS"

              },

              "responseValidationProperties": {

                "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties",

                "@version": "4.5.1",

                "successfulACKCode": "AA,CA",

                "errorACKCode": "AE,CE",

                "rejectedACKCode": "AR,CR",

                "validateMessageControlId": true,

                "originalMessageControlId": "Destination_Encoded",

                "originalIdMapVariable": null

              }

            }

          },

          "filter": {

            "@version": "4.5.1",

            "elements": null

          },

          "transportName": "TCP Listener",

          "mode": "SOURCE",

          "enabled": true,

          "waitForPrevious": true

        },

        "destinationConnectors": {

          "connector": {

            "@version": "4.5.1",

            "metaDataId": 1,

            "name": "Clinpath",

            "properties": {

              "@class": "com.mirth.connect.connectors.tcp.TcpDispatcherProperties",

              "@version": "4.5.1",

              "pluginProperties": null,

              "destinationConnectorProperties": {

                "@version": "4.5.1",

                "queueEnabled": true,

                "sendFirst": true,

                "retryIntervalMillis": 10000,

                "regenerateTemplate": true,

                "retryCount": 0,

                "rotate": false,

                "includeFilterTransformer": false,

                "threadCount": 1,

                "threadAssignmentVariable": null,

                "validateResponse": true,

                "resourceIds": {

                  "@class": "linked-hash-map",

                  "entry": {

                    "string": [

                      "Default Resource",

                      "[Default Resource]"

                    ]

                  }

                },

                "queueBufferSize": 1000,

                "reattachAttachments": true

              },

              "transmissionModeProperties": {

                "@class": "com.mirth.connect.plugins.mllpmode.MLLPModeProperties",

                "pluginPointName": "MLLP",

                "startOfMessageBytes": "0B",

                "endOfMessageBytes": "1C0D",

                "useMLLPv2": false,

                "ackBytes": "06",

                "nackBytes": 15,

                "maxRetries": 2

              },

              "serverMode": false,

              "remoteAddress": "172.19.2.229",

              "remotePort": 6000,

              "overrideLocalBinding": false,

              "localAddress": "0.0.0.0",

              "localPort": 0,

              "sendTimeout": 5000,

              "bufferSize": 65536,

              "maxConnections": 10,

              "keepConnectionOpen": true,

              "checkRemoteHost": true,

              "responseTimeout": 5000,

              "ignoreResponse": false,

              "queueOnResponseTimeout": true,

              "dataTypeBinary": false,

              "charsetEncoding": "ISO-8859-15",

              "template": "${message.encodedData}"

            },

            "transformer": {

              "@version": "4.5.1",

              "elements": {

                "com.mirth.connect.plugins.javascriptstep.JavaScriptStep": [

                  {

                    "@version": "4.5.1",

                    "name": "prepare tmp",

                    "sequenceNumber": 0,

                    "enabled": true,

                    "script": "tmp = msg.copy();"

                  },

                  {

                    "@version": "4.5.1",

                    "name": "adjust outgoing msg",

                    "sequenceNumber": 1,

                    "enabled": true,

                    "script": "// Anpassung der HL7-Version\ntmp['MSH']['MSH.12']['MSH.12.1'] = '2.3';\n\n// Anpassung der Receiving Application\ntmp['MSH']['MSH.5']['MSH.5.1'] = 'ER-Path';\n\n// Anpassung der Receiving Facility für WKH \nif(msg['MSH']['MSH.4']['MSH.4.1'].toString()=='WKH'){\n\t\ttmp['MSH']['MSH.6']['MSH.6.1'] = 'WKH';\n}\n\n// Anpassung der Arztadressdaten und Versicherungsart für WKH\nif(msg['MSH']['MSH.4']['MSH.4.1'].toString()=='WKH'){\n\n// Anpassung Referring Physician für WKH\n\t\tif(msg['PV1'].toString().length>0){\n\t\t\n\t\t\tif(msg['PV1']['PV1.8']['PV1.8.7'].toString().length>0){\n\t\t\ttmp['PV1']['PV1.8']['PV1.8.10'] = msg['PV1']['PV1.8']['PV1.8.7'].toString();\n\t\t}\n\t\t\tif(msg['PV1']['PV1.8']['PV1.8.10'].toString().length>0){\n\t\t\ttmp['PV1']['PV1.8']['PV1.8.12'] = msg['PV1']['PV1.8']['PV1.8.10'].toString()+'/'+msg['PV1']['PV1.8']['PV1.8.11'].toString();\n\t\t\ttmp['PV1']['PV1.8']['PV1.8.10'] = '';\n\t\t\ttmp['PV1']['PV1.8']['PV1.8.11'] = '';\n\t\t\t}else{\n\t\t\ttmp['PV1']['PV1.8']['PV1.8.12'] = msg['PV1']['PV1.8']['PV1.8.11'].toString();\n\t\t\ttmp['PV1']['PV1.8']['PV1.8.10'] = '';\n\t\t\ttmp['PV1']['PV1.8']['PV1.8.11'] = '';\n\t\t}\n\t}\n// Anpassung Consulting Physician für WKH\n\t\tif(msg['PV1'].toString().length>0){\n\t\t\tif(msg['PV1']['PV1.9']['PV1.9.7'].toString().length>0){\n\t\t\ttmp['PV1']['PV1.9']['PV1.9.10'] = msg['PV1']['PV1.9']['PV1.9.7'].toString();\n\t\t}\n\t\t\tif(msg['PV1']['PV1.9']['PV1.9.10'].toString().length>0){\n\t\t\ttmp['PV1']['PV1.9']['PV1.9.12'] = msg['PV1']['PV1.9']['PV1.9.10'].toString()+'/'+msg['PV1']['PV1.9']['PV1.9.11'].toString();\n\t\t\ttmp['PV1']['PV1.9']['PV1.9.10'] = '';\n\t\t\ttmp['PV1']['PV1.9']['PV1.9.11'] = '';\n\t\t\t}else{\n\t\t\ttmp['PV1']['PV1.9']['PV1.9.12'] = msg['PV1']['PV1.9']['PV1.9.11'].toString();\n\t\t\ttmp['PV1']['PV1.9']['PV1.9.10'] = '';\n\t\t\ttmp['PV1']['PV1.9']['PV1.9.11'] = '';\n\t\t}\n\t}\n// Anpassung Versicherungsart für WKH\n\t\tif((msg['PV1']['PV1.21']['PV1.21.1'].toString().length>0) && (msg['PV1']['PV1.21']['PV1.21.1'].toString()=='P' || msg['PV1']['PV1.21']['PV1.21.1'].toString()=='S')){\n\t\t\ttmp['PV1']['PV1.21']['PV1.21.1'] = 'P';\n\t\t}else if(msg['PV1']['PV1.21']['PV1.21.1'].toString().length>0){ \n\t\t\ttmp['PV1']['PV1.21']['PV1.21.1'] = 'K';\n\t\t}\n// Anpassung Versicherungsnummer für WKH 16.09.2019 MBA\n\t\tfor each(in1 in tmp['IN1']){\n\t\t\tif(in1['IN1.2']['IN1.2.1'].toString().length>0){\n\t\t\t\tin1['IN1.3']['IN1.3.1'] = in1['IN1.2']['IN1.2.1'].toString();\n\t\t}\n\t\t\tif(in1['IN1.36']['IN1.36.1'].toString().length>0){\n\t\t\t\tin1['IN1.2']['IN1.2.1'] = in1['IN1.36']['IN1.36.1'].toString();\n\t\t}\n\t\t\t\n\t}\n\n}"

                  },

                  {

                    "@version": "4.5.1",

                    "name": "delete segments",

                    "sequenceNumber": 2,

                    "enabled": true,

                    "script": "delete tmp['DG1'];\ndelete tmp['PR1'];\ndelete tmp['ZBE'];"

                  },

                  {

                    "@version": "4.5.1",

                    "name": "prefixing patient id & visit id",

                    "sequenceNumber": 3,

                    "enabled": true,

                    "script": "// Präfixing der Patient ID mittels MSH4\n\nif(msg['MSH']['MSH.4']['MSH.4.1'].toString()=='WKH'){\n\t\ttmp['PID']['PID.2']['PID.2.1'] = msg['MSH']['MSH.4']['MSH.4.1'].toString()+msg['PID']['PID.2']['PID.2.1'].toString();\n\t\ttmp['PID']['PID.3']['PID.3.1'] = msg['MSH']['MSH.4']['MSH.4.1'].toString()+msg['PID']['PID.3']['PID.3.1'].toString();\n\t\n\t\n// Präfixing der Visit ID mittels MSH4\n\t\tif(msg['PV1']['PV1.19']['PV1.19.1'].toString().length>0){\n\t\ttmp['PV1']['PV1.19']['PV1.19.1'] = msg['MSH']['MSH.4']['MSH.4.1'].toString()+msg['PV1']['PV1.19']['PV1.19.1'].toString();\n\t}\n\n// Präfixing der Patient ID im MRG-Segment mittels MSH4\n\n\t\tif(msg['MRG']['MRG.1']['MRG.1.1'].toString().length>0){\n\t\ttmp['MRG']['MRG.1']['MRG.1.1'] = msg['MSH']['MSH.4']['MSH.4.1'].toString()+msg['MRG']['MRG.1']['MRG.1.1'].toString();\n\t}\n}"

                  },

                 {

                    "@version": "4.5.1",

                    "name": "adjust timestamps",

                    "sequenceNumber": 4,

                    "enabled": true,

                    "script": "// Verlängern des Timestamps in MSH für WKH\n\nif(msg['MSH']['MSH.4']['MSH.4.1'].toString()=='WKH'){\n\t\ttmp['MSH']['MSH.7']['MSH.7.1'] = msg['MSH']['MSH.7']['MSH.7.1'].toString()+'00';\n\n// Verlängern der Timestamps in EVN für WKH\n\t\t\n\t\ttmp['EVN']['EVN.2']['EVN.2.1'] = msg['EVN']['EVN.2']['EVN.2.1'].toString()+'00';\n\t\ttmp['EVN']['EVN.3']['EVN.3.1'] = msg['EVN']['EVN.3']['EVN.3.1'].toString()+'00';\n\t\t\n// Verlängern der Timestamps in PV1 für WKH\n\tif(msg['PV1']['PV1.44']['PV1.44.1'].toString().length>0){\n\t\ttmp['PV1']['PV1.44']['PV1.44.1'] = msg['PV1']['PV1.44']['PV1.44.1'].toString()+'00';\n\t}\n\tif(msg['PV1']['PV1.45']['PV1.45.1'].toString().length>0){\n\t\ttmp['PV1']['PV1.45']['PV1.45.1'] = msg['PV1']['PV1.45']['PV1.45.1'].toString()+'00';\n\t}\n\n}"

                  },

                  {

                    "@version": "4.5.1",

                    "name": "declare patient as an emergency patient",

                    "sequenceNumber": 5,

                    "enabled": true,

                    "script": "// so etwas tut man eigentlich nicht, es eilt aber ja leider\n\nif(msg['MSH']['MSH.4']['MSH.4.1'].toString()=='WKH'){\n\t\n\tif(msg['PV1']['PV1.3']['PV1.3.5'].toString() == 'I-NOTF' || msg['PV1']['PV1.3']['PV1.3.5'].toString() == 'SEEMANSAMBU' || msg['PV1']['PV1.3']['PV1.3.5'].toString() == 'D-ARZT'){\n\t\ttmp['PV1']['PV1.3']['PV1.3.1'] = 'NOTF';\n\t\t\n\t}\n}"

                  }

                ]

              },

              "inboundTemplate": {

                "@encoding": "base64"

              },

              "outboundTemplate": {

                "@encoding": "base64"

              },

              "inboundDataType": "HL7V2",

              "outboundDataType": "HL7V2",

              "inboundProperties": {

                "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties",

                "@version": "4.5.1",

                "serializationProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties",

                  "@version": "4.5.1",

                  "handleRepetitions": true,

                  "handleSubcomponents": true,

                  "useStrictParser": false,

                  "useStrictValidation": false,

                  "stripNamespaces": false,

                  "segmentDelimiter": "\\r",

                  "convertLineBreaks": true

                },

                "deserializationProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties",

                  "@version": "4.5.1",

                  "useStrictParser": false,

                  "useStrictValidation": false,

                  "segmentDelimiter": "\\r"

                },

                "batchProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties",

                  "@version": "4.5.1",

                  "splitType": "MSH_Segment",

                  "batchScript": null

                },

                "responseGenerationProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties",

                  "@version": "4.5.1",

                  "segmentDelimiter": "\\r",

                  "successfulACKCode": "AA",

                  "successfulACKMessage": null,

                  "errorACKCode": "AE",

                  "errorACKMessage": "An Error Occurred Processing Message.",

                  "rejectedACKCode": "AR",

                  "rejectedACKMessage": "Message Rejected.",

                  "msh15ACKAccept": false,

                  "dateFormat": "yyyyMMddHHmmss.SSS"

                },

                "responseValidationProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties",

                  "@version": "4.5.1",

                  "successfulACKCode": "AA,CA",

                  "errorACKCode": "AE,CE",

                  "rejectedACKCode": "AR,CR",

                  "validateMessageControlId": true,

                  "originalMessageControlId": "Destination_Encoded",

                  "originalIdMapVariable": null

                }

              },

              "outboundProperties": {

                "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties",

                "@version": "4.5.1",

                "serializationProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties",

                  "@version": "4.5.1",

                  "handleRepetitions": true,

                  "handleSubcomponents": true,

                  "useStrictParser": false,

                  "useStrictValidation": false,

                  "stripNamespaces": false,

                  "segmentDelimiter": "\\r",

                  "convertLineBreaks": true

                },

                "deserializationProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties",

                  "@version": "4.5.1",

                  "useStrictParser": false,

                  "useStrictValidation": false,

                  "segmentDelimiter": "\\r"

                },

                "batchProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties",

                  "@version": "4.5.1",

                  "splitType": "MSH_Segment",

                  "batchScript": null

                },

                "responseGenerationProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties",

                  "@version": "4.5.1",

                  "segmentDelimiter": "\\r",

                  "successfulACKCode": "AA",

                  "successfulACKMessage": null,

                  "errorACKCode": "AE",

                  "errorACKMessage": "An Error Occurred Processing Message.",

                  "rejectedACKCode": "AR",

                  "rejectedACKMessage": "Message Rejected.",

                  "msh15ACKAccept": false,

                  "dateFormat": "yyyyMMddHHmmss.SSS"

                },

                "responseValidationProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties",

                  "@version": "4.5.1",

                  "successfulACKCode": "AA,CA",

                  "errorACKCode": "AE,CE",

                  "rejectedACKCode": "AR,CR",

                  "validateMessageControlId": true,

                  "originalMessageControlId": "Destination_Encoded",

                  "originalIdMapVariable": null

                }

              }

            },

            "responseTransformer": {

              "@version": "4.5.1",

              "elements": null,

              "inboundDataType": "HL7V2",

              "outboundDataType": "HL7V2",

              "inboundProperties": {

                "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties",

                "@version": "4.5.1",

                "serializationProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties",

                  "@version": "4.5.1",

                  "handleRepetitions": true,

                  "handleSubcomponents": true,

                  "useStrictParser": false,

                  "useStrictValidation": false,

                  "stripNamespaces": false,

                  "segmentDelimiter": "\\r",

                  "convertLineBreaks": true

                },

                "deserializationProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties",

                  "@version": "4.5.1",

                  "useStrictParser": false,

                  "useStrictValidation": false,

                  "segmentDelimiter": "\\r"

                },

                "batchProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties",

                  "@version": "4.5.1",

                  "splitType": "MSH_Segment",

                  "batchScript": null

                },

                "responseGenerationProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties",

                  "@version": "4.5.1",

                  "segmentDelimiter": "\\r",

                  "successfulACKCode": "AA",

                  "successfulACKMessage": null,

                  "errorACKCode": "AE",

                  "errorACKMessage": "An Error Occurred Processing Message.",

                  "rejectedACKCode": "AR",

                  "rejectedACKMessage": "Message Rejected.",

                  "msh15ACKAccept": false,

                  "dateFormat": "yyyyMMddHHmmss.SSS"

                },

                "responseValidationProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties",

                  "@version": "4.5.1",

                  "successfulACKCode": "AA,CA",

                  "errorACKCode": "AE,CE",

                  "rejectedACKCode": "AR,CR",

                  "validateMessageControlId": true,

                  "originalMessageControlId": "Destination_Encoded",

                  "originalIdMapVariable": null

                }

              },

              "outboundProperties": {

                "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties",

                "@version": "4.5.1",

                "serializationProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties",

                  "@version": "4.5.1",

                  "handleRepetitions": true,

                  "handleSubcomponents": true,

                  "useStrictParser": false,

                  "useStrictValidation": false,

                  "stripNamespaces": false,

                  "segmentDelimiter": "\\r",

                  "convertLineBreaks": true

                },

                "deserializationProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties",

                  "@version": "4.5.1",

                  "useStrictParser": false,

                  "useStrictValidation": false,

                  "segmentDelimiter": "\\r"

                },

                "batchProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties",

                  "@version": "4.5.1",

                  "splitType": "MSH_Segment",

                  "batchScript": null

                },

                "responseGenerationProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties",

                  "@version": "4.5.1",

                  "segmentDelimiter": "\\r",

                  "successfulACKCode": "AA",

                  "successfulACKMessage": null,

                  "errorACKCode": "AE",

                  "errorACKMessage": "An Error Occurred Processing Message.",

                  "rejectedACKCode": "AR",

                  "rejectedACKMessage": "Message Rejected.",

                  "msh15ACKAccept": false,

                  "dateFormat": "yyyyMMddHHmmss.SSS"

                },

                "responseValidationProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties",

                  "@version": "4.5.1",

                  "successfulACKCode": "AA,CA",

                  "errorACKCode": "AE,CE",

                  "rejectedACKCode": "AR,CR",

                  "validateMessageControlId": true,

                  "originalMessageControlId": "Destination_Encoded",

                  "originalIdMapVariable": null

                }

              }

            },

            "filter": {

              "@version": "4.5.1",

              "elements": {

                "com.mirth.connect.plugins.rulebuilder.RuleBuilderRule": {

                  "@version": "4.5.1",

                  "name": "Accept message if \"msg['PV2']['PV2.12']['PV2.12.1'].toString()\" does not equal 'sma'",

                  "sequenceNumber": 0,

                  "enabled": true,

                  "field": "msg['PV2']['PV2.12']['PV2.12.1'].toString()",

                  "condition": "NOT_EQUAL",

                  "values": {

                    "string": "'sma'"

                  }

                }

              }

            },

           "transportName": "TCP Sender",

            "mode": "DESTINATION",

            "enabled": true,

            "waitForPrevious": true

          }

        },

        "preprocessingScript": "// Modify the message variable below to pre process data\nreturn message;",

        "postprocessingScript": "// This script executes once after a message has been processed\n// Responses returned from here will be stored as \"Postprocessor\" in the response map\nreturn;",

        "deployScript": "// This script executes once when the channel is deployed\n// You only have access to the globalMap and globalChannelMap here to persist data\nreturn;",

        "undeployScript": "// This script executes once when the channel is undeployed\n// You only have access to the globalMap and globalChannelMap here to persist data\nreturn;",

        "properties": {

          "@version": "4.5.1",

          "clearGlobalChannelMap": true,

          "messageStorageMode": "PRODUCTION",

          "encryptData": false,

          "encryptAttachments": false,

          "encryptCustomMetaData": false,

          "removeContentOnCompletion": false,

          "removeOnlyFilteredOnCompletion": false,

          "removeAttachmentsOnCompletion": false,

          "initialState": "STARTED",

          "storeAttachments": true,

          "metaDataColumns": {

            "metaDataColumn": [

              {

                "name": "SOURCE",

                "type": "STRING",

                "mappingName": "mirth_source"

              },

              {

                "name": "TYPE",

                "type": "STRING",

                "mappingName": "mirth_type"

              },

              {

                "name": "PAT_ID",

                "type": "STRING",

                "mappingName": "patientId"

              },

              {

                "name": "VISIT_ID",

                "type": "STRING",

                "mappingName": "visitId"

              }

            ]

          },

          "attachmentProperties": {

            "@version": "4.5.1",

            "type": "None",

            "properties": null

          },

          "resourceIds": {

            "@class": "linked-hash-map",

            "entry": {

              "string": [

                "Default Resource",

                "[Default Resource]"

              ]

            }

          }

        },

        "exportData": {

          "metadata": {

            "enabled": true,

            "lastModified": {

              "time": 1744629396317,

              "timezone": "Europe/Berlin"

            },

            "pruningSettings": {

              "pruneMetaDataDays": 31,

              "archiveEnabled": true,

              "pruneErroredMessages": false

            },

            "userId": 4

          },

          "dependentIds": null,

          "dependencyIds": null,

          "channelTags": null

        }

      },

      {

        "@version": "4.5.1",

        "id": "2461cfe1-a852-439a-8d56-31ad13e3fd8a",

        "nextMetaDataId": 2,

        "name": "C_AnsgarORU",

        "description": null,

        "revision": 3,

        "sourceConnector": {

          "@version": "4.5.1",

          "metaDataId": 0,

          "name": "sourceConnector",

          "properties": {

            "@class": "com.mirth.connect.connectors.tcp.TcpReceiverProperties",

            "@version": "4.5.1",

            "pluginProperties": null,

            "listenerConnectorProperties": {

              "@version": "4.5.1",

              "host": "0.0.0.0",

              "port": 8400

            },

            "sourceConnectorProperties": {

              "@version": "4.5.1",

              "responseVariable": "Auto-generate (After source transformer)",

              "respondAfterProcessing": true,

              "processBatch": false,

              "firstResponse": true,

              "processingThreads": 1,

              "resourceIds": {

                "@class": "linked-hash-map",

                "entry": {

                  "string": [

                    "Default Resource",

                    "[Default Resource]"

                  ]

                }

              },

              "queueBufferSize": 1000

            },

            "transmissionModeProperties": {

              "@class": "com.mirth.connect.plugins.mllpmode.MLLPModeProperties",

              "pluginPointName": "MLLP",

              "startOfMessageBytes": "0B",

              "endOfMessageBytes": "1C0D",

              "useMLLPv2": false,

              "ackBytes": "06",

              "nackBytes": 15,

              "maxRetries": 2

            },

            "serverMode": true,

            "remoteAddress": null,

            "remotePort": null,

            "overrideLocalBinding": false,

            "reconnectInterval": 5000,

            "receiveTimeout": 0,

            "bufferSize": 65536,

            "maxConnections": 10,

            "keepConnectionOpen": true,

            "dataTypeBinary": false,

            "charsetEncoding": "ISO-8859-15",

            "respondOnNewConnection": 0,

            "responseAddress": null,

            "responsePort": null

          },

          "transformer": {

            "@version": "4.5.1",

            "elements": null,

            "inboundDataType": "HL7V2",

            "outboundDataType": "HL7V2",

            "inboundProperties": {

              "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties",

              "@version": "4.5.1",

              "serializationProperties": {

                "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties",

                "@version": "4.5.1",

                "handleRepetitions": true,

                "handleSubcomponents": true,

                "useStrictParser": false,

                "useStrictValidation": false,

                "stripNamespaces": false,

                "segmentDelimiter": "\\r",

                "convertLineBreaks": true

              },

              "deserializationProperties": {

                "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties",

                "@version": "4.5.1",

                "useStrictParser": false,

                "useStrictValidation": false,

                "segmentDelimiter": "\\r"

              },

              "batchProperties": {

                "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties",

                "@version": "4.5.1",

                "splitType": "MSH_Segment",

                "batchScript": null

              },

              "responseGenerationProperties": {

                "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties",

                "@version": "4.5.1",

                "segmentDelimiter": "\\r",

                "successfulACKCode": "AA",

                "successfulACKMessage": null,

                "errorACKCode": "AE",

                "errorACKMessage": "An Error Occurred Processing Message.",

                "rejectedACKCode": "AR",

                "rejectedACKMessage": "Message Rejected.",

                "msh15ACKAccept": false,

                "dateFormat": "yyyyMMddHHmmss.SSS"

              },

              "responseValidationProperties": {

                "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties",

                "@version": "4.5.1",

                "successfulACKCode": "AA,CA",

                "errorACKCode": "AE,CE",

                "rejectedACKCode": "AR,CR",

                "validateMessageControlId": true,

                "originalMessageControlId": "Destination_Encoded",

                "originalIdMapVariable": null

              }

            },

            "outboundProperties": {

              "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties",

              "@version": "4.5.1",

              "serializationProperties": {

                "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties",

                "@version": "4.5.1",

                "handleRepetitions": true,

                "handleSubcomponents": true,

                "useStrictParser": false,

                "useStrictValidation": false,

                "stripNamespaces": false,

                "segmentDelimiter": "\\r",

                "convertLineBreaks": true

              },

              "deserializationProperties": {

                "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties",

                "@version": "4.5.1",

                "useStrictParser": false,

                "useStrictValidation": false,

                "segmentDelimiter": "\\r"

              },

              "batchProperties": {

                "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties",

                "@version": "4.5.1",

                "splitType": "MSH_Segment",

                "batchScript": null

              },

              "responseGenerationProperties": {

                "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties",

                "@version": "4.5.1",

                "segmentDelimiter": "\\r",

                "successfulACKCode": "AA",

                "successfulACKMessage": null,

                "errorACKCode": "AE",

                "errorACKMessage": "An Error Occurred Processing Message.",

                "rejectedACKCode": "AR",

                "rejectedACKMessage": "Message Rejected.",

                "msh15ACKAccept": false,

                "dateFormat": "yyyyMMddHHmmss.SSS"

              },

              "responseValidationProperties": {

                "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties",

                "@version": "4.5.1",

                "successfulACKCode": "AA,CA",

                "errorACKCode": "AE,CE",

                "rejectedACKCode": "AR,CR",

                "validateMessageControlId": true,

                "originalMessageControlId": "Destination_Encoded",

                "originalIdMapVariable": null

              }

            }

          },

          "filter": {

            "@version": "4.5.1",

            "elements": null

          },

          "transportName": "TCP Listener",

          "mode": "SOURCE",

          "enabled": true,

          "waitForPrevious": true

        },

        "destinationConnectors": {

          "connector": {

            "@version": "4.5.1",

            "metaDataId": 1,

            "name": "KGS_RisOruFileWriter",

            "properties": {

              "@class": "com.mirth.connect.connectors.file.FileDispatcherProperties",

              "@version": "4.5.1",

              "pluginProperties": null,

              "destinationConnectorProperties": {

                "@version": "4.5.1",

                "queueEnabled": true,

                "sendFirst": false,

                "retryIntervalMillis": 10000,

                "regenerateTemplate": false,

                "retryCount": 0,

                "rotate": false,

                "includeFilterTransformer": false,

                "threadCount": 1,

                "threadAssignmentVariable": null,

                "validateResponse": false,

                "resourceIds": {

                  "@class": "linked-hash-map",

                  "entry": {

                    "string": [

                      "Default Resource",

                      "[Default Resource]"

                    ]

                  }

                },

                "queueBufferSize": 1000,

                "reattachAttachments": true

              },

              "scheme": "SMB",

              "schemeProperties": {

                "@class": "com.mirth.connect.connectors.file.SmbSchemeProperties",

                "smbMinVersion": "SMB202",

                "smbMaxVersion": "SMB311"

              },

              "host": "172.16.126.3/kgs-mkh-pacs/RIS-Befunde (MKH)",

              "outputPattern": "${fname}.txt",

              "anonymous": false,

              "username": "gross-sand.local\\kgsmkhpacs",

              "password": "anonymous",

              "timeout": 10000,

              "keepConnectionOpen": true,

              "maxIdleTime": 0,

              "secure": true,

              "passive": true,

              "validateConnection": true,

              "outputAppend": true,

              "errorOnExists": false,

              "temporary": false,

              "binary": false,

              "charsetEncoding": "DEFAULT_ENCODING",

              "template": "${message.encodedData}"

            },

            "transformer": {

              "@version": "4.5.1",

              "elements": {

                "com.mirth.connect.plugins.javascriptstep.JavaScriptStep": [

                  {

                    "@version": "4.5.1",

                    "name": "Filename",

                    "sequenceNumber": 0,

                    "enabled": true,

                    "script": "//var fname = msg['MSH']['MSH.10']['MSH.10.1'].toString() + connectorMessage.getMessageId();\nvar fname = \t\"RadMKH_\" + \n\t\t\tmsg['PID']['PID.3']['PID.3.1'].toString() + '_' +\n\t\t\tmsg['PID']['PID.5']['PID.5.1'].toString() + '_' +\n\t\t\tmsg['MSH']['MSH.10']['MSH.10.1'].toString();\n\nchannelMap.put('fname',fname);"

                  },

                  {

                    "@version": "4.5.1",

                    "name": "Textbefund",

                    "sequenceNumber": 1,

                    "enabled": true,

                    "script": "var textbefund = \"Pat.Name: \" + msg['PID']['PID.5']['PID.5.1'].toString() + \", \" + msg['PID']['PID.5']['PID.5.2'].toString() + \"\\r\\n\";\ntextbefund += \"Geb.Datum: \" + DateUtil.convertDate(\"yyyyMMdd\", \"dd.MM.yyyy\", msg['PID']['PID.7']['PID.7.1'].toString()) + \"\\r\\n\";\ntextbefund += \"Datum: \" + DateUtil.convertDate(\"yyyyMMddHHmmss\", \"dd.MM.yyyy\", msg['MSH']['MSH.7']['MSH.7.1'].toString()) + \"\\r\\n\";\ntextbefund += \"Anf. Fachr./Stat.: \" + msg['OBR']['OBR.4']['OBR.4.1'].toString() + \"\\r\\n\";\ntextbefund += \"KIS PAT ID: \" + msg['PID']['PID.3']['PID.3.1'].toString() + \"\\r\\n\"\ntextbefund += \"Maßnahmen ID: \" + msg['OBR']['OBR.3']['OBR.3.1'].toString() + \"\\r\\n\";\ntextbefund += msg['OBX']['OBX.5']['OBX.5.1'].toString().replace(/\\\\.br\\\\/g, \"\\r\\n\").replace(/\\\\.in\\+0\\\\/g, \"\").replace(/\\\\.in-0\\\\/g, \"\");\ntextbefund += msg['OBR']['OBR.32']['OBR.32.1']['OBR.32.1.6'].toString() + \" \" + msg['OBR']['OBR.32']['OBR.32.1']['OBR.32.1.3'].toString() + \" \" + msg['OBR']['OBR.32']['OBR.32.1']['OBR.32.1.2'].toString() + \"\\r\\n\";\n\nmsg = textbefund;\n\n/*\nPat.Name : Sonnenschein, Sonja\nDatum: 08.12.2020/Zeile\nGeb.Datum : 01.01.1955\nAnf. Fachr./Stat.: FREMD_KGS\nKIS PAT ID : KGS_1183046\nMaßnahmen ID: CRIS1353527\n\nFreitext\n*/"

                  }

                ]

              },

              "inboundTemplate": {

                "@encoding": "base64"

              },

              "outboundTemplate": {

                "@encoding": "base64"

              },

              "inboundDataType": "HL7V2",

              "outboundDataType": "HL7V2",

              "inboundProperties": {

                "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties",

                "@version": "4.5.1",

                "serializationProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties",

                  "@version": "4.5.1",

                  "handleRepetitions": true,

                  "handleSubcomponents": true,

                  "useStrictParser": false,

                  "useStrictValidation": false,

                  "stripNamespaces": false,

                  "segmentDelimiter": "\\r",

                  "convertLineBreaks": true

                },

                "deserializationProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties",

                  "@version": "4.5.1",

                  "useStrictParser": false,

                  "useStrictValidation": false,

                  "segmentDelimiter": "\\r"

                },

                "batchProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties",

                  "@version": "4.5.1",

                  "splitType": "MSH_Segment",

                  "batchScript": null

                },

                "responseGenerationProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties",

                  "@version": "4.5.1",

                  "segmentDelimiter": "\\r",

                  "successfulACKCode": "AA",

                  "successfulACKMessage": null,

                  "errorACKCode": "AE",

                  "errorACKMessage": "An Error Occurred Processing Message.",

                  "rejectedACKCode": "AR",

                  "rejectedACKMessage": "Message Rejected.",

                  "msh15ACKAccept": false,

                  "dateFormat": "yyyyMMddHHmmss.SSS"

                },

                "responseValidationProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties",

                  "@version": "4.5.1",

                  "successfulACKCode": "AA,CA",

                  "errorACKCode": "AE,CE",

                  "rejectedACKCode": "AR,CR",

                  "validateMessageControlId": true,

                  "originalMessageControlId": "Destination_Encoded",

                  "originalIdMapVariable": null

                }

              },

              "outboundProperties": {

                "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties",

                "@version": "4.5.1",

                "serializationProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties",

                  "@version": "4.5.1",

                  "handleRepetitions": true,

                  "handleSubcomponents": true,

                  "useStrictParser": false,

                  "useStrictValidation": false,

                  "stripNamespaces": false,

                  "segmentDelimiter": "\\r",

                  "convertLineBreaks": true

                },

                "deserializationProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties",

                  "@version": "4.5.1",

                  "useStrictParser": false,

                  "useStrictValidation": false,

                  "segmentDelimiter": "\\r"

                },

                "batchProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties",

                  "@version": "4.5.1",

                  "splitType": "MSH_Segment",

                  "batchScript": null

                },

                "responseGenerationProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties",

                  "@version": "4.5.1",

                  "segmentDelimiter": "\\r",

                  "successfulACKCode": "AA",

                  "successfulACKMessage": null,

                  "errorACKCode": "AE",

                  "errorACKMessage": "An Error Occurred Processing Message.",

                  "rejectedACKCode": "AR",

                  "rejectedACKMessage": "Message Rejected.",

                  "msh15ACKAccept": false,

                  "dateFormat": "yyyyMMddHHmmss.SSS"

                },

                "responseValidationProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties",

                  "@version": "4.5.1",

                  "successfulACKCode": "AA,CA",

                  "errorACKCode": "AE,CE",

                  "rejectedACKCode": "AR,CR",

                  "validateMessageControlId": true,

                  "originalMessageControlId": "Destination_Encoded",

                  "originalIdMapVariable": null

                }

              }

            },

            "responseTransformer": {

              "@version": "4.5.1",

              "elements": null,

              "inboundDataType": "HL7V2",

              "outboundDataType": "HL7V2",

              "inboundProperties": {

                "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties",

                "@version": "4.5.1",

                "serializationProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties",

                  "@version": "4.5.1",

                  "handleRepetitions": true,

                  "handleSubcomponents": true,

                  "useStrictParser": false,

                  "useStrictValidation": false,

                  "stripNamespaces": false,

                  "segmentDelimiter": "\\r",

                  "convertLineBreaks": true

                },

                "deserializationProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties",

                  "@version": "4.5.1",

                  "useStrictParser": false,

                  "useStrictValidation": false,

                  "segmentDelimiter": "\\r"

                },

                "batchProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties",

                  "@version": "4.5.1",

                  "splitType": "MSH_Segment",

                  "batchScript": null

                },

                "responseGenerationProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties",

                  "@version": "4.5.1",

                  "segmentDelimiter": "\\r",

                  "successfulACKCode": "AA",

                  "successfulACKMessage": null,

                  "errorACKCode": "AE",

                  "errorACKMessage": "An Error Occurred Processing Message.",

                  "rejectedACKCode": "AR",

                  "rejectedACKMessage": "Message Rejected.",

                  "msh15ACKAccept": false,

                  "dateFormat": "yyyyMMddHHmmss.SSS"

                },

                "responseValidationProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties",

                  "@version": "4.5.1",

                  "successfulACKCode": "AA,CA",

                  "errorACKCode": "AE,CE",

                  "rejectedACKCode": "AR,CR",

                  "validateMessageControlId": true,

                  "originalMessageControlId": "Destination_Encoded",

                  "originalIdMapVariable": null

                }

              },

              "outboundProperties": {

                "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties",

                "@version": "4.5.1",

                "serializationProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties",

                  "@version": "4.5.1",

                  "handleRepetitions": true,

                  "handleSubcomponents": true,

                  "useStrictParser": false,

                  "useStrictValidation": false,

                  "stripNamespaces": false,

                  "segmentDelimiter": "\\r",

                  "convertLineBreaks": true

                },

                "deserializationProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties",

                  "@version": "4.5.1",

                  "useStrictParser": false,

                  "useStrictValidation": false,

                  "segmentDelimiter": "\\r"

                },

                "batchProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties",

                  "@version": "4.5.1",

                  "splitType": "MSH_Segment",

                  "batchScript": null

                },

                "responseGenerationProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties",

                  "@version": "4.5.1",

                  "segmentDelimiter": "\\r",

                  "successfulACKCode": "AA",

                  "successfulACKMessage": null,

                  "errorACKCode": "AE",

                  "errorACKMessage": "An Error Occurred Processing Message.",

                  "rejectedACKCode": "AR",

                  "rejectedACKMessage": "Message Rejected.",

                  "msh15ACKAccept": false,

                  "dateFormat": "yyyyMMddHHmmss.SSS"

                },

                "responseValidationProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties",

                  "@version": "4.5.1",

                  "successfulACKCode": "AA,CA",

                  "errorACKCode": "AE,CE",

                  "rejectedACKCode": "AR,CR",

                  "validateMessageControlId": true,

                  "originalMessageControlId": "Destination_Encoded",

                  "originalIdMapVariable": null

                }

              }

            },

            "filter": {

              "@version": "4.5.1",

              "elements": null

            },

            "transportName": "File Writer",

            "mode": "DESTINATION",

            "enabled": true,

            "waitForPrevious": true

          }

        },

        "preprocessingScript": "// Modify the message variable below to pre process data\nreturn message;",

        "postprocessingScript": "// This script executes once after a message has been processed\n// Responses returned from here will be stored as \"Postprocessor\" in the response map\nreturn;",

        "deployScript": "// This script executes once when the channel is deployed\n// You only have access to the globalMap and globalChannelMap here to persist data\nreturn;",

        "undeployScript": "// This script executes once when the channel is undeployed\n// You only have access to the globalMap and globalChannelMap here to persist data\nreturn;",

        "properties": {

          "@version": "4.5.1",

          "clearGlobalChannelMap": true,

          "messageStorageMode": "PRODUCTION",

          "encryptData": false,

          "encryptAttachments": false,

          "encryptCustomMetaData": false,

          "removeContentOnCompletion": false,

          "removeOnlyFilteredOnCompletion": false,

          "removeAttachmentsOnCompletion": false,

          "initialState": "STARTED",

          "storeAttachments": true,

          "metaDataColumns": {

            "metaDataColumn": [

              {

                "name": "SOURCE",

                "type": "STRING",

                "mappingName": "mirth_source"

              },

              {

                "name": "TYPE",

                "type": "STRING",

                "mappingName": "mirth_type"

              }

            ]

          },

          "attachmentProperties": {

            "@version": "4.5.1",

            "type": "None",

            "properties": null

          },

          "resourceIds": {

            "@class": "linked-hash-map",

            "entry": {

              "string": [

                "Default Resource",

                "[Default Resource]"

              ]

            }

          }

        },

        "exportData": {

          "metadata": {

            "enabled": false,

            "lastModified": {

              "time": 1732783947805,

              "timezone": "Europe/Berlin"

            },

            "pruningSettings": {

              "pruneMetaDataDays": 31,

              "archiveEnabled": true,

              "pruneErroredMessages": false

            },

            "userId": 2

          },

          "dependentIds": null,

          "dependencyIds": null,

          "channelTags": null

        }

      },

      {

        "@version": "4.5.1",

        "id": "61c7deea-7bed-462c-9f75-f9030b9f16a2",

        "nextMetaDataId": 2,

        "name": "C_FremdADT",

        "description": null,

        "revision": 2,

        "sourceConnector": {

          "@version": "4.5.1",

          "metaDataId": 0,

          "name": "sourceConnector",

          "properties": {

            "@class": "com.mirth.connect.connectors.tcp.TcpReceiverProperties",

            "@version": "4.5.1",

            "pluginProperties": null,

            "listenerConnectorProperties": {

              "@version": "4.5.1",

              "host": "0.0.0.0",

              "port": 7000

            },

            "sourceConnectorProperties": {

              "@version": "4.5.1",

              "responseVariable": "Auto-generate (After source transformer)",

              "respondAfterProcessing": true,

              "processBatch": false,

              "firstResponse": true,

              "processingThreads": 1,

              "resourceIds": {

                "@class": "linked-hash-map",

                "entry": {

                  "string": [

                    "Default Resource",

                    "[Default Resource]"

                  ]

                }

              },

              "queueBufferSize": 1000

            },

            "transmissionModeProperties": {

              "@class": "com.mirth.connect.plugins.mllpmode.MLLPModeProperties",

              "pluginPointName": "MLLP",

              "startOfMessageBytes": "0B",

              "endOfMessageBytes": "1C0D",

              "useMLLPv2": false,

              "ackBytes": "06",

              "nackBytes": 15,

              "maxRetries": 2

            },

            "serverMode": true,

            "remoteAddress": null,

            "remotePort": null,

            "overrideLocalBinding": false,

            "reconnectInterval": 5000,

            "receiveTimeout": 0,

            "bufferSize": 65536,

            "maxConnections": 1025,

            "keepConnectionOpen": true,

            "dataTypeBinary": false,

            "charsetEncoding": "DEFAULT_ENCODING",

            "respondOnNewConnection": 0,

            "responseAddress": null,

            "responsePort": null

          },

          "transformer": {

            "@version": "4.5.1",

            "elements": null,

            "inboundDataType": "HL7V2",

            "outboundDataType": "HL7V2",

            "inboundProperties": {

              "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties",

              "@version": "4.5.1",

              "serializationProperties": {

                "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties",

                "@version": "4.5.1",

                "handleRepetitions": true,

                "handleSubcomponents": true,

                "useStrictParser": false,

                "useStrictValidation": false,

                "stripNamespaces": false,

                "segmentDelimiter": "\\r",

                "convertLineBreaks": true

              },

              "deserializationProperties": {

                "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties",

                "@version": "4.5.1",

                "useStrictParser": false,

                "useStrictValidation": false,

                "segmentDelimiter": "\\r"

              },

              "batchProperties": {

                "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties",

                "@version": "4.5.1",

                "splitType": "MSH_Segment",

                "batchScript": null

              },

              "responseGenerationProperties": {

                "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties",

                "@version": "4.5.1",

                "segmentDelimiter": "\\r",

                "successfulACKCode": "AA",

                "successfulACKMessage": null,

                "errorACKCode": "AE",

                "errorACKMessage": "An Error Occurred Processing Message.",

                "rejectedACKCode": "AR",

                "rejectedACKMessage": "Message Rejected.",

                "msh15ACKAccept": false,

                "dateFormat": "yyyyMMddHHmmss.SSS"

              },

              "responseValidationProperties": {

                "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties",

                "@version": "4.5.1",

                "successfulACKCode": "AA,CA",

                "errorACKCode": "AE,CE",

                "rejectedACKCode": "AR,CR",

                "validateMessageControlId": true,

                "originalMessageControlId": "Destination_Encoded",

                "originalIdMapVariable": null

              }

            },

            "outboundProperties": {

              "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties",

              "@version": "4.5.1",

              "serializationProperties": {

                "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties",

                "@version": "4.5.1",

                "handleRepetitions": true,

                "handleSubcomponents": true,

                "useStrictParser": false,

                "useStrictValidation": false,

                "stripNamespaces": false,

                "segmentDelimiter": "\\r",

                "convertLineBreaks": true

              },

              "deserializationProperties": {

                "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties",

                "@version": "4.5.1",

                "useStrictParser": false,

                "useStrictValidation": false,

                "segmentDelimiter": "\\r"

              },

              "batchProperties": {

                "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties",

                "@version": "4.5.1",

                "splitType": "MSH_Segment",

                "batchScript": null

              },

              "responseGenerationProperties": {

                "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties",

                "@version": "4.5.1",

                "segmentDelimiter": "\\r",

                "successfulACKCode": "AA",

                "successfulACKMessage": null,

                "errorACKCode": "AE",

                "errorACKMessage": "An Error Occurred Processing Message.",

                "rejectedACKCode": "AR",

                "rejectedACKMessage": "Message Rejected.",

                "msh15ACKAccept": false,

                "dateFormat": "yyyyMMddHHmmss.SSS"

              },

              "responseValidationProperties": {

                "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties",

                "@version": "4.5.1",

                "successfulACKCode": "AA,CA",

                "errorACKCode": "AE,CE",

                "rejectedACKCode": "AR,CR",

                "validateMessageControlId": true,

                "originalMessageControlId": "Destination_Encoded",

                "originalIdMapVariable": null

              }

            }

          },

          "filter": {

            "@version": "4.5.1",

            "elements": null

          },

          "transportName": "TCP Listener",

          "mode": "SOURCE",

          "enabled": true,

          "waitForPrevious": true

        },

        "destinationConnectors": {

          "connector": {

            "@version": "4.5.1",

            "metaDataId": 1,

            "name": "ix.serv",

            "properties": {

              "@class": "com.mirth.connect.connectors.tcp.TcpDispatcherProperties",

              "@version": "4.5.1",

              "pluginProperties": null,

              "destinationConnectorProperties": {

                "@version": "4.5.1",

                "queueEnabled": true,

                "sendFirst": false,

                "retryIntervalMillis": 10000,

                "regenerateTemplate": false,

                "retryCount": 0,

                "rotate": false,

                "includeFilterTransformer": false,

                "threadCount": 1,

                "threadAssignmentVariable": null,

                "validateResponse": true,

                "resourceIds": {

                  "@class": "linked-hash-map",

                  "entry": {

                    "string": [

                      "Default Resource",

                      "[Default Resource]"

                    ]

                  }

                },

                "queueBufferSize": 1000,

                "reattachAttachments": true

              },

              "transmissionModeProperties": {

                "@class": "com.mirth.connect.plugins.mllpmode.MLLPModeProperties",

                "pluginPointName": "MLLP",

                "startOfMessageBytes": "0B",

                "endOfMessageBytes": "1C0D",

                "useMLLPv2": false,

                "ackBytes": "06",

                "nackBytes": 15,

                "maxRetries": 2

              },

              "serverMode": false,

              "remoteAddress": "ixserv",

              "remotePort": 10010,

              "overrideLocalBinding": false,

              "localAddress": "0.0.0.0",

              "localPort": 0,

              "sendTimeout": 5000,

              "bufferSize": 65536,

              "maxConnections": 10,

              "keepConnectionOpen": true,

              "checkRemoteHost": true,

              "responseTimeout": 5000,

              "ignoreResponse": false,

              "queueOnResponseTimeout": true,

              "dataTypeBinary": false,

              "charsetEncoding": "ISO-8859-15",

              "template": "${message.encodedData}"

            },

            "transformer": {

              "@version": "4.5.1",

              "elements": null,

              "inboundTemplate": {

                "@encoding": "base64"

              },

              "inboundDataType": "HL7V2",

              "outboundDataType": "HL7V2",

              "inboundProperties": {

                "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties",

                "@version": "4.5.1",

                "serializationProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties",

                  "@version": "4.5.1",

                  "handleRepetitions": true,

                  "handleSubcomponents": true,

                  "useStrictParser": false,

                  "useStrictValidation": false,

                  "stripNamespaces": false,

                  "segmentDelimiter": "\\r",

                  "convertLineBreaks": true

                },

                "deserializationProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties",

                  "@version": "4.5.1",

                  "useStrictParser": false,

                  "useStrictValidation": false,

                  "segmentDelimiter": "\\r"

                },

                "batchProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties",

                  "@version": "4.5.1",

                  "splitType": "MSH_Segment",

                  "batchScript": null

                },

                "responseGenerationProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties",

                  "@version": "4.5.1",

                  "segmentDelimiter": "\\r",

                  "successfulACKCode": "AA",

                  "successfulACKMessage": null,

                  "errorACKCode": "AE",

                  "errorACKMessage": "An Error Occurred Processing Message.",

                  "rejectedACKCode": "AR",

                  "rejectedACKMessage": "Message Rejected.",

                  "msh15ACKAccept": false,

                  "dateFormat": "yyyyMMddHHmmss.SSS"

                },

                "responseValidationProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties",

                  "@version": "4.5.1",

                  "successfulACKCode": "AA,CA",

                  "errorACKCode": "AE,CE",

                  "rejectedACKCode": "AR,CR",

                  "validateMessageControlId": true,

                  "originalMessageControlId": "Destination_Encoded",

                  "originalIdMapVariable": null

                }

              },

              "outboundProperties": {

                "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties",

                "@version": "4.5.1",

                "serializationProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties",

                  "@version": "4.5.1",

                  "handleRepetitions": true,

                  "handleSubcomponents": true,

                  "useStrictParser": false,

                  "useStrictValidation": false,

                  "stripNamespaces": false,

                  "segmentDelimiter": "\\r",

                  "convertLineBreaks": true

                },

                "deserializationProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties",

                  "@version": "4.5.1",

                  "useStrictParser": false,

                  "useStrictValidation": false,

                  "segmentDelimiter": "\\r"

                },

                "batchProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties",

                  "@version": "4.5.1",

                  "splitType": "MSH_Segment",

                  "batchScript": null

                },

                "responseGenerationProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties",

                  "@version": "4.5.1",

                  "segmentDelimiter": "\\r",

                  "successfulACKCode": "AA",

                  "successfulACKMessage": null,

                  "errorACKCode": "AE",

                  "errorACKMessage": "An Error Occurred Processing Message.",

                  "rejectedACKCode": "AR",

                  "rejectedACKMessage": "Message Rejected.",

                  "msh15ACKAccept": false,

                  "dateFormat": "yyyyMMddHHmmss.SSS"

                },

                "responseValidationProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties",

                  "@version": "4.5.1",

                  "successfulACKCode": "AA,CA",

                  "errorACKCode": "AE,CE",

                  "rejectedACKCode": "AR,CR",

                  "validateMessageControlId": true,

                  "originalMessageControlId": "Destination_Encoded",

                  "originalIdMapVariable": null

                }

              }

            },

            "responseTransformer": {

              "@version": "4.5.1",

              "elements": null,

              "inboundDataType": "HL7V2",

              "outboundDataType": "HL7V2",

              "inboundProperties": {

                "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties",

                "@version": "4.5.1",

                "serializationProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties",

                  "@version": "4.5.1",

                  "handleRepetitions": true,

                  "handleSubcomponents": true,

                  "useStrictParser": false,

                  "useStrictValidation": false,

                  "stripNamespaces": false,

                  "segmentDelimiter": "\\r",

                  "convertLineBreaks": true

                },

                "deserializationProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties",

                  "@version": "4.5.1",

                  "useStrictParser": false,

                  "useStrictValidation": false,

                  "segmentDelimiter": "\\r"

                },

                "batchProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties",

                  "@version": "4.5.1",

                  "splitType": "MSH_Segment",

                  "batchScript": null

                },

                "responseGenerationProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties",

                  "@version": "4.5.1",

                  "segmentDelimiter": "\\r",

                  "successfulACKCode": "AA",

                  "successfulACKMessage": null,

                  "errorACKCode": "AE",

                  "errorACKMessage": "An Error Occurred Processing Message.",

                  "rejectedACKCode": "AR",

                  "rejectedACKMessage": "Message Rejected.",

                  "msh15ACKAccept": false,

                  "dateFormat": "yyyyMMddHHmmss.SSS"

                },

                "responseValidationProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties",

                  "@version": "4.5.1",

                  "successfulACKCode": "AA,CA",

                  "errorACKCode": "AE,CE",

                  "rejectedACKCode": "AR,CR",

                  "validateMessageControlId": true,

                  "originalMessageControlId": "Destination_Encoded",

                  "originalIdMapVariable": null

                }

              },

              "outboundProperties": {

                "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties",

                "@version": "4.5.1",

                "serializationProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties",

                  "@version": "4.5.1",

                  "handleRepetitions": true,

                  "handleSubcomponents": true,

                  "useStrictParser": false,

                  "useStrictValidation": false,

                  "stripNamespaces": false,

                  "segmentDelimiter": "\\r",

                  "convertLineBreaks": true

                },

                "deserializationProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties",

                  "@version": "4.5.1",

                  "useStrictParser": false,

                  "useStrictValidation": false,

                  "segmentDelimiter": "\\r"

                },

                "batchProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties",

                  "@version": "4.5.1",

                  "splitType": "MSH_Segment",

                  "batchScript": null

                },

                "responseGenerationProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties",

                  "@version": "4.5.1",

                  "segmentDelimiter": "\\r",

                  "successfulACKCode": "AA",

                  "successfulACKMessage": null,

                  "errorACKCode": "AE",

                  "errorACKMessage": "An Error Occurred Processing Message.",

                  "rejectedACKCode": "AR",

                  "rejectedACKMessage": "Message Rejected.",

                  "msh15ACKAccept": false,

                  "dateFormat": "yyyyMMddHHmmss.SSS"

                },

                "responseValidationProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties",

                  "@version": "4.5.1",

                  "successfulACKCode": "AA,CA",

                  "errorACKCode": "AE,CE",

                  "rejectedACKCode": "AR,CR",

                  "validateMessageControlId": true,

                  "originalMessageControlId": "Destination_Encoded",

                  "originalIdMapVariable": null

                }

              }

            },

            "filter": {

              "@version": "4.5.1",

              "elements": {

                "com.mirth.connect.plugins.rulebuilder.RuleBuilderRule": {

                  "@version": "4.5.1",

                  "name": "Accept message if \"msg['MSH']['MSH.4']['MSH.4.1'].toString()\" equals 'DKH'",

                  "sequenceNumber": 0,

                  "enabled": true,

                  "field": "msg['MSH']['MSH.4']['MSH.4.1'].toString()",

                  "condition": "EQUALS",

                  "values": {

                    "string": "'DKH'"

                  }

                }

              }

            },

            "transportName": "TCP Sender",

            "mode": "DESTINATION",

            "enabled": true,

            "waitForPrevious": true

          }

        },

        "preprocessingScript": "// Modify the message variable below to pre process data\nreturn message;",

        "postprocessingScript": "// This script executes once after a message has been processed\n// Responses returned from here will be stored as \"Postprocessor\" in the response map\nreturn;",

        "deployScript": "// This script executes once when the channel is deployed\n// You only have access to the globalMap and globalChannelMap here to persist data\nreturn;",

        "undeployScript": "// This script executes once when the channel is undeployed\n// You only have access to the globalMap and globalChannelMap here to persist data\nreturn;",

        "properties": {

          "@version": "4.5.1",

          "clearGlobalChannelMap": true,

          "messageStorageMode": "PRODUCTION",

          "encryptData": false,

          "encryptAttachments": false,

          "encryptCustomMetaData": false,

          "removeContentOnCompletion": false,

          "removeOnlyFilteredOnCompletion": false,

          "removeAttachmentsOnCompletion": false,

          "initialState": "STARTED",

          "storeAttachments": true,

          "metaDataColumns": {

            "metaDataColumn": [

              {

                "name": "SOURCE",

                "type": "STRING",

                "mappingName": "mirth_source"

              },

              {

                "name": "TYPE",

                "type": "STRING",

                "mappingName": "mirth_type"

              },

              {

                "name": "PAT_ID",

                "type": "STRING",

                "mappingName": "patientId"

              },

              {

                "name": "VISIT_ID",

                "type": "STRING",

                "mappingName": "visitId"

              }

            ]

          },

          "attachmentProperties": {

            "@version": "4.5.1",

            "type": "None",

            "properties": null

          },

          "resourceIds": {

            "@class": "linked-hash-map",

            "entry": {

              "string": [

                "Default Resource",

                "[Default Resource]"

              ]

            }

          }

        },

        "exportData": {

          "metadata": {

            "enabled": false,

            "lastModified": {

              "time": 1744615322160,

              "timezone": "Europe/Berlin"

            },

            "pruningSettings": {

              "pruneMetaDataDays": 31,

              "archiveEnabled": true,

              "pruneErroredMessages": false

            },

            "userId": 2

          },

          "dependentIds": null,

          "dependencyIds": null,

          "channelTags": null

        }

      },

      {

        "@version": "4.5.1",

        "id": "097855a1-9821-4a4c-9387-eea3e46a8207",

        "nextMetaDataId": 2,

        "name": "C_FremdORU",

        "description": null,

        "revision": 2,

        "sourceConnector": {

          "@version": "4.5.1",

          "metaDataId": 0,

          "name": "sourceConnector",

          "properties": {

            "@class": "com.mirth.connect.connectors.tcp.TcpReceiverProperties",

            "@version": "4.5.1",

            "pluginProperties": null,

            "listenerConnectorProperties": {

              "@version": "4.5.1",

              "host": "0.0.0.0",

              "port": 7400

            },

            "sourceConnectorProperties": {

              "@version": "4.5.1",

              "responseVariable": "Auto-generate (After source transformer)",

              "respondAfterProcessing": true,

              "processBatch": false,

              "firstResponse": true,

              "processingThreads": 1,

              "resourceIds": {

                "@class": "linked-hash-map",

                "entry": {

                  "string": [

                    "Default Resource",

                    "[Default Resource]"

                  ]

                }

              },

              "queueBufferSize": 1000

            },

            "transmissionModeProperties": {

              "@class": "com.mirth.connect.plugins.mllpmode.MLLPModeProperties",

              "pluginPointName": "MLLP",

              "startOfMessageBytes": "0B",

              "endOfMessageBytes": "1C0D",

              "useMLLPv2": false,

              "ackBytes": "06",

              "nackBytes": 15,

              "maxRetries": 2

            },

            "serverMode": true,

            "remoteAddress": null,

            "remotePort": null,

            "overrideLocalBinding": false,

            "reconnectInterval": 5000,

            "receiveTimeout": 0,

            "bufferSize": 65536,

            "maxConnections": 10,

            "keepConnectionOpen": true,

            "dataTypeBinary": false,

            "charsetEncoding": "ISO-8859-15",

            "respondOnNewConnection": 0,

            "responseAddress": null,

            "responsePort": null

          },

          "transformer": {

            "@version": "4.5.1",

            "elements": null,

            "inboundDataType": "HL7V2",

            "outboundDataType": "HL7V2",

            "inboundProperties": {

              "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties",

              "@version": "4.5.1",

              "serializationProperties": {

                "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties",

                "@version": "4.5.1",

                "handleRepetitions": true,

                "handleSubcomponents": true,

                "useStrictParser": false,

                "useStrictValidation": false,

                "stripNamespaces": false,

                "segmentDelimiter": "\\r",

                "convertLineBreaks": true

              },

              "deserializationProperties": {

                "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties",

                "@version": "4.5.1",

                "useStrictParser": false,

                "useStrictValidation": false,

                "segmentDelimiter": "\\r"

              },

              "batchProperties": {

                "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties",

                "@version": "4.5.1",

                "splitType": "MSH_Segment",

                "batchScript": null

              },

              "responseGenerationProperties": {

                "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties",

                "@version": "4.5.1",

                "segmentDelimiter": "\\r",

                "successfulACKCode": "AA",

                "successfulACKMessage": null,

                "errorACKCode": "AE",

                "errorACKMessage": "An Error Occurred Processing Message.",

                "rejectedACKCode": "AR",

                "rejectedACKMessage": "Message Rejected.",

                "msh15ACKAccept": false,

                "dateFormat": "yyyyMMddHHmmss.SSS"

              },

              "responseValidationProperties": {

                "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties",

                "@version": "4.5.1",

                "successfulACKCode": "AA,CA",

                "errorACKCode": "AE,CE",

                "rejectedACKCode": "AR,CR",

                "validateMessageControlId": true,

                "originalMessageControlId": "Destination_Encoded",

                "originalIdMapVariable": null

              }

            },

            "outboundProperties": {

              "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties",

              "@version": "4.5.1",

              "serializationProperties": {

                "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties",

                "@version": "4.5.1",

                "handleRepetitions": true,

                "handleSubcomponents": true,

                "useStrictParser": false,

                "useStrictValidation": false,

                "stripNamespaces": false,

                "segmentDelimiter": "\\r",

                "convertLineBreaks": true

              },

              "deserializationProperties": {

                "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties",

                "@version": "4.5.1",

                "useStrictParser": false,

                "useStrictValidation": false,

                "segmentDelimiter": "\\r"

              },

              "batchProperties": {

                "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties",

                "@version": "4.5.1",

                "splitType": "MSH_Segment",

                "batchScript": null

              },

              "responseGenerationProperties": {

                "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties",

                "@version": "4.5.1",

                "segmentDelimiter": "\\r",

                "successfulACKCode": "AA",

                "successfulACKMessage": null,

                "errorACKCode": "AE",

                "errorACKMessage": "An Error Occurred Processing Message.",

                "rejectedACKCode": "AR",

                "rejectedACKMessage": "Message Rejected.",

                "msh15ACKAccept": false,

                "dateFormat": "yyyyMMddHHmmss.SSS"

              },

              "responseValidationProperties": {

                "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties",

                "@version": "4.5.1",

                "successfulACKCode": "AA,CA",

                "errorACKCode": "AE,CE",

                "rejectedACKCode": "AR,CR",

                "validateMessageControlId": true,

                "originalMessageControlId": "Destination_Encoded",

                "originalIdMapVariable": null

              }

            }

          },

          "filter": {

            "@version": "4.5.1",

            "elements": null

          },

          "transportName": "TCP Listener",

          "mode": "SOURCE",

          "enabled": true,

          "waitForPrevious": true

        },

        "destinationConnectors": {

          "connector": {

            "@version": "4.5.1",

            "metaDataId": 1,

            "name": "Orbis Agaplesion DKH ORU Labor",

            "properties": {

              "@class": "com.mirth.connect.connectors.tcp.TcpDispatcherProperties",

              "@version": "4.5.1",

              "pluginProperties": null,

              "destinationConnectorProperties": {

                "@version": "4.5.1",

                "queueEnabled": true,

                "sendFirst": false,

                "retryIntervalMillis": 10000,

                "regenerateTemplate": false,

                "retryCount": 0,

                "rotate": false,

                "includeFilterTransformer": false,

                "threadCount": 1,

                "threadAssignmentVariable": null,

                "validateResponse": true,

                "resourceIds": {

                  "@class": "linked-hash-map",

                  "entry": {

                    "string": [

                      "Default Resource",

                      "[Default Resource]"

                    ]

                  }

                },

                "queueBufferSize": 1000,

                "reattachAttachments": true

              },

              "transmissionModeProperties": {

                "@class": "com.mirth.connect.plugins.mllpmode.MLLPModeProperties",

                "pluginPointName": "MLLP",

                "startOfMessageBytes": "0B",

                "endOfMessageBytes": "1C0D",

                "useMLLPv2": false,

                "ackBytes": "06",

                "nackBytes": 15,

                "maxRetries": 2

              },

              "serverMode": false,

              "remoteAddress": "10.169.26.125",

              "remotePort": 10804,

              "overrideLocalBinding": false,

              "localAddress": "0.0.0.0",

              "localPort": 0,

              "sendTimeout": 5000,

              "bufferSize": 65536,

              "maxConnections": 10,

              "keepConnectionOpen": false,

              "checkRemoteHost": false,

              "responseTimeout": 5000,

              "ignoreResponse": false,

              "queueOnResponseTimeout": true,

              "dataTypeBinary": false,

              "charsetEncoding": "DEFAULT_ENCODING",

              "template": "${message.encodedData}"

            },

            "transformer": {

              "@version": "4.5.1",

              "elements": null,

              "inboundDataType": "HL7V2",

              "outboundDataType": "HL7V2",

              "inboundProperties": {

                "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties",

                "@version": "4.5.1",

                "serializationProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties",

                  "@version": "4.5.1",

                  "handleRepetitions": true,

                  "handleSubcomponents": true,

                  "useStrictParser": false,

                  "useStrictValidation": false,

                  "stripNamespaces": false,

                  "segmentDelimiter": "\\r",

                  "convertLineBreaks": true

                },

                "deserializationProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties",

                  "@version": "4.5.1",

                  "useStrictParser": false,

                  "useStrictValidation": false,

                  "segmentDelimiter": "\\r"

                },

                "batchProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties",

                  "@version": "4.5.1",

                  "splitType": "MSH_Segment",

                  "batchScript": null

                },

                "responseGenerationProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties",

                  "@version": "4.5.1",

                  "segmentDelimiter": "\\r",

                  "successfulACKCode": "AA",

                  "successfulACKMessage": null,

                  "errorACKCode": "AE",

                  "errorACKMessage": "An Error Occurred Processing Message.",

                  "rejectedACKCode": "AR",

                  "rejectedACKMessage": "Message Rejected.",

                  "msh15ACKAccept": false,

                  "dateFormat": "yyyyMMddHHmmss.SSS"

                },

                "responseValidationProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties",

                  "@version": "4.5.1",

                  "successfulACKCode": "AA,CA",

                  "errorACKCode": "AE,CE",

                  "rejectedACKCode": "AR,CR",

                  "validateMessageControlId": true,

                  "originalMessageControlId": "Destination_Encoded",

                  "originalIdMapVariable": null

                }

              },

              "outboundProperties": {

                "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties",

                "@version": "4.5.1",

                "serializationProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties",

                  "@version": "4.5.1",

                  "handleRepetitions": true,

                  "handleSubcomponents": true,

                  "useStrictParser": false,

                  "useStrictValidation": false,

                  "stripNamespaces": false,

                  "segmentDelimiter": "\\r",

                  "convertLineBreaks": true

                },

                "deserializationProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties",

                  "@version": "4.5.1",

                  "useStrictParser": false,

                  "useStrictValidation": false,

                  "segmentDelimiter": "\\r"

                },

                "batchProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties",

                  "@version": "4.5.1",

                  "splitType": "MSH_Segment",

                  "batchScript": null

                },

                "responseGenerationProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties",

                  "@version": "4.5.1",

                  "segmentDelimiter": "\\r",

                  "successfulACKCode": "AA",

                  "successfulACKMessage": null,

                  "errorACKCode": "AE",

                  "errorACKMessage": "An Error Occurred Processing Message.",

                  "rejectedACKCode": "AR",

                  "rejectedACKMessage": "Message Rejected.",

                  "msh15ACKAccept": false,

                  "dateFormat": "yyyyMMddHHmmss.SSS"

                },

                "responseValidationProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties",

                  "@version": "4.5.1",

                  "successfulACKCode": "AA,CA",

                  "errorACKCode": "AE,CE",

                  "rejectedACKCode": "AR,CR",

                  "validateMessageControlId": true,

                  "originalMessageControlId": "Destination_Encoded",

                  "originalIdMapVariable": null

                }

              }

            },

            "responseTransformer": {

              "@version": "4.5.1",

              "elements": null,

              "inboundDataType": "HL7V2",

              "outboundDataType": "HL7V2",

              "inboundProperties": {

                "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties",

                "@version": "4.5.1",

                "serializationProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties",

                  "@version": "4.5.1",

                  "handleRepetitions": true,

                  "handleSubcomponents": true,

                  "useStrictParser": false,

                  "useStrictValidation": false,

                  "stripNamespaces": false,

                  "segmentDelimiter": "\\r",

                  "convertLineBreaks": true

                },

                "deserializationProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties",

                  "@version": "4.5.1",

                  "useStrictParser": false,

                  "useStrictValidation": false,

                  "segmentDelimiter": "\\r"

                },

                "batchProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties",

                  "@version": "4.5.1",

                  "splitType": "MSH_Segment",

                  "batchScript": null

                },

                "responseGenerationProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties",

                  "@version": "4.5.1",

                  "segmentDelimiter": "\\r",

                  "successfulACKCode": "AA",

                  "successfulACKMessage": null,

                  "errorACKCode": "AE",

                  "errorACKMessage": "An Error Occurred Processing Message.",

                  "rejectedACKCode": "AR",

                  "rejectedACKMessage": "Message Rejected.",

                  "msh15ACKAccept": false,

                  "dateFormat": "yyyyMMddHHmmss.SSS"

                },

                "responseValidationProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties",

                  "@version": "4.5.1",

                  "successfulACKCode": "AA,CA",

                  "errorACKCode": "AE,CE",

                  "rejectedACKCode": "AR,CR",

                  "validateMessageControlId": true,

                  "originalMessageControlId": "Destination_Encoded",

                  "originalIdMapVariable": null

                }

              },

              "outboundProperties": {

                "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties",

                "@version": "4.5.1",

                "serializationProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties",

                  "@version": "4.5.1",

                  "handleRepetitions": true,

                  "handleSubcomponents": true,

                  "useStrictParser": false,

                  "useStrictValidation": false,

                  "stripNamespaces": false,

                  "segmentDelimiter": "\\r",

                  "convertLineBreaks": true

                },

                "deserializationProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties",

                  "@version": "4.5.1",

                  "useStrictParser": false,

                  "useStrictValidation": false,

                  "segmentDelimiter": "\\r"

                },

                "batchProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties",

                  "@version": "4.5.1",

                  "splitType": "MSH_Segment",

                  "batchScript": null

                },

                "responseGenerationProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties",

                  "@version": "4.5.1",

                  "segmentDelimiter": "\\r",

                  "successfulACKCode": "AA",

                  "successfulACKMessage": null,

                  "errorACKCode": "AE",

                  "errorACKMessage": "An Error Occurred Processing Message.",

                  "rejectedACKCode": "AR",

                  "rejectedACKMessage": "Message Rejected.",

                  "msh15ACKAccept": false,

                  "dateFormat": "yyyyMMddHHmmss.SSS"

                },

                "responseValidationProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties",

                  "@version": "4.5.1",

                  "successfulACKCode": "AA,CA",

                  "errorACKCode": "AE,CE",

                  "rejectedACKCode": "AR,CR",

                  "validateMessageControlId": true,

                  "originalMessageControlId": "Destination_Encoded",

                  "originalIdMapVariable": null

                }

              }

            },

            "filter": {

              "@version": "4.5.1",

              "elements": null

            },

            "transportName": "TCP Sender",

            "mode": "DESTINATION",

            "enabled": true,

            "waitForPrevious": true

          }

        },

        "preprocessingScript": "// Modify the message variable below to pre process data\nreturn message;",

        "postprocessingScript": "// This script executes once after a message has been processed\n// Responses returned from here will be stored as \"Postprocessor\" in the response map\nreturn;",

        "deployScript": "// This script executes once when the channel is deployed\n// You only have access to the globalMap and globalChannelMap here to persist data\nreturn;",

        "undeployScript": "// This script executes once when the channel is undeployed\n// You only have access to the globalMap and globalChannelMap here to persist data\nreturn;",

        "properties": {

          "@version": "4.5.1",

          "clearGlobalChannelMap": true,

          "messageStorageMode": "PRODUCTION",

          "encryptData": false,

          "encryptAttachments": false,

          "encryptCustomMetaData": false,

          "removeContentOnCompletion": false,

          "removeOnlyFilteredOnCompletion": false,

          "removeAttachmentsOnCompletion": false,

          "initialState": "STARTED",

          "storeAttachments": true,

          "metaDataColumns": {

            "metaDataColumn": [

              {

                "name": "SOURCE",

                "type": "STRING",

                "mappingName": "mirth_source"

              },

              {

                "name": "TYPE",

                "type": "STRING",

                "mappingName": "mirth_type"

              },

              {

                "name": "PAT_ID",

                "type": "STRING",

                "mappingName": "patientId"

              },

              {

                "name": "VISIT_ID",

                "type": "STRING",

                "mappingName": "visitId"

             }

            ]

          },

          "attachmentProperties": {

            "@version": "4.5.1",

            "type": "None",

            "properties": null

          },

          "resourceIds": {

            "@class": "linked-hash-map",

            "entry": {

              "string": [

                "Default Resource",

                "[Default Resource]"

              ]

            }

          }

        },

        "exportData": {

          "metadata": {

            "enabled": false,

            "lastModified": {

              "time": 1744615352605,

              "timezone": "Europe/Berlin"

            },

            "pruningSettings": {

              "pruneMetaDataDays": 31,

              "archiveEnabled": true,

              "pruneErroredMessages": false

            },

            "userId": 2

          },

          "dependentIds": null,

          "dependencyIds": null,

          "channelTags": null

        }

      },

      {

        "@version": "4.5.1",

       "id": "9f79c778-d996-4d1a-b0ab-a740214c8e2d",

        "nextMetaDataId": 2,

        "name": "C_GenericBAR",

        "description": null,

        "revision": 7,

        "sourceConnector": {

          "@version": "4.5.1",

          "metaDataId": 0,

          "name": "sourceConnector",

          "properties": {

            "@class": "com.mirth.connect.connectors.tcp.TcpReceiverProperties",

            "@version": "4.5.1",

            "pluginProperties": null,

            "listenerConnectorProperties": {

              "@version": "4.5.1",

              "host": "0.0.0.0",

              "port": 6300

            },

            "sourceConnectorProperties": {

              "@version": "4.5.1",

              "responseVariable": "Auto-generate (After source transformer)",

              "respondAfterProcessing": true,

              "processBatch": false,

              "firstResponse": true,

              "processingThreads": 1,

              "resourceIds": {

                "@class": "linked-hash-map",

                "entry": {

                  "string": [

                    "Default Resource",

                    "[Default Resource]"

                  ]

                }

              },

              "queueBufferSize": 1000

            },

            "transmissionModeProperties": {

              "@class": "com.mirth.connect.plugins.mllpmode.MLLPModeProperties",

              "pluginPointName": "MLLP",

              "startOfMessageBytes": "0B",

              "endOfMessageBytes": "1C0D",

              "useMLLPv2": false,

              "ackBytes": "06",

              "nackBytes": 15,

              "maxRetries": 2

            },

            "serverMode": true,

            "remoteAddress": null,

            "remotePort": null,

            "overrideLocalBinding": false,

            "reconnectInterval": 5000,

            "receiveTimeout": 0,

            "bufferSize": 65536,

            "maxConnections": 10,

            "keepConnectionOpen": true,

            "dataTypeBinary": false,

            "charsetEncoding": "ISO-8859-15",

            "respondOnNewConnection": 0,

            "responseAddress": null,

            "responsePort": null

          },

          "transformer": {

            "@version": "4.5.1",

            "elements": {

              "com.mirth.connect.plugins.javascriptstep.JavaScriptStep": {

                "@version": "4.5.1",

                "name": "getOrderMetadata",

                "sequenceNumber": 0,

                "enabled": true,

                "script": "getOrderMetadata();"

              }

            },

            "inboundTemplate": {

              "@encoding": "base64"

            },

            "outboundTemplate": {

              "@encoding": "base64"

            },

            "inboundDataType": "HL7V2",

            "outboundDataType": "HL7V2",

            "inboundProperties": {

              "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties",

              "@version": "4.5.1",

              "serializationProperties": {

                "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties",

                "@version": "4.5.1",

                "handleRepetitions": true,

                "handleSubcomponents": true,

                "useStrictParser": false,

                "useStrictValidation": false,

                "stripNamespaces": false,

                "segmentDelimiter": "\\r",

                "convertLineBreaks": true

              },

              "deserializationProperties": {

                "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties",

                "@version": "4.5.1",

                "useStrictParser": false,

                "useStrictValidation": false,

                "segmentDelimiter": "\\r"

              },

              "batchProperties": {

                "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties",

                "@version": "4.5.1",

                "splitType": "MSH_Segment",

                "batchScript": null

              },

              "responseGenerationProperties": {

                "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties",

                "@version": "4.5.1",

                "segmentDelimiter": "\\r",

                "successfulACKCode": "AA",

                "successfulACKMessage": null,

                "errorACKCode": "AE",

                "errorACKMessage": "An Error Occurred Processing Message.",

                "rejectedACKCode": "AR",

                "rejectedACKMessage": "Message Rejected.",

                "msh15ACKAccept": false,

                "dateFormat": "yyyyMMddHHmmss.SSS"

              },

              "responseValidationProperties": {

                "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties",

                "@version": "4.5.1",

                "successfulACKCode": "AA,CA",

                "errorACKCode": "AE,CE",

                "rejectedACKCode": "AR,CR",

                "validateMessageControlId": true,

                "originalMessageControlId": "Destination_Encoded",

                "originalIdMapVariable": null

              }

            },

            "outboundProperties": {

              "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties",

              "@version": "4.5.1",

              "serializationProperties": {

                "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties",

                "@version": "4.5.1",

                "handleRepetitions": true,

                "handleSubcomponents": true,

                "useStrictParser": false,

                "useStrictValidation": false,

                "stripNamespaces": false,

                "segmentDelimiter": "\\r",

                "convertLineBreaks": true

              },

              "deserializationProperties": {

                "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties",

                "@version": "4.5.1",

                "useStrictParser": false,

                "useStrictValidation": false,

                "segmentDelimiter": "\\r"

              },

              "batchProperties": {

                "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties",

                "@version": "4.5.1",

                "splitType": "MSH_Segment",

                "batchScript": null

              },

              "responseGenerationProperties": {

                "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties",

                "@version": "4.5.1",

                "segmentDelimiter": "\\r",

                "successfulACKCode": "AA",

                "successfulACKMessage": null,

                "errorACKCode": "AE",

                "errorACKMessage": "An Error Occurred Processing Message.",

                "rejectedACKCode": "AR",

                "rejectedACKMessage": "Message Rejected.",

                "msh15ACKAccept": false,

                "dateFormat": "yyyyMMddHHmmss.SSS"

              },

              "responseValidationProperties": {

                "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties",

                "@version": "4.5.1",

                "successfulACKCode": "AA,CA",

                "errorACKCode": "AE,CE",

                "rejectedACKCode": "AR,CR",

                "validateMessageControlId": true,

                "originalMessageControlId": "Destination_Encoded",

                "originalIdMapVariable": null

              }

            }

          },

          "filter": {

            "@version": "4.5.1",

            "elements": null

          },

          "transportName": "TCP Listener",

          "mode": "SOURCE",

          "enabled": true,

          "waitForPrevious": true

        },

        "destinationConnectors": {

          "connector": {

            "@version": "4.5.1",

            "metaDataId": 1,

            "name": "KIS BAR",

            "properties": {

              "@class": "com.mirth.connect.connectors.tcp.TcpDispatcherProperties",

              "@version": "4.5.1",

              "pluginProperties": null,

              "destinationConnectorProperties": {

                "@version": "4.5.1",

                "queueEnabled": true,

                "sendFirst": true,

                "retryIntervalMillis": 10000,

                "regenerateTemplate": true,

                "retryCount": 0,

                "rotate": false,

                "includeFilterTransformer": false,

                "threadCount": 1,

                "threadAssignmentVariable": null,

                "validateResponse": true,

                "resourceIds": {

                  "@class": "linked-hash-map",

                  "entry": {

                    "string": [

                      "Default Resource",

                      "[Default Resource]"

                    ]

                  }

                },

                "queueBufferSize": 1000,

                "reattachAttachments": true

              },

              "transmissionModeProperties": {

                "@class": "com.mirth.connect.plugins.mllpmode.MLLPModeProperties",

                "pluginPointName": "MLLP",

                "startOfMessageBytes": "0B",

                "endOfMessageBytes": "1C0D",

                "useMLLPv2": false,

                "ackBytes": "06",

                "nackBytes": 15,

                "maxRetries": 2

              },

              "serverMode": false,

              "remoteAddress": "172.19.3.10",

              "remotePort": 5596,

              "overrideLocalBinding": false,

              "localAddress": "0.0.0.0",

              "localPort": 0,

              "sendTimeout": 5000,

              "bufferSize": 65536,

              "maxConnections": 10,

              "keepConnectionOpen": true,

              "checkRemoteHost": true,

              "responseTimeout": 5000,

              "ignoreResponse": false,

              "queueOnResponseTimeout": true,

              "dataTypeBinary": false,

              "charsetEncoding": "ISO-8859-15",

              "template": "${message.encodedData}"

            },

            "transformer": {

              "@version": "4.5.1",

              "elements": {

                "com.mirth.connect.plugins.javascriptstep.JavaScriptStep": [

                  {

                    "@version": "4.5.1",

                    "name": "prepare tmp",

                    "sequenceNumber": 0,

                    "enabled": true,

                    "script": "tmp = msg.copy();"

                  },

                  {

                    "@version": "4.5.1",

                    "name": "modify PR1.12 for Centricity and Medat",

                    "sequenceNumber": 1,

                    "enabled": true,

                    "script": "if($('sourceId') == 'centricity') {\n\tif(msg['PR1'].toString().length>0) {\n\t\ttmp['PR1']['PR1.12']['PR1.12.1']='RAD';\n\t}\n}\nif($('sourceId') == 'medat') { \n\tif(msg['PR1'].toString().length>0) {\n\t\ttmp['PR1']['PR1.12']['PR1.12.1']='LAB';\n\t}\n}\nif($('sourceId') == 'erpath') {\n\tif(msg['PR1'].toString().length>0 ) {\n\t\ttmp['PR1']['PR1.12']['PR1.12.1']='';\n\t}\n}"

                  },

                  {

                    "@version": "4.5.1",

                    "name": "modify PR1 and DG1",

                    "sequenceNumber": 2,

                    "enabled": true,

                    "script": "if($('sourceId') == 'erpath') {\n\tvar year;\n\tfor each(pr1 in tmp['PR1']){\n\t\tyear = msg['PR1'][0]['PR1.2']['PR1.2.1'].toString().search(/[0-9]{4}/);\n\t\tpr1['PR1.2']['PR1.2.1']='OPS301_'+msg['PR1'][0]['PR1.2']['PR1.2.1'].toString().substr(year);\n\t\tpr1['PR1.3']['PR1.3.3']='OPS301_'+msg['PR1'][0]['PR1.2']['PR1.2.1'].toString().substr(year);\n\t\tpr1['PR1.6']['PR1.6.1']='OP';\n\t\tpr1['PR1.6']['PR1.6.3']=pr1['PR1.19']['PR1.19.1'].toString();\n\t}\n\n\tfor each(dg1 in tmp['DG1']){\n\t\tyear = msg['DG1'][0]['DG1.2']['DG1.2.1'].toString().search(/[0-9]{4}/);\n\t\tdg1['DG1.2']['DG1.2.1']='ICD10_'+msg['DG1'][0]['DG1.2']['DG1.2.1'].toString().substr(year);\n\t\tdg1['DG1.3']['DG1.3.3']='ICD10_'+msg['DG1'][0]['DG1.2']['DG1.2.1'].toString().substr(year);\n\t}\n}"

                  },

                  {

                    "@version": "4.5.1",

                    "name": "modify PR1 and DG1 for Draeger ICM",

                    "sequenceNumber": 3,

                    "enabled": true,

                    "script": "if($('sourceId') == 'icm') {\n\tvar pr1_counter = 1;\n\tvar dg1_counter = 1;\n\tfor each(pr1 in tmp['PR1']){\n\t\t//pr1_1_value = pr1_counter.padStart(4, '0');\n\t\tpr1['PR1.1']['PR1.1.1'] = pr1_counter;\n\t\tpr1_counter = pr1_counter + 1;\n\t}\n\n\tfor each(dg1 in tmp['DG1']){\n\t\t//dg1_1_value = dg1_counter.padStart(4, '0');\n\t\tdg1['DG1.1']['DG1.1.1'] = dg1_counter;\n\t\tdg1_counter = dg1_counter + 1;\n\t}\n}"

                  }

                ]

              },

              "inboundTemplate": {

                "@encoding": "base64"

              },

              "outboundTemplate": {

                "@encoding": "base64",

                "$": "TVNIfF5+XCZ8Q1JJU3xSYWRpb2xvZ3l8SElTfHwyMDIwMDYxOTE2NTMzNnx8QkFSXlAxMnwzMTE2ODY1MnxQfDIuM3x8fEFMDUVWTnxQMTJ8MjAyMDA2MTkxNjUzMzV8fA1QSUR8fHwzODA2ODE5fHxHZXJtYW5uXk1vcml0ei1BbGV4YW5kZXJeXl5efHwxOTk1MTIwMnxNfHx8RG9iYmVsZXJzd2VnIDI2Xl5IYW1idXJnXl4yMDUzN15EfHwwMTc2MzYzNjYwMzh8fHx8fHx8fHx8fHx8fHx8DVBWMXx8T3xTT05OVEFHLF5eXk1WWnx8fHx8fHx8fHx8fHx8fHw0MDA1NDcyNnx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8DURHMXwxfElDRDEwXzIwMjB8TTc5LjY2IEd8U2NobWVyemVuIGluIGRlbiBFeHRyZW1pdMOkdGVuOiBVbnRlcnNjaGVua2VsIFtGaWJ1bGEsIFRpYmlhLCBLbmllZ2VsZW5rXXwyMDIwMDYxOTE2NTMzNXxBVUZ8fHx8fHx8fHwyfHx8fHw0MzY1fEE="

              },

              "inboundDataType": "HL7V2",

              "outboundDataType": "HL7V2",

              "inboundProperties": {

                "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties",

                "@version": "4.5.1",

                "serializationProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties",

                  "@version": "4.5.1",

                  "handleRepetitions": true,

                  "handleSubcomponents": true,

                  "useStrictParser": false,

                  "useStrictValidation": false,

                  "stripNamespaces": false,

                  "segmentDelimiter": "\\r",

                  "convertLineBreaks": true

                },

                "deserializationProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties",

                  "@version": "4.5.1",

                  "useStrictParser": false,

                  "useStrictValidation": false,

                  "segmentDelimiter": "\\r"

                },

                "batchProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties",

                  "@version": "4.5.1",

                  "splitType": "MSH_Segment",

                  "batchScript": null

                },

                "responseGenerationProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties",

                  "@version": "4.5.1",

                  "segmentDelimiter": "\\r",

                  "successfulACKCode": "AA",

                  "successfulACKMessage": null,

                  "errorACKCode": "AE",

                  "errorACKMessage": "An Error Occurred Processing Message.",

                  "rejectedACKCode": "AR",

                  "rejectedACKMessage": "Message Rejected.",

                  "msh15ACKAccept": false,

                  "dateFormat": "yyyyMMddHHmmss.SSS"

                },

                "responseValidationProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties",

                  "@version": "4.5.1",

                  "successfulACKCode": "AA,CA",

                  "errorACKCode": "AE,CE",

                  "rejectedACKCode": "AR,CR",

                 "validateMessageControlId": true,

                  "originalMessageControlId": "Destination_Encoded",

                  "originalIdMapVariable": null

                }

              },

              "outboundProperties": {

                "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties",

                "@version": "4.5.1",

                "serializationProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties",

                  "@version": "4.5.1",

                  "handleRepetitions": true,

                  "handleSubcomponents": true,

                  "useStrictParser": false,

                  "useStrictValidation": false,

                  "stripNamespaces": false,

                  "segmentDelimiter": "\\r",

                  "convertLineBreaks": true

                },

                "deserializationProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties",

                  "@version": "4.5.1",

                  "useStrictParser": false,

                  "useStrictValidation": false,

                  "segmentDelimiter": "\\r"

                },

                "batchProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties",

                  "@version": "4.5.1",

                  "splitType": "MSH_Segment",

                  "batchScript": null

                },

                "responseGenerationProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties",

                  "@version": "4.5.1",

                  "segmentDelimiter": "\\r",

                  "successfulACKCode": "AA",

                  "successfulACKMessage": null,

                  "errorACKCode": "AE",

                  "errorACKMessage": "An Error Occurred Processing Message.",

                  "rejectedACKCode": "AR",

                  "rejectedACKMessage": "Message Rejected.",

                  "msh15ACKAccept": false,

                  "dateFormat": "yyyyMMddHHmmss.SSS"

                },

                "responseValidationProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties",

                  "@version": "4.5.1",

                  "successfulACKCode": "AA,CA",

                  "errorACKCode": "AE,CE",

                  "rejectedACKCode": "AR,CR",

                  "validateMessageControlId": true,

                  "originalMessageControlId": "Destination_Encoded",

                  "originalIdMapVariable": null

                }

              }

            },

            "responseTransformer": {

              "@version": "4.5.1",

              "elements": null,

              "inboundDataType": "HL7V2",

              "outboundDataType": "HL7V2",

              "inboundProperties": {

                "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties",

                "@version": "4.5.1",

                "serializationProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties",

                  "@version": "4.5.1",

                  "handleRepetitions": true,

                  "handleSubcomponents": true,

                  "useStrictParser": false,

                  "useStrictValidation": false,

                  "stripNamespaces": false,

                  "segmentDelimiter": "\\r",

                  "convertLineBreaks": true

                },

                "deserializationProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties",

                  "@version": "4.5.1",

                  "useStrictParser": false,

                  "useStrictValidation": false,

                  "segmentDelimiter": "\\r"

                },

                "batchProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties",

                  "@version": "4.5.1",

                  "splitType": "MSH_Segment",

                  "batchScript": null

                },

                "responseGenerationProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties",

                  "@version": "4.5.1",

                  "segmentDelimiter": "\\r",

                  "successfulACKCode": "AA",

                  "successfulACKMessage": null,

                  "errorACKCode": "AE",

                  "errorACKMessage": "An Error Occurred Processing Message.",

                  "rejectedACKCode": "AR",

                  "rejectedACKMessage": "Message Rejected.",

                  "msh15ACKAccept": false,

                  "dateFormat": "yyyyMMddHHmmss.SSS"

                },

                "responseValidationProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties",

                  "@version": "4.5.1",

                  "successfulACKCode": "AA,CA",

                  "errorACKCode": "AE,CE",

                  "rejectedACKCode": "AR,CR",

                  "validateMessageControlId": true,

                  "originalMessageControlId": "Destination_Encoded",

                  "originalIdMapVariable": null

                }

              },

              "outboundProperties": {

                "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties",

                "@version": "4.5.1",

                "serializationProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties",

                  "@version": "4.5.1",

                  "handleRepetitions": true,

                  "handleSubcomponents": true,

                  "useStrictParser": false,

                  "useStrictValidation": false,

                  "stripNamespaces": false,

                  "segmentDelimiter": "\\r",

                  "convertLineBreaks": true

                },

                "deserializationProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties",

                  "@version": "4.5.1",

                  "useStrictParser": false,

                  "useStrictValidation": false,

                  "segmentDelimiter": "\\r"

                },

                "batchProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties",

                  "@version": "4.5.1",

                  "splitType": "MSH_Segment",

                  "batchScript": null

                },

                "responseGenerationProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties",

                  "@version": "4.5.1",

                  "segmentDelimiter": "\\r",

                  "successfulACKCode": "AA",

                  "successfulACKMessage": null,

                  "errorACKCode": "AE",

                  "errorACKMessage": "An Error Occurred Processing Message.",

                  "rejectedACKCode": "AR",

                  "rejectedACKMessage": "Message Rejected.",

                  "msh15ACKAccept": false,

                  "dateFormat": "yyyyMMddHHmmss.SSS"

                },

                "responseValidationProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties",

                  "@version": "4.5.1",

                  "successfulACKCode": "AA,CA",

                  "errorACKCode": "AE,CE",

                  "rejectedACKCode": "AR,CR",

                  "validateMessageControlId": true,

                  "originalMessageControlId": "Destination_Encoded",

                  "originalIdMapVariable": null

                }

              }

            },

            "filter": {

              "@version": "4.5.1",

              "elements": {

                "com.mirth.connect.plugins.rulebuilder.RuleBuilderRule": [

                  {

                    "@version": "4.5.1",

                    "name": "Accept message if \"msg['MSH']['MSH.9']['MSH.9.1'].toString()\" equals 'BAR'",

                    "sequenceNumber": 0,

                    "enabled": true,

                    "field": "msg['MSH']['MSH.9']['MSH.9.1'].toString()",

                    "condition": "EQUALS",

                    "values": {

                      "string": "'BAR'"

                    }

                  },

                  {

                    "@version": "4.5.1",

                    "name": "Accept message if \"msg['PID']['PID.2']['PID.2.1'].toString()\" does not contain 'WKH'",

                    "sequenceNumber": 1,

                    "enabled": true,

                    "operator": "AND",

                    "field": "msg['PID']['PID.2']['PID.2.1'].toString()",

                    "condition": "NOT_CONTAIN",

                    "values": {

                      "string": "'WKH'"

                    }

                  }

                ]

              }

            },

            "transportName": "TCP Sender",

            "mode": "DESTINATION",

            "enabled": true,

            "waitForPrevious": true

          }

        },

        "preprocessingScript": "// Modify the message variable below to pre process data\nreturn message;",

        "postprocessingScript": "// This script executes once after a message has been processed\n// Responses returned from here will be stored as \"Postprocessor\" in the response map\nreturn;",

        "deployScript": "// This script executes once when the channel is deployed\n// You only have access to the globalMap and globalChannelMap here to persist data\nreturn;",

        "undeployScript": "// This script executes once when the channel is undeployed\n// You only have access to the globalMap and globalChannelMap here to persist data\nreturn;",

        "properties": {

          "@version": "4.5.1",

          "clearGlobalChannelMap": true,

          "messageStorageMode": "PRODUCTION",

          "encryptData": false,

          "encryptAttachments": false,

          "encryptCustomMetaData": false,

          "removeContentOnCompletion": false,

          "removeOnlyFilteredOnCompletion": false,

          "removeAttachmentsOnCompletion": false,

          "initialState": "STARTED",

          "storeAttachments": true,

          "metaDataColumns": {

            "metaDataColumn": [

              {

                "name": "SOURCE",

                "type": "STRING",

                "mappingName": "mirth_source"

              },

              {

                "name": "TYPE",

                "type": "STRING",

                "mappingName": "mirth_type"

              },

              {

                "name": "PAT_ID",

                "type": "STRING",

                "mappingName": "patientId"

              },

              {

                "name": "VISIT_ID",

                "type": "STRING",

                "mappingName": "visitId"

              }

            ]

          },

          "attachmentProperties": {

            "@version": "4.5.1",

            "type": "None",

            "properties": null

          },

          "resourceIds": {

            "@class": "linked-hash-map",

            "entry": {

              "string": [

                "Default Resource",

                "[Default Resource]"

              ]

            }

          }

        },

        "exportData": {

          "metadata": {

            "enabled": true,

            "lastModified": {

              "time": 1744628130002,

              "timezone": "Europe/Berlin"

            },

            "pruningSettings": {

              "pruneMetaDataDays": 31,

              "archiveEnabled": true,

              "pruneErroredMessages": false

            },

            "userId": 4

          },

          "dependentIds": null,

          "dependencyIds": null,

          "channelTags": null

        }

      },

      {

        "@version": "4.5.1",

        "id": "89539228-14a9-41df-9fa7-9ce7e7970931",

        "nextMetaDataId": 3,

        "name": "C_GenericDFT",

        "description": null,

        "revision": 9,

        "sourceConnector": {

          "@version": "4.5.1",

          "metaDataId": 0,

          "name": "sourceConnector",

          "properties": {

            "@class": "com.mirth.connect.connectors.tcp.TcpReceiverProperties",

            "@version": "4.5.1",

            "pluginProperties": null,

            "listenerConnectorProperties": {

              "@version": "4.5.1",

              "host": "0.0.0.0",

              "port": 6200

            },

            "sourceConnectorProperties": {

              "@version": "4.5.1",

              "responseVariable": "Auto-generate (After source transformer)",

              "respondAfterProcessing": true,

              "processBatch": false,

              "firstResponse": true,

              "processingThreads": 1,

              "resourceIds": {

                "@class": "linked-hash-map",

                "entry": {

                  "string": [

                    "Default Resource",

                    "[Default Resource]"

                  ]

                }

              },

              "queueBufferSize": 1000

            },

            "transmissionModeProperties": {

              "@class": "com.mirth.connect.plugins.mllpmode.MLLPModeProperties",

              "pluginPointName": "MLLP",

              "startOfMessageBytes": "0B",

              "endOfMessageBytes": "1C0D",

              "useMLLPv2": false,

              "ackBytes": "06",

              "nackBytes": 15,

              "maxRetries": 2

            },

            "serverMode": true,

            "remoteAddress": null,

            "remotePort": null,

            "overrideLocalBinding": false,

            "reconnectInterval": 5000,

            "receiveTimeout": 0,

            "bufferSize": 65536,

            "maxConnections": 10,

            "keepConnectionOpen": true,

            "dataTypeBinary": false,

            "charsetEncoding": "ISO-8859-15",

            "respondOnNewConnection": 0,

            "responseAddress": null,

            "responsePort": null

          },

          "transformer": {

            "@version": "4.5.1",

            "elements": {

              "com.mirth.connect.plugins.javascriptstep.JavaScriptStep": {

                "@version": "4.5.1",

                "sequenceNumber": 0,

                "enabled": true,

                "script": "getOrderMetadata();"

              }

            },

            "inboundTemplate": {

              "@encoding": "base64"

            },

            "outboundTemplate": {

              "@encoding": "base64"

            },

            "inboundDataType": "HL7V2",

            "outboundDataType": "HL7V2",

            "inboundProperties": {

              "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties",

              "@version": "4.5.1",

              "serializationProperties": {

                "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties",

                "@version": "4.5.1",

                "handleRepetitions": true,

                "handleSubcomponents": true,

                "useStrictParser": false,

                "useStrictValidation": false,

                "stripNamespaces": false,

                "segmentDelimiter": "\\r",

                "convertLineBreaks": true

              },

              "deserializationProperties": {

                "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties",

                "@version": "4.5.1",

                "useStrictParser": false,

                "useStrictValidation": false,

                "segmentDelimiter": "\\r"

              },

              "batchProperties": {

                "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties",

                "@version": "4.5.1",

                "splitType": "MSH_Segment",

                "batchScript": null

              },

              "responseGenerationProperties": {

                "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties",

                "@version": "4.5.1",

                "segmentDelimiter": "\\r",

                "successfulACKCode": "AA",

                "successfulACKMessage": null,

                "errorACKCode": "AE",

                "errorACKMessage": "An Error Occurred Processing Message.",

                "rejectedACKCode": "AR",

                "rejectedACKMessage": "Message Rejected.",

                "msh15ACKAccept": false,

                "dateFormat": "yyyyMMddHHmmss.SSS"

              },

              "responseValidationProperties": {

                "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties",

                "@version": "4.5.1",

                "successfulACKCode": "AA,CA",

                "errorACKCode": "AE,CE",

                "rejectedACKCode": "AR,CR",

                "validateMessageControlId": true,

                "originalMessageControlId": "Destination_Encoded",

                "originalIdMapVariable": null

              }

            },

            "outboundProperties": {

              "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties",

              "@version": "4.5.1",

              "serializationProperties": {

                "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties",

                "@version": "4.5.1",

                "handleRepetitions": true,

                "handleSubcomponents": true,

                "useStrictParser": false,

                "useStrictValidation": false,

                "stripNamespaces": false,

                "segmentDelimiter": "\\r",

                "convertLineBreaks": true

              },

              "deserializationProperties": {

                "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties",

                "@version": "4.5.1",

                "useStrictParser": false,

                "useStrictValidation": false,

                "segmentDelimiter": "\\r"

              },

              "batchProperties": {

                "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties",

                "@version": "4.5.1",

                "splitType": "MSH_Segment",

                "batchScript": null

              },

              "responseGenerationProperties": {

                "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties",

                "@version": "4.5.1",

                "segmentDelimiter": "\\r",

                "successfulACKCode": "AA",

                "successfulACKMessage": null,

                "errorACKCode": "AE",

                "errorACKMessage": "An Error Occurred Processing Message.",

                "rejectedACKCode": "AR",

                "rejectedACKMessage": "Message Rejected.",

                "msh15ACKAccept": false,

                "dateFormat": "yyyyMMddHHmmss.SSS"

              },

              "responseValidationProperties": {

                "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties",

                "@version": "4.5.1",

                "successfulACKCode": "AA,CA",

                "errorACKCode": "AE,CE",

                "rejectedACKCode": "AR,CR",

                "validateMessageControlId": true,

                "originalMessageControlId": "Destination_Encoded",

                "originalIdMapVariable": null

              }

            }

          },

          "filter": {

            "@version": "4.5.1",

            "elements": {

              "com.mirth.connect.plugins.rulebuilder.RuleBuilderRule": {

                "@version": "4.5.1",

                "name": "Accept message if \"msg['MSH']['MSH.9']['MSH.9.1'].toString()\" equals 'DFT'",

                "sequenceNumber": 0,

                "enabled": true,

                "field": "msg['MSH']['MSH.9']['MSH.9.1'].toString()",

                "condition": "EQUALS",

                "values": {

                  "string": "'DFT'"

                }

              },

              "com.mirth.connect.plugins.javascriptrule.JavaScriptRule": {

                "@version": "4.5.1",

                "name": "Patienten ohne Fallnummer Filtern",

                "sequenceNumber": 1,

                "enabled": true,

                "operator": "AND",

                "script": "//Patienten ohne Fallnummer Filtern! 20.04.2020 MBA\nif(msg['PV1']['PV1.19']['PV1.19.1'].toString().length>1){\n\treturn true;\n}\nreturn false;"

              }

            }

          },

          "transportName": "TCP Listener",

          "mode": "SOURCE",

          "enabled": true,

          "waitForPrevious": true

        },

        "destinationConnectors": {

          "connector": [

            {

              "@version": "4.5.1",

              "metaDataId": 1,

              "name": "KIS DFT",

              "properties": {

                "@class": "com.mirth.connect.connectors.tcp.TcpDispatcherProperties",

                "@version": "4.5.1",

                "pluginProperties": null,

                "destinationConnectorProperties": {

                  "@version": "4.5.1",

                  "queueEnabled": true,

                  "sendFirst": true,

                  "retryIntervalMillis": 10000,

                  "regenerateTemplate": true,

                  "retryCount": 0,

                  "rotate": false,

                  "includeFilterTransformer": false,

                  "threadCount": 1,

                  "threadAssignmentVariable": null,

                  "validateResponse": true,

                  "resourceIds": {

                    "@class": "linked-hash-map",

                    "entry": {

                      "string": [

                        "Default Resource",

                        "[Default Resource]"

                      ]

                    }

                  },

                  "queueBufferSize": 1000,

                  "reattachAttachments": true

                },

                "transmissionModeProperties": {

                  "@class": "com.mirth.connect.plugins.mllpmode.MLLPModeProperties",

                  "pluginPointName": "MLLP",

                  "startOfMessageBytes": "0B",

                  "endOfMessageBytes": "1C0D",

                  "useMLLPv2": false,

                  "ackBytes": "06",

                  "nackBytes": 15,

                  "maxRetries": 2

                },

                "serverMode": false,

                "remoteAddress": "172.19.3.10",

                "remotePort": 5595,

                "overrideLocalBinding": false,

                "localAddress": "0.0.0.0",

                "localPort": 0,

                "sendTimeout": 50000,

                "bufferSize": 65536,

                "maxConnections": 10,

                "keepConnectionOpen": true,

                "checkRemoteHost": true,

                "responseTimeout": 50000,

                "ignoreResponse": false,

                "queueOnResponseTimeout": false,

                "dataTypeBinary": false,

                "charsetEncoding": "ISO-8859-15",

                "template": "${message.encodedData}"

              },

              "transformer": {

                "@version": "4.5.1",

                "elements": {

                  "com.mirth.connect.plugins.javascriptstep.JavaScriptStep": {

                    "@version": "4.5.1",

                    "name": "modify messages from centricity RIS",

                    "sequenceNumber": 0,

                   "enabled": true,

                    "script": "tmp = msg.copy();\n\nif(msg['MSH']['MSH.3']['MSH.3.1']=='CRIS'){\n\tvar prefixCheck;\n\n\tprefixCheck = msg['FT1']['FT1.7']['FT1.7.1'].toString().charAt(0);\n\n\t//Anpassung K1043-323 [ako] 2022-07-29\n\t//  Präfix \"NL-\" entfernen\n\t//  Katalog \"HAUS\" ändern in \"NL\"\n\t//________________________________________________________________________\n\tfor each (ft1 in tmp['FT1']) \n\t{\n\t\tif(ft1['FT1.7']['FT1.7.1'].toString().substr(0,3)==\"NL-\")\n\t\t\t{\n\t\t\t\tft1['FT1.7']['FT1.7.1'] = ft1['FT1.7']['FT1.7.1'].toString().substr(3);\n\t\t\t}\n\t\tif(ft1['FT1.7']['FT1.7.3'].toString() == \"HAUS\")\n\t\t\t{\n\t\t\t\tft1['FT1.7']['FT1.7.3'] = \"NL\";\n\t\t\t}\n\t\tif(ft1['FT1.6']['FT1.6.1']=='CR')\n\t\t\t{\n\t\t\t\tft1['FT1.10']['FT1.10.1']=\"-\" + ft1['FT1.10']['FT1.10.1'].toString();\n\t\t\t}\t\n\t\tif(!ft1['FT1.4']['FT1.4.1'].toString().length > 0)\n\t\t\t{ \n\t\t\t\tft1['FT1.4']['FT1.4.1']=msg['EVN']['EVN.2']['EVN.2.1'].toString();\n\t\t\t}\t\n\t\tif(prefixCheck == 'G')\n\t\t\t{\n\t\t\t\ttmp['FT1']['FT1.7']['FT1.7.3']='GOAE';\n\t\t\t\ttmp['FT1']['FT1.7']['FT1.7.1']=msg['FT1']['FT1.7']['FT1.7.1'].toString().substr(1);\n\t\t\t}\n\t\telse if(prefixCheck == 'E')\n\t\t\t{\n\t\t\t\ttmp['FT1']['FT1.7']['FT1.7.3']='EBM';\n\t\t\t\ttmp['FT1']['FT1.7']['FT1.7.1']=msg['FT1']['FT1.7']['FT1.7.1'].toString().substr(1);\n\t\t\t}\n\t\tft1['FT1.6']['FT1.6.1'] = \"\";\t\t\n\t}\n\t//________________________________________________________________________\n\n}\n\n//previous Version\n/*tmp = msg.copy();\n\nif(msg['MSH']['MSH.3']['MSH.3.1']=='CRIS'){\n\tvar prefixCheck;\n\n\tprefixCheck = msg['FT1']['FT1.7']['FT1.7.1'].toString().charAt(0);\n\n\tif(!msg['FT1']['FT1.4']['FT1.4.1'].toString().length > 0){ \n\t\ttmp['FT1']['FT1.4']['FT1.4.1']=msg['EVN']['EVN.2']['EVN.2.1'].toString();\n\t}\n\n\ttmp['FT1']['FT1.6']['FT1.6.1']='';\n\n\tif(msg['FT1']['FT1.6']['FT1.6.1']=='CR'){\n\t\ttmp['FT1']['FT1.10']['FT1.10.1']='-'+msg['FT1']['FT1.10']['FT1.10.1'].toString();\n\t}\n\n\ttmp['FT1']['FT1.7']['FT1.7.1']=msg['FT1']['FT1.7']['FT1.7.1'].toString().substr(1);\n\n\tif(prefixCheck == 'G'){\n\t\ttmp['FT1']['FT1.7']['FT1.7.3']='GOAE';\n\t}else if(prefixCheck == 'E'){\n\t\ttmp['FT1']['FT1.7']['FT1.7.3']='EBM';\n\t}\n}\n*/"

                  }

                },

                "inboundTemplate": {

                  "@encoding": "base64"

                },

                "outboundTemplate": {

                  "@encoding": "base64",

                  "$": "TVNIfF5+XCZ8Q1JJU3xSYWRpb2xvZ3l8SElTfHwyMDE1MDEyNjE1NTI1NHxNZWRvcmF8REZUXlAwM3wyNjJ8UHwyLjN8fHxBTA=="

                },

                "inboundDataType": "HL7V2",

                "outboundDataType": "HL7V2",

                "inboundProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties",

                  "@version": "4.5.1",

                  "serializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties",

                    "@version": "4.5.1",

                    "handleRepetitions": true,

                    "handleSubcomponents": true,

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "stripNamespaces": false,

                    "segmentDelimiter": "\\r",

                    "convertLineBreaks": true

                  },

                  "deserializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties",

                    "@version": "4.5.1",

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "segmentDelimiter": "\\r"

                  },

                  "batchProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties",

                    "@version": "4.5.1",

                    "splitType": "MSH_Segment",

                    "batchScript": null

                  },

                  "responseGenerationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties",

                    "@version": "4.5.1",

                    "segmentDelimiter": "\\r",

                    "successfulACKCode": "AA",

                    "successfulACKMessage": null,

                    "errorACKCode": "AE",

                    "errorACKMessage": "An Error Occurred Processing Message.",

                    "rejectedACKCode": "AR",

                    "rejectedACKMessage": "Message Rejected.",

                    "msh15ACKAccept": false,

                    "dateFormat": "yyyyMMddHHmmss.SSS"

                  },

                  "responseValidationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties",

                    "@version": "4.5.1",

                    "successfulACKCode": "AA,CA",

                    "errorACKCode": "AE,CE",

                    "rejectedACKCode": "AR,CR",

                    "validateMessageControlId": true,

                    "originalMessageControlId": "Destination_Encoded",

                    "originalIdMapVariable": null

                  }

                },

                "outboundProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties",

                  "@version": "4.5.1",

                  "serializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties",

                    "@version": "4.5.1",

                    "handleRepetitions": true,

                    "handleSubcomponents": true,

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "stripNamespaces": false,

                    "segmentDelimiter": "\\r",

                    "convertLineBreaks": true

                  },

                  "deserializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties",

                    "@version": "4.5.1",

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "segmentDelimiter": "\\r"

                  },

                  "batchProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties",

                    "@version": "4.5.1",

                    "splitType": "MSH_Segment",

                    "batchScript": null

                  },

                  "responseGenerationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties",

                    "@version": "4.5.1",

                    "segmentDelimiter": "\\r",

                    "successfulACKCode": "AA",

                    "successfulACKMessage": null,

                    "errorACKCode": "AE",

                    "errorACKMessage": "An Error Occurred Processing Message.",

                    "rejectedACKCode": "AR",

                    "rejectedACKMessage": "Message Rejected.",

                    "msh15ACKAccept": false,

                    "dateFormat": "yyyyMMddHHmmss.SSS"

                  },

                  "responseValidationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties",

                    "@version": "4.5.1",

                    "successfulACKCode": "AA,CA",

                    "errorACKCode": "AE,CE",

                    "rejectedACKCode": "AR,CR",

                    "validateMessageControlId": true,

                    "originalMessageControlId": "Destination_Encoded",

                    "originalIdMapVariable": null

                  }

                }

              },

              "responseTransformer": {

                "@version": "4.5.1",

                "elements": null,

                "inboundDataType": "HL7V2",

                "outboundDataType": "HL7V2",

                "inboundProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties",

                  "@version": "4.5.1",

                  "serializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties",

                    "@version": "4.5.1",

                    "handleRepetitions": true,

                    "handleSubcomponents": true,

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "stripNamespaces": false,

                    "segmentDelimiter": "\\r",

                    "convertLineBreaks": true

                  },

                  "deserializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties",

                    "@version": "4.5.1",

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "segmentDelimiter": "\\r"

                  },

                  "batchProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties",

                    "@version": "4.5.1",

                    "splitType": "MSH_Segment",

                    "batchScript": null

                  },

                  "responseGenerationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties",

                    "@version": "4.5.1",

                    "segmentDelimiter": "\\r",

                    "successfulACKCode": "AA",

                    "successfulACKMessage": null,

                    "errorACKCode": "AE",

                    "errorACKMessage": "An Error Occurred Processing Message.",

                    "rejectedACKCode": "AR",

                    "rejectedACKMessage": "Message Rejected.",

                    "msh15ACKAccept": false,

                    "dateFormat": "yyyyMMddHHmmss.SSS"

                  },

                  "responseValidationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties",

                    "@version": "4.5.1",

                    "successfulACKCode": "AA,CA",

                    "errorACKCode": "AE,CE",

                    "rejectedACKCode": "AR,CR",

                    "validateMessageControlId": true,

                    "originalMessageControlId": "Destination_Encoded",

                    "originalIdMapVariable": null

                  }

                },

                "outboundProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties",

                  "@version": "4.5.1",

                  "serializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties",

                    "@version": "4.5.1",

                    "handleRepetitions": true,

                    "handleSubcomponents": true,

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "stripNamespaces": false,

                    "segmentDelimiter": "\\r",

                    "convertLineBreaks": true

                  },

                  "deserializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties",

                    "@version": "4.5.1",

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "segmentDelimiter": "\\r"

                  },

                  "batchProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties",

                    "@version": "4.5.1",

                    "splitType": "MSH_Segment",

                    "batchScript": null

                  },

                  "responseGenerationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties",

                    "@version": "4.5.1",

                    "segmentDelimiter": "\\r",

                    "successfulACKCode": "AA",

                    "successfulACKMessage": null,

                    "errorACKCode": "AE",

                    "errorACKMessage": "An Error Occurred Processing Message.",

                    "rejectedACKCode": "AR",

                    "rejectedACKMessage": "Message Rejected.",

                    "msh15ACKAccept": false,

                    "dateFormat": "yyyyMMddHHmmss.SSS"

                  },

                  "responseValidationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties",

                    "@version": "4.5.1",

                   "successfulACKCode": "AA,CA",

                    "errorACKCode": "AE,CE",

                    "rejectedACKCode": "AR,CR",

                    "validateMessageControlId": true,

                    "originalMessageControlId": "Destination_Encoded",

                    "originalIdMapVariable": null

                  }

                }

              },

              "filter": {

                "@version": "4.5.1",

                "elements": {

                  "com.mirth.connect.plugins.rulebuilder.RuleBuilderRule": [

                    {

                      "@version": "4.5.1",

                      "name": "Accept message if \"msg['MSH']['MSH.3']['MSH.3.1'].toString()\" does not equal 'ER-Path'",

                      "sequenceNumber": 0,

                      "enabled": true,

                      "field": "msg['MSH']['MSH.3']['MSH.3.1'].toString()",

                      "condition": "NOT_EQUAL",

                      "values": {

                        "string": "'ER-Path'"

                      }

                    },

                    {

                      "@version": "4.5.1",

                      "name": "Accept message if \"msg['FT1'].toString()\" exists",

                      "sequenceNumber": 1,

                      "enabled": true,

                      "operator": "AND",

                      "field": "msg['FT1'].toString()",

                      "condition": "EXISTS",

                      "values": null

                    },

                    {

                      "@version": "4.5.1",

                      "name": "Accept message if \"msg['FT1']['FT1.7']['FT1.7.1'].toString().substr(0,3)\" does not equal 'NL-'",

                      "sequenceNumber": 2,

                      "enabled": true,

                      "operator": "AND",

                      "field": "msg['FT1']['FT1.7']['FT1.7.1'].toString().substr(0,3)",

                      "condition": "NOT_EQUAL",

                      "values": {

                        "string": "'NL-'"

                      }

                    }

                  ]

                }

              },

              "transportName": "TCP Sender",

              "mode": "DESTINATION",

              "enabled": true,

              "waitForPrevious": true

            },

            {

              "@version": "4.5.1",

              "metaDataId": 2,

              "name": "KIS NL",

              "properties": {

                "@class": "com.mirth.connect.connectors.tcp.TcpDispatcherProperties",

                "@version": "4.5.1",

                "pluginProperties": null,

                "destinationConnectorProperties": {

                  "@version": "4.5.1",

                  "queueEnabled": true,

                  "sendFirst": true,

                  "retryIntervalMillis": 10000,

                  "regenerateTemplate": true,

                  "retryCount": 0,

                  "rotate": false,

                  "includeFilterTransformer": false,

                  "threadCount": 1,

                  "threadAssignmentVariable": null,

                  "validateResponse": true,

                  "resourceIds": {

                    "@class": "linked-hash-map",

                    "entry": {

                      "string": [

                        "Default Resource",

                        "[Default Resource]"

                      ]

                    }

                  },

                  "queueBufferSize": 1000,

                  "reattachAttachments": true

                },

                "transmissionModeProperties": {

                  "@class": "com.mirth.connect.plugins.mllpmode.MLLPModeProperties",

                  "pluginPointName": "MLLP",

                  "startOfMessageBytes": "0B",

                  "endOfMessageBytes": "1C0D",

                  "useMLLPv2": false,

                  "ackBytes": "06",

                  "nackBytes": 15,

                  "maxRetries": 2

                },

                "serverMode": false,

                "remoteAddress": "172.19.3.10",

                "remotePort": 5577,

                "overrideLocalBinding": false,

                "localAddress": "0.0.0.0",

                "localPort": 0,

                "sendTimeout": 50000,

                "bufferSize": 65536,

                "maxConnections": 10,

                "keepConnectionOpen": true,

                "checkRemoteHost": true,

                "responseTimeout": 50000,

                "ignoreResponse": false,

                "queueOnResponseTimeout": false,

                "dataTypeBinary": false,

                "charsetEncoding": "ISO-8859-15",

                "template": "${message.encodedData}"

              },

              "transformer": {

                "@version": "4.5.1",

                "elements": {

                  "com.mirth.connect.plugins.javascriptstep.JavaScriptStep": {

                    "@version": "4.5.1",

                   "name": "modify messages from Centricity RIS",

                    "sequenceNumber": 0,

                    "enabled": true,

                    "script": "tmp = msg.copy();\n\nif(msg['MSH']['MSH.3']['MSH.3.1']=='CRIS'){\n\tvar prefixCheck;\n\n\tprefixCheck = msg['FT1']['FT1.7']['FT1.7.1'].toString().charAt(0);\n\n\t//Anpassung K1043-323 [ako] 2022-07-29\n\t//  Präfix \"NL-\" entfernen\n\t//  Katalog \"HAUS\" ändern in \"NL\"\n\t//________________________________________________________________________\n\tfor each (ft1 in tmp['FT1']) \n\t{\n\t\tif(ft1['FT1.7']['FT1.7.1'].toString().substr(0,3)==\"NL-\")\n\t\t\t{\n\t\t\t\tft1['FT1.7']['FT1.7.1'] = ft1['FT1.7']['FT1.7.1'].toString().substr(3);\n\t\t\t}\n\t\tif(ft1['FT1.7']['FT1.7.3'].toString() == \"HAUS\")\n\t\t\t{\n\t\t\t\tft1['FT1.7']['FT1.7.3'] = \"NL\";\n\t\t\t}\n\t\tif(ft1['FT1.6']['FT1.6.1']=='CR')\n\t\t\t{\n\t\t\t\tft1['FT1.10']['FT1.10.1']=\"-\" + ft1['FT1.10']['FT1.10.1'].toString();\n\t\t\t}\t\n\t\tif(!ft1['FT1.4']['FT1.4.1'].toString().length > 0)\n\t\t\t{ \n\t\t\t\tft1['FT1.4']['FT1.4.1']=msg['EVN']['EVN.2']['EVN.2.1'].toString();\n\t\t\t}\t\n\t\tif(prefixCheck == 'G')\n\t\t\t{\n\t\t\t\ttmp['FT1']['FT1.7']['FT1.7.3']='GOAE';\n\t\t\t\ttmp['FT1']['FT1.7']['FT1.7.1']=msg['FT1']['FT1.7']['FT1.7.1'].toString().substr(1);\n\t\t\t}\n\t\telse if(prefixCheck == 'E')\n\t\t\t{\n\t\t\t\ttmp['FT1']['FT1.7']['FT1.7.3']='EBM';\n\t\t\t\ttmp['FT1']['FT1.7']['FT1.7.1']=msg['FT1']['FT1.7']['FT1.7.1'].toString().substr(1);\n\t\t\t}\n\t\tft1['FT1.6']['FT1.6.1'] = \"\";\t\t\n\t}\n\t//________________________________________________________________________\n\n}\n\n//previous Version\n/*tmp = msg.copy();\n\nif(msg['MSH']['MSH.3']['MSH.3.1']=='CRIS'){\n\tvar prefixCheck;\n\n\tprefixCheck = msg['FT1']['FT1.7']['FT1.7.1'].toString().charAt(0);\n\n\tif(!msg['FT1']['FT1.4']['FT1.4.1'].toString().length > 0){ \n\t\ttmp['FT1']['FT1.4']['FT1.4.1']=msg['EVN']['EVN.2']['EVN.2.1'].toString();\n\t}\n\n\ttmp['FT1']['FT1.6']['FT1.6.1']='';\n\n\tif(msg['FT1']['FT1.6']['FT1.6.1']=='CR'){\n\t\ttmp['FT1']['FT1.10']['FT1.10.1']='-'+msg['FT1']['FT1.10']['FT1.10.1'].toString();\n\t}\n\n\ttmp['FT1']['FT1.7']['FT1.7.1']=msg['FT1']['FT1.7']['FT1.7.1'].toString().substr(1);\n\n\tif(prefixCheck == 'G'){\n\t\ttmp['FT1']['FT1.7']['FT1.7.3']='GOAE';\n\t}else if(prefixCheck == 'E'){\n\t\ttmp['FT1']['FT1.7']['FT1.7.3']='EBM';\n\t}\n}\n*/"

                  }

                },

                "inboundTemplate": {

                  "@encoding": "base64"

                },

                "outboundTemplate": {

                  "@encoding": "base64",

                  "$": "TVNIfF5+XCZ8Q1JJU3xSYWRpb2xvZ3l8SElTfHwyMDE1MDEyNjE1NTI1NHxNZWRvcmF8REZUXlAwM3wyNjJ8UHwyLjN8fHxBTA=="

                },

                "inboundDataType": "HL7V2",

                "outboundDataType": "HL7V2",

                "inboundProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties",

                  "@version": "4.5.1",

                  "serializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties",

                    "@version": "4.5.1",

                    "handleRepetitions": true,

                    "handleSubcomponents": true,

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "stripNamespaces": false,

                    "segmentDelimiter": "\\r",

                    "convertLineBreaks": true

                  },

                  "deserializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties",

                    "@version": "4.5.1",

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "segmentDelimiter": "\\r"

                  },

                  "batchProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties",

                    "@version": "4.5.1",

                    "splitType": "MSH_Segment",

                    "batchScript": null

                  },

                  "responseGenerationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties",

                    "@version": "4.5.1",

                    "segmentDelimiter": "\\r",

                    "successfulACKCode": "AA",

                    "successfulACKMessage": null,

                    "errorACKCode": "AE",

                    "errorACKMessage": "An Error Occurred Processing Message.",

                    "rejectedACKCode": "AR",

                    "rejectedACKMessage": "Message Rejected.",

                    "msh15ACKAccept": false,

                    "dateFormat": "yyyyMMddHHmmss.SSS"

                  },

                  "responseValidationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties",

                    "@version": "4.5.1",

                    "successfulACKCode": "AA,CA",

                    "errorACKCode": "AE,CE",

                    "rejectedACKCode": "AR,CR",

                    "validateMessageControlId": true,

                    "originalMessageControlId": "Destination_Encoded",

                    "originalIdMapVariable": null

                  }

                },

                "outboundProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties",

                  "@version": "4.5.1",

                  "serializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties",

                    "@version": "4.5.1",

                    "handleRepetitions": true,

                    "handleSubcomponents": true,

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "stripNamespaces": false,

                    "segmentDelimiter": "\\r",

                    "convertLineBreaks": true

                  },

                  "deserializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties",

                    "@version": "4.5.1",

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "segmentDelimiter": "\\r"

                  },

                  "batchProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties",

                    "@version": "4.5.1",

                    "splitType": "MSH_Segment",

                    "batchScript": null

                  },

                  "responseGenerationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties",

                    "@version": "4.5.1",

                    "segmentDelimiter": "\\r",

                    "successfulACKCode": "AA",

                    "successfulACKMessage": null,

                    "errorACKCode": "AE",

                    "errorACKMessage": "An Error Occurred Processing Message.",

                    "rejectedACKCode": "AR",

                    "rejectedACKMessage": "Message Rejected.",

                    "msh15ACKAccept": false,

                    "dateFormat": "yyyyMMddHHmmss.SSS"

                  },

                  "responseValidationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties",

                    "@version": "4.5.1",

                    "successfulACKCode": "AA,CA",

                    "errorACKCode": "AE,CE",

                    "rejectedACKCode": "AR,CR",

                    "validateMessageControlId": true,

                    "originalMessageControlId": "Destination_Encoded",

                    "originalIdMapVariable": null

                  }

                }

              },

              "responseTransformer": {

                "@version": "4.5.1",

                "elements": null,

                "inboundDataType": "HL7V2",

                "outboundDataType": "HL7V2",

                "inboundProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties",

                  "@version": "4.5.1",

                  "serializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties",

                    "@version": "4.5.1",

                    "handleRepetitions": true,

                    "handleSubcomponents": true,

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "stripNamespaces": false,

                    "segmentDelimiter": "\\r",

                    "convertLineBreaks": true

                  },

                  "deserializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties",

                    "@version": "4.5.1",

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "segmentDelimiter": "\\r"

                  },

                  "batchProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties",

                    "@version": "4.5.1",

                    "splitType": "MSH_Segment",

                    "batchScript": null

                  },

                  "responseGenerationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties",

                    "@version": "4.5.1",

                    "segmentDelimiter": "\\r",

                    "successfulACKCode": "AA",

                    "successfulACKMessage": null,

                    "errorACKCode": "AE",

                    "errorACKMessage": "An Error Occurred Processing Message.",

                    "rejectedACKCode": "AR",

                    "rejectedACKMessage": "Message Rejected.",

                    "msh15ACKAccept": false,

                    "dateFormat": "yyyyMMddHHmmss.SSS"

                  },

                  "responseValidationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties",

                    "@version": "4.5.1",

                    "successfulACKCode": "AA,CA",

                    "errorACKCode": "AE,CE",

                    "rejectedACKCode": "AR,CR",

                    "validateMessageControlId": true,

                    "originalMessageControlId": "Destination_Encoded",

                    "originalIdMapVariable": null

                  }

                },

                "outboundProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties",

                  "@version": "4.5.1",

                  "serializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties",

                    "@version": "4.5.1",

                    "handleRepetitions": true,

                    "handleSubcomponents": true,

                   "useStrictParser": false,

                    "useStrictValidation": false,

                    "stripNamespaces": false,

                    "segmentDelimiter": "\\r",

                    "convertLineBreaks": true

                  },

                 "deserializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties",

                    "@version": "4.5.1",

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "segmentDelimiter": "\\r"

                  },

                  "batchProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties",

                    "@version": "4.5.1",

                    "splitType": "MSH_Segment",

                    "batchScript": null

                  },

                  "responseGenerationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties",

                    "@version": "4.5.1",

                    "segmentDelimiter": "\\r",

                    "successfulACKCode": "AA",

                    "successfulACKMessage": null,

                    "errorACKCode": "AE",

                    "errorACKMessage": "An Error Occurred Processing Message.",

                    "rejectedACKCode": "AR",

                    "rejectedACKMessage": "Message Rejected.",

                    "msh15ACKAccept": false,

                    "dateFormat": "yyyyMMddHHmmss.SSS"

                  },

                  "responseValidationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties",

                    "@version": "4.5.1",

                    "successfulACKCode": "AA,CA",

                    "errorACKCode": "AE,CE",

                    "rejectedACKCode": "AR,CR",

                    "validateMessageControlId": true,

                    "originalMessageControlId": "Destination_Encoded",

                    "originalIdMapVariable": null

                  }

                }

              },

              "filter": {

                "@version": "4.5.1",

                "elements": {

                  "com.mirth.connect.plugins.rulebuilder.RuleBuilderRule": [

                    {

                      "@version": "4.5.1",

                      "name": "Accept message if \"msg['MSH']['MSH.3']['MSH.3.1'].toString()\" equals 'ER-Path' or 'CRIS'",

                      "sequenceNumber": 0,

                      "enabled": true,

                      "field": "msg['MSH']['MSH.3']['MSH.3.1'].toString()",

                      "condition": "EQUALS",

                      "values": {

                        "string": [

                          "'ER-Path'",

                          "'CRIS'"

                        ]

                      }

                    },

                    {

                      "@version": "4.5.1",

                      "name": "Accept message if \"msg['PV1']['PV1.19']['PV1.19.1'].toString()\" does not contain 'WKH'",

                      "sequenceNumber": 1,

                      "enabled": true,

                      "operator": "AND",

                      "field": "msg['PV1']['PV1.19']['PV1.19.1'].toString()",

                      "condition": "NOT_CONTAIN",

                      "values": {

                        "string": "'WKH'"

                      }

                    }

                  ]

                }

              },

              "transportName": "TCP Sender",

              "mode": "DESTINATION",

              "enabled": true,

              "waitForPrevious": false

            }

          ]

        },

        "preprocessingScript": "// Modify the message variable below to pre process data\nreturn message;",

        "postprocessingScript": "// This script executes once after a message has been processed\n// Responses returned from here will be stored as \"Postprocessor\" in the response map\nreturn;",

        "deployScript": "// This script executes once when the channel is deployed\n// You only have access to the globalMap and globalChannelMap here to persist data\nreturn;",

        "undeployScript": "// This script executes once when the channel is undeployed\n// You only have access to the globalMap and globalChannelMap here to persist data\nreturn;",

        "properties": {

          "@version": "4.5.1",

          "clearGlobalChannelMap": true,

          "messageStorageMode": "PRODUCTION",

          "encryptData": false,

          "encryptAttachments": false,

          "encryptCustomMetaData": false,

          "removeContentOnCompletion": false,

          "removeOnlyFilteredOnCompletion": false,

          "removeAttachmentsOnCompletion": false,

          "initialState": "STARTED",

          "storeAttachments": true,

          "metaDataColumns": {

            "metaDataColumn": [

              {

                "name": "SOURCE",

                "type": "STRING",

                "mappingName": "mirth_source"

              },

              {

                "name": "TYPE",

                "type": "STRING",

                "mappingName": "mirth_type"

              },

              {

                "name": "PAT_ID",

                "type": "STRING",

                "mappingName": "patientId"

              },

              {

                "name": "VISIT_ID",

                "type": "STRING",

                "mappingName": "visitId"

              }

            ]

          },

          "attachmentProperties": {

            "@version": "4.5.1",

            "type": "None",

            "properties": null

          },

          "resourceIds": {

            "@class": "linked-hash-map",

            "entry": {

              "string": [

                "Default Resource",

                "[Default Resource]"

              ]

            }

          }

        },

        "exportData": {

          "metadata": {

            "enabled": true,

            "lastModified": {

              "time": 1744628583553,

              "timezone": "Europe/Berlin"

            },

            "pruningSettings": {

              "pruneMetaDataDays": 31,

              "archiveEnabled": true,

              "pruneErroredMessages": false

            },

            "userId": 4

          },

          "dependentIds": null,

          "dependencyIds": null,

          "channelTags": null

        }

      },

      {

        "@version": "4.5.1",

        "id": "9a1e796c-990b-4347-8f06-42da7424ceb5",

        "nextMetaDataId": 3,

        "name": "C_GenericMdm",

        "description": "HL7 MDM Daten zu KIS",

        "revision": 17,

        "sourceConnector": {

          "@version": "4.5.1",

          "metaDataId": 0,

          "name": "sourceConnector",

          "properties": {

            "@class": "com.mirth.connect.connectors.tcp.TcpReceiverProperties",

            "@version": "4.5.1",

            "pluginProperties": null,

            "listenerConnectorProperties": {

              "@version": "4.5.1",

              "host": "0.0.0.0",

              "port": 6500

            },

            "sourceConnectorProperties": {

              "@version": "4.5.1",

              "responseVariable": "Auto-generate (After source transformer)",

              "respondAfterProcessing": true,

              "processBatch": false,

              "firstResponse": true,

              "processingThreads": 1,

              "resourceIds": {

                "@class": "linked-hash-map",

                "entry": {

                  "string": [

                    "Default Resource",

                    "[Default Resource]"

                  ]

                }

              },

              "queueBufferSize": 1000

            },

            "transmissionModeProperties": {

              "@class": "com.mirth.connect.plugins.mllpmode.MLLPModeProperties",

              "pluginPointName": "MLLP",

              "startOfMessageBytes": "0B",

              "endOfMessageBytes": "1C0D",

              "useMLLPv2": false,

              "ackBytes": "06",

              "nackBytes": 15,

              "maxRetries": 2

            },

            "serverMode": true,

            "remoteAddress": null,

            "remotePort": null,

            "overrideLocalBinding": false,

            "reconnectInterval": 5000,

            "receiveTimeout": 0,

            "bufferSize": 65536,

            "maxConnections": 10,

            "keepConnectionOpen": true,

            "dataTypeBinary": false,

            "charsetEncoding": "ISO-8859-15",

            "respondOnNewConnection": 0,

            "responseAddress": null,

            "responsePort": null

          },

          "transformer": {

            "@version": "4.5.1",

            "elements": {

              "com.mirth.connect.plugins.javascriptstep.JavaScriptStep": {

                "@version": "4.5.1",

                "name": "Metadaten",

                "sequenceNumber": 0,

                "enabled": true,

                "script": "getVisitMetadata();"

              }

            },

            "inboundTemplate": {

              "@encoding": "base64",

              "$": "TVNIfF5+XCZ8TklEQWtsaW5pa3NlcnZlcnxITDdDb25uZWN0b3J8S0lTc3lzdGVtfFpUTXwyMDE5MDIyNzExMzB8fE1ETV5UMDJ8bWVkRFY2MzY5MTAzMzMxNDgxMDQ0MTJ8fDIuMyAKRVZOfFQwMnwyMDE5MDIyNzExNDF8MjAxOTAyMjcxMTQxIApQSUR8MXxlNjEyODhkNTMzZGVmOTEwNzU1NzBiZDI1MjY4NmU2OHwxMjM0NTYgClBWMXwxfHx8fHx8fHx8fHx8fHx8fHx8MTg3NjU0MyAKVFhBfDF8Tm90ZmFsbHByb3Rva29sbHxBUHx8fHx8MjAxOTAyMjcxMTQxfHx8fFZfZTYxMjg4ZDUzM2RlZjkxMDc1NTcwYmQyNTI2ODZlNjheTklEQXx8fHxOb3RmYWxscHJvdG9rb2xsX1ZfZTYxMjg4ZDUzM2RlZjkxMDc1NTcwYmQyNTI2ODZlNjgucGRmIApPQlh8MXxFRHx8fE5JREFeXlBERl5CYXNlNjReSlZCRVJpMHhMalFLSmNmc2o2SUtOU0F3SUc5aWFnbzhQQzlNWlc1Li4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi5QREYtSW5oYWx0Li4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uIHlNakE0TVFvbEpVVlBSZ289Cg=="

            },

            "outboundTemplate": {

              "@encoding": "base64"

            },

            "inboundDataType": "HL7V2",

            "outboundDataType": "HL7V2",

            "inboundProperties": {

              "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties",

              "@version": "4.5.1",

              "serializationProperties": {

                "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties",

                "@version": "4.5.1",

                "handleRepetitions": true,

                "handleSubcomponents": true,

                "useStrictParser": false,

                "useStrictValidation": false,

                "stripNamespaces": false,

                "segmentDelimiter": "\\r",

                "convertLineBreaks": true

              },

              "deserializationProperties": {

                "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties",

                "@version": "4.5.1",

                "useStrictParser": false,

                "useStrictValidation": false,

                "segmentDelimiter": "\\r"

              },

              "batchProperties": {

                "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties",

                "@version": "4.5.1",

                "splitType": "MSH_Segment",

                "batchScript": null

              },

              "responseGenerationProperties": {

                "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties",

                "@version": "4.5.1",

                "segmentDelimiter": "\\r",

                "successfulACKCode": "AA",

                "successfulACKMessage": null,

                "errorACKCode": "AE",

                "errorACKMessage": "An Error Occurred Processing Message.",

                "rejectedACKCode": "AR",

                "rejectedACKMessage": "Message Rejected.",

                "msh15ACKAccept": false,

                "dateFormat": "yyyyMMddHHmmss.SSS"

              },

              "responseValidationProperties": {

                "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties",

                "@version": "4.5.1",

                "successfulACKCode": "AA,CA",

                "errorACKCode": "AE,CE",

                "rejectedACKCode": "AR,CR",

                "validateMessageControlId": true,

                "originalMessageControlId": "Destination_Encoded",

                "originalIdMapVariable": null

              }

            },

            "outboundProperties": {

              "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties",

              "@version": "4.5.1",

              "serializationProperties": {

                "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties",

                "@version": "4.5.1",

                "handleRepetitions": true,

                "handleSubcomponents": true,

                "useStrictParser": false,

                "useStrictValidation": false,

                "stripNamespaces": false,

                "segmentDelimiter": "\\r",

                "convertLineBreaks": true

              },

              "deserializationProperties": {

                "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties",

                "@version": "4.5.1",

                "useStrictParser": false,

                "useStrictValidation": false,

                "segmentDelimiter": "\\r"

              },

              "batchProperties": {

                "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties",

                "@version": "4.5.1",

                "splitType": "MSH_Segment",

                "batchScript": null

              },

              "responseGenerationProperties": {

                "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties",

                "@version": "4.5.1",

                "segmentDelimiter": "\\r",

                "successfulACKCode": "AA",

                "successfulACKMessage": null,

                "errorACKCode": "AE",

                "errorACKMessage": "An Error Occurred Processing Message.",

                "rejectedACKCode": "AR",

                "rejectedACKMessage": "Message Rejected.",

                "msh15ACKAccept": false,

                "dateFormat": "yyyyMMddHHmmss.SSS"

              },

              "responseValidationProperties": {

                "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties",

                "@version": "4.5.1",

                "successfulACKCode": "AA,CA",

                "errorACKCode": "AE,CE",

                "rejectedACKCode": "AR,CR",

                "validateMessageControlId": true,

                "originalMessageControlId": "Destination_Encoded",

                "originalIdMapVariable": null

              }

            }

          },

          "filter": {

            "@version": "4.5.1",

            "elements": {

              "com.mirth.connect.plugins.rulebuilder.RuleBuilderRule": {

                "@version": "4.5.1",

                "name": "Accept message if \"msg['MSH']['MSH.9']['MSH.9.1'].toString()\" equals 'MDM'",

                "sequenceNumber": 0,

                "enabled": true,

                "field": "msg['MSH']['MSH.9']['MSH.9.1'].toString()",

                "condition": "EQUALS",

                "values": {

                  "string": "'MDM'"

                }

              }

            }

          },

          "transportName": "TCP Listener",

          "mode": "SOURCE",

          "enabled": true,

          "waitForPrevious": true

        },

        "destinationConnectors": {

          "connector": [

            {

              "@version": "4.5.1",

              "metaDataId": 2,

              "name": "KIS MDM",

              "properties": {

                "@class": "com.mirth.connect.connectors.tcp.TcpDispatcherProperties",

                "@version": "4.5.1",

                "pluginProperties": null,

                "destinationConnectorProperties": {

                  "@version": "4.5.1",

                  "queueEnabled": true,

                  "sendFirst": true,

                  "retryIntervalMillis": 10000,

                  "regenerateTemplate": true,

                  "retryCount": 0,

                  "rotate": false,

                  "includeFilterTransformer": false,

                  "threadCount": 1,

                  "threadAssignmentVariable": null,

                  "validateResponse": true,

                  "resourceIds": {

                    "@class": "linked-hash-map",

                    "entry": {

                      "string": [

                        "Default Resource",

                        "[Default Resource]"

                      ]

                    }

                  },

                  "queueBufferSize": 1000,

                  "reattachAttachments": true

                },

                "transmissionModeProperties": {

                  "@class": "com.mirth.connect.plugins.mllpmode.MLLPModeProperties",

                  "pluginPointName": "MLLP",

                  "startOfMessageBytes": "0B",

                  "endOfMessageBytes": "1C0D",

                  "useMLLPv2": false,

                  "ackBytes": "06",

                  "nackBytes": 15,

                  "maxRetries": 2

                },

                "serverMode": false,

                "remoteAddress": "172.19.3.10",

                "remotePort": 5582,

                "overrideLocalBinding": false,

                "localAddress": "0.0.0.0",

                "localPort": 0,

                "sendTimeout": 30000,

                "bufferSize": 65536,

                "maxConnections": 10,

                "keepConnectionOpen": true,

                "checkRemoteHost": true,

                "responseTimeout": 50000,

                "ignoreResponse": false,

                "queueOnResponseTimeout": true,

                "dataTypeBinary": false,

                "charsetEncoding": "ISO-8859-15",

                "template": "${message.encodedData}"

              },

              "transformer": {

                "@version": "4.5.1",

                "elements": null,

                "inboundTemplate": {

                  "@encoding": "base64"

                },

                "inboundDataType": "HL7V2",

                "outboundDataType": "HL7V2",

                "inboundProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties",

                  "@version": "4.5.1",

                  "serializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties",

                    "@version": "4.5.1",

                    "handleRepetitions": true,

                    "handleSubcomponents": true,

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "stripNamespaces": false,

                    "segmentDelimiter": "\\r",

                    "convertLineBreaks": true

                  },

                  "deserializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties",

                    "@version": "4.5.1",

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "segmentDelimiter": "\\r"

                  },

                  "batchProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties",

                    "@version": "4.5.1",

                    "splitType": "MSH_Segment",

                    "batchScript": null

                  },

                  "responseGenerationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties",

                    "@version": "4.5.1",

                    "segmentDelimiter": "\\r",

                    "successfulACKCode": "AA",

                    "successfulACKMessage": null,

                    "errorACKCode": "AE",

                    "errorACKMessage": "An Error Occurred Processing Message.",

                    "rejectedACKCode": "AR",

                    "rejectedACKMessage": "Message Rejected.",

                    "msh15ACKAccept": false,

                    "dateFormat": "yyyyMMddHHmmss.SSS"

                  },

                  "responseValidationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties",

                    "@version": "4.5.1",

                    "successfulACKCode": "AA,CA",

                    "errorACKCode": "AE,CE",

                    "rejectedACKCode": "AR,CR",

                    "validateMessageControlId": true,

                    "originalMessageControlId": "Destination_Encoded",

                    "originalIdMapVariable": null

                  }

                },

                "outboundProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties",

                  "@version": "4.5.1",

                  "serializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties",

                    "@version": "4.5.1",

                    "handleRepetitions": true,

                    "handleSubcomponents": true,

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "stripNamespaces": false,

                    "segmentDelimiter": "\\r",

                    "convertLineBreaks": true

                  },

                  "deserializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties",

                    "@version": "4.5.1",

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "segmentDelimiter": "\\r"

                  },

                  "batchProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties",

                    "@version": "4.5.1",

                    "splitType": "MSH_Segment",

                    "batchScript": null

                  },

                  "responseGenerationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties",

                    "@version": "4.5.1",

                    "segmentDelimiter": "\\r",

                    "successfulACKCode": "AA",

                    "successfulACKMessage": null,

                    "errorACKCode": "AE",

                    "errorACKMessage": "An Error Occurred Processing Message.",

                    "rejectedACKCode": "AR",

                    "rejectedACKMessage": "Message Rejected.",

                    "msh15ACKAccept": false,

                    "dateFormat": "yyyyMMddHHmmss.SSS"

                  },

                  "responseValidationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties",

                    "@version": "4.5.1",

                    "successfulACKCode": "AA,CA",

                    "errorACKCode": "AE,CE",

                    "rejectedACKCode": "AR,CR",

                    "validateMessageControlId": true,

                    "originalMessageControlId": "Destination_Encoded",

                    "originalIdMapVariable": null

                  }

                }

              },

              "responseTransformer": {

                "@version": "4.5.1",

                "elements": null,

                "inboundDataType": "HL7V2",

                "outboundDataType": "HL7V2",

                "inboundProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties",

                  "@version": "4.5.1",

                  "serializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties",

                    "@version": "4.5.1",

                    "handleRepetitions": true,

                    "handleSubcomponents": true,

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "stripNamespaces": false,

                    "segmentDelimiter": "\\r",

                    "convertLineBreaks": true

                  },

                  "deserializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties",

                    "@version": "4.5.1",

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "segmentDelimiter": "\\r"

                  },

                  "batchProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties",

                    "@version": "4.5.1",

                    "splitType": "MSH_Segment",

                    "batchScript": null

                  },

                  "responseGenerationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties",

                    "@version": "4.5.1",

                    "segmentDelimiter": "\\r",

                    "successfulACKCode": "AA",

                    "successfulACKMessage": null,

                    "errorACKCode": "AE",

                    "errorACKMessage": "An Error Occurred Processing Message.",

                    "rejectedACKCode": "AR",

                    "rejectedACKMessage": "Message Rejected.",

                    "msh15ACKAccept": false,

                   "dateFormat": "yyyyMMddHHmmss.SSS"

                  },

                  "responseValidationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties",

                    "@version": "4.5.1",

                    "successfulACKCode": "AA,CA",

                    "errorACKCode": "AE,CE",

                    "rejectedACKCode": "AR,CR",

                    "validateMessageControlId": true,

                    "originalMessageControlId": "Destination_Encoded",

                    "originalIdMapVariable": null

                  }

                },

                "outboundProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties",

                  "@version": "4.5.1",

                  "serializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties",

                    "@version": "4.5.1",

                    "handleRepetitions": true,

                    "handleSubcomponents": true,

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "stripNamespaces": false,

                    "segmentDelimiter": "\\r",

                    "convertLineBreaks": true

                  },

                  "deserializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties",

                    "@version": "4.5.1",

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "segmentDelimiter": "\\r"

                  },

                  "batchProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties",

                    "@version": "4.5.1",

                    "splitType": "MSH_Segment",

                    "batchScript": null

                  },

                  "responseGenerationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties",

                    "@version": "4.5.1",

                    "segmentDelimiter": "\\r",

                    "successfulACKCode": "AA",

                    "successfulACKMessage": null,

                    "errorACKCode": "AE",

                    "errorACKMessage": "An Error Occurred Processing Message.",

                    "rejectedACKCode": "AR",

                    "rejectedACKMessage": "Message Rejected.",

                    "msh15ACKAccept": false,

                    "dateFormat": "yyyyMMddHHmmss.SSS"

                  },

                  "responseValidationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties",

                    "@version": "4.5.1",

                    "successfulACKCode": "AA,CA",

                    "errorACKCode": "AE,CE",

                    "rejectedACKCode": "AR,CR",

                    "validateMessageControlId": true,

                    "originalMessageControlId": "Destination_Encoded",

                    "originalIdMapVariable": null

                  }

                }

              },

              "filter": {

                "@version": "4.5.1",

                "elements": {

                  "com.mirth.connect.plugins.rulebuilder.RuleBuilderRule": [

                    {

                      "@version": "4.5.1",

                      "name": "Accept message if \"msg['MSH']['MSH.9']['MSH.9.1'].toString()\" equals 'MDM'",

                      "sequenceNumber": 0,

                      "enabled": true,

                      "field": "msg['MSH']['MSH.9']['MSH.9.1'].toString()",

                      "condition": "EQUALS",

                      "values": {

                        "string": "'MDM'"

                      }

                    },

                    {

                      "@version": "4.5.1",

                      "name": "Accept message if \"msg['PID']['PID.3']['PID.3.1'].toString()\" does not contain 'CTK_' or 'WKH' or 'KGS'",

                      "sequenceNumber": 1,

                      "enabled": true,

                      "operator": "AND",

                      "field": "msg['PID']['PID.3']['PID.3.1'].toString()",

                      "condition": "NOT_CONTAIN",

                      "values": {

                        "string": [

                          "'CTK_'",

                          "'WKH'",

                          "'KGS'"

                        ]

                      }

                    },

                    {

                      "@version": "4.5.1",

                      "name": "Accept message if \"msg['MSH']['MSH.4']['MSH.4.1'].toString()\" does not equal 'CP99'",

                      "sequenceNumber": 3,

                      "enabled": true,

                      "operator": "AND",

                      "field": "msg['MSH']['MSH.4']['MSH.4.1'].toString()",

                      "condition": "NOT_EQUAL",

                      "values": {

                        "string": "'CP99'"

                      }

                    },

                    {

                      "@version": "4.5.1",

                      "name": "Accept message if \"msg['OBX']['OBX.5']['OBX.5.4'].toString()\" does not equal 'Base64'",

                      "sequenceNumber": 4,

                      "enabled": true,

                      "operator": "AND",

                      "field": "msg['OBX']['OBX.5']['OBX.5.4'].toString()",

                      "condition": "NOT_EQUAL",

                      "values": {

                        "string": "'Base64'"

                      }

                    }

                  ],

                  "com.mirth.connect.plugins.javascriptrule.JavaScriptRule": {

                    "@version": "4.5.1",

                    "name": "Delay Medat MDM",

                    "sequenceNumber": 2,

                    "enabled": true,

                    "operator": "AND",

                    "script": "if(msg['MSH']['MSH.3']['MSH.3.1'].toString()==\"MEDAT\"){\n\tPackages.java.lang.Thread.sleep(10000);\n}\nreturn(true);"

                  }

                }

              },

              "transportName": "TCP Sender",

              "mode": "DESTINATION",

              "enabled": true,

              "waitForPrevious": false

            },

            {

              "@version": "4.5.1",

              "metaDataId": 1,

              "name": "KIS MDM Embedded",

              "properties": {

                "@class": "com.mirth.connect.connectors.tcp.TcpDispatcherProperties",

                "@version": "4.5.1",

                "pluginProperties": null,

                "destinationConnectorProperties": {

                  "@version": "4.5.1",

                  "queueEnabled": true,

                  "sendFirst": true,

                  "retryIntervalMillis": 10000,

                  "regenerateTemplate": true,

                  "retryCount": 0,

                  "rotate": false,

                  "includeFilterTransformer": false,

                  "threadCount": 1,

                  "threadAssignmentVariable": null,

                  "validateResponse": true,

                  "resourceIds": {

                    "@class": "linked-hash-map",

                    "entry": {

                      "string": [

                        "Default Resource",

                        "[Default Resource]"

                      ]

                    }

                  },

                  "queueBufferSize": 1000,

                  "reattachAttachments": true

                },

                "transmissionModeProperties": {

                  "@class": "com.mirth.connect.plugins.mllpmode.MLLPModeProperties",

                 "pluginPointName": "MLLP",

                  "startOfMessageBytes": "0B",

                  "endOfMessageBytes": "1C0D",

                  "useMLLPv2": false,

                  "ackBytes": "06",

                  "nackBytes": 15,

                  "maxRetries": 2

                },

                "serverMode": false,

                "remoteAddress": "172.19.3.10",

                "remotePort": 5592,

                "overrideLocalBinding": false,

                "localAddress": "0.0.0.0",

                "localPort": 0,

                "sendTimeout": 30000,

                "bufferSize": 65536,

                "maxConnections": 10,

                "keepConnectionOpen": true,

                "checkRemoteHost": true,

                "responseTimeout": 50000,

                "ignoreResponse": false,

                "queueOnResponseTimeout": true,

                "dataTypeBinary": false,

                "charsetEncoding": "ISO-8859-15",

                "template": "${message.encodedData}"

              },

              "transformer": {

                "@version": "4.5.1",

                "elements": {

                  "com.mirth.connect.plugins.javascriptstep.JavaScriptStep": [

                    {

                      "@version": "4.5.1",

                      "name": "prepare tmp",

                      "sequenceNumber": 0,

                      "enabled": true,

                      "script": "tmp = msg.copy();"

                    },

                    {

                      "@version": "4.5.1",

                      "name": "set MSA4.1 according to TXA2.1 doc type",

                      "sequenceNumber": 1,

                      "enabled": true,

                      "script": "txaDocType = msg['TXA']['TXA.2']['TXA.2.1'].toString()\n\nswitch (txaDocType) {\n\tcase 'Notfallprotokoll' :\n\t\ttmp['MSH']['MSH.4']['MSH.4.1'] = 'NIDNFP';\n\t\tbreak;\n\tcase 'Notarztprotokoll' :\n\t\ttmp['MSH']['MSH.4']['MSH.4.1'] = 'NIDNAP';\n\t\tbreak;\n\tcase 'ITW-Protokoll' :\n\t\ttmp['MSH']['MSH.4']['MSH.4.1'] = 'NIDITW';\n\t\tbreak;\n\tcase 'EKG (Präklinik)' :\n\t\ttmp['MSH']['MSH.4']['MSH.4.1'] = 'NIDEKG';\n\t\tbreak;\n\tcase 'Einsatzfotos' :\n\t\ttmp['MSH']['MSH.4']['MSH.4.1'] = 'NIDPNG';\n\t\tbreak;\n/* MWE: Wird noch für ICM geändert */\n\tcase 'DP_ICMASC1' :\n\t\ttmp['MSH']['MSH.4']['MSH.4.1'] = 'ICMASC1';\n\t\tbreak;\n\tcase 'DP_ICMASC2' :\n\t\ttmp['MSH']['MSH.4']['MSH.4.1'] = 'ICMASC2';\n\t\tbreak;\n\tcase 'DP_ICMASC3' :\n\t\ttmp['MSH']['MSH.4']['MSH.4.1'] = 'ICMASC3';\n\t\tbreak;\n\tcase 'DP_ICMASC4' :\n\t\ttmp['MSH']['MSH.4']['MSH.4.1'] = 'ICMASC4';\n\t\tbreak;\n\tcase 'DP_ICM1-Ärztlicher_Verlauf' :\n\t\ttmp['MSH']['MSH.4']['MSH.4.1'] = 'ICM1';\n\t\tbreak;\n\tcase 'DP_ICM1-Scores' :\n\t\ttmp['MSH']['MSH.4']['MSH.4.1'] = 'ICM1';\n\t\tbreak;\n\tcase 'DP_ICM1-Diagnosen' :\n\t\ttmp['MSH']['MSH.4']['MSH.4.1'] = 'ICM1';\n\t\tbreak;\n\tcase 'DP_ICM2_Pflegedokumentation' :\n\t\ttmp['MSH']['MSH.4']['MSH.4.1'] = 'ICM2';\n\t\tbreak;\n\tcase 'DP_ICM2_Pflegeanamnese' :\n\t\ttmp['MSH']['MSH.4']['MSH.4.1'] = 'ICM2';\n\t\tbreak;\n\tcase 'DP_ICM2-Pflegedokumentation_Scores' :\n\t\ttmp['MSH']['MSH.4']['MSH.4.1'] = 'ICM2';\n\t\tbreak;\n\tcase 'DP_ICM2_Pflegebericht' :\n\t\ttmp['MSH']['MSH.4']['MSH.4.1'] = 'ICM2';\n\t\tbreak;\t\t\n\tcase 'DP_ICM3-Intensivkurve' :\n\t\ttmp['MSH']['MSH.4']['MSH.4.1'] = 'ICM3';\n\t\tbreak;\n\tcase 'DP_ICM4-Beatmungsprotokoll' :\n\t\ttmp['MSH']['MSH.4']['MSH.4.1'] = 'ICM4';\n\t\tbreak;\n\tcase 'DP_ICM5-IMKB' :\n\t\ttmp['MSH']['MSH.4']['MSH.4.1'] = 'ICM5';\n\t\tbreak;\n\tcase 'DP_ICM5-IMKBR' :\n\t\ttmp['MSH']['MSH.4']['MSH.4.1'] = 'ICM5';\n\t\tbreak;\n\tcase 'DP_ICM6_MREn_MRE_Komplexbehandlung' :\n\t\ttmp['MSH']['MSH.4']['MSH.4.1'] = 'ICM6';\n\t\tbreak;\n\tcase 'DP_ICM7-Neuro_Komplexbehandlung' :\n\t\ttmp['MSH']['MSH.4']['MSH.4.1'] = 'ICM7';\n\t\tbreak;\n\tcase 'DP_ICM8' :\n\t\ttmp['MSH']['MSH.4']['MSH.4.1'] = 'ICM8';\n\t\tbreak;\n\t}"

                    },

                    {

                      "@version": "4.5.1",

                      "name": "set TXA21.1 according to TXA2.1",

                      "sequenceNumber": 2,

                      "enabled": true,

                      "script": "if(msg['TXA']['TXA.2']['TXA.2.1'].toString() == 'DP_ICM1-Ärztlicher_Verlauf'){\n\ttmp['TXA']['TXA.21']['TXA.21.1'] = 'Ärztlicher Verlauf';\n}\nif(msg['TXA']['TXA.2']['TXA.2.1'].toString() == 'DP_ICM1-Scores'){\n\ttmp['TXA']['TXA.21']['TXA.21.1'] = 'Scores';\n}\nif(msg['TXA']['TXA.2']['TXA.2.1'].toString() == 'DP_ICM1-Diagnosen'){\n\ttmp['TXA']['TXA.21']['TXA.21.1'] = 'Diagnosen';\n}\nif(msg['TXA']['TXA.2']['TXA.2.1'].toString() == 'DP_ICM2_Pflegedokumentation'){\n\ttmp['TXA']['TXA.21']['TXA.21.1'] = 'Pflegedokumentation';\n}\nif(msg['TXA']['TXA.2']['TXA.2.1'].toString() == 'DP_ICM2_Pflegeanamnese'){\n\ttmp['TXA']['TXA.21']['TXA.21.1'] = 'Pflegeanamnese';\n}\nif(msg['TXA']['TXA.2']['TXA.2.1'].toString() == 'DP_ICM2-Pflegedokumentation_Scores'){\n\ttmp['TXA']['TXA.21']['TXA.21.1'] = 'Pflegedokumentation Scores';\n}\nif(msg['TXA']['TXA.2']['TXA.2.1'].toString() == 'DP_ICM2_Pflegebericht'){\n\ttmp['TXA']['TXA.21']['TXA.21.1'] = 'Pflegebericht';\n}\nif(msg['TXA']['TXA.2']['TXA.2.1'].toString() == 'DP_ICM3-Intensivkurve'){\n\ttmp['TXA']['TXA.21']['TXA.21.1'] = 'Intensivkurve';\n}\nif(msg['TXA']['TXA.2']['TXA.2.1'].toString() == 'DP_ICM4-Beatmungsprotokoll'){\n\ttmp['TXA']['TXA.21']['TXA.21.1'] = 'Beatmungsprotokoll';\n}\nif(msg['TXA']['TXA.2']['TXA.2.1'].toString() == 'DP_ICM5-IMKB'){\n\ttmp['TXA']['TXA.21']['TXA.21.1'] = 'Intensivkomplexbehandlung';\n}\nif(msg['TXA']['TXA.2']['TXA.2.1'].toString() == 'DP_ICM5-IMKBR'){\n\ttmp['TXA']['TXA.21']['TXA.21.1'] = 'Intensivkomplexbehandlung Raw';\n}\nif(msg['TXA']['TXA.2']['TXA.2.1'].toString() == 'DP_ICM6_MREn_MRE_Komplexbehandlung'){\n\ttmp['TXA']['TXA.21']['TXA.21.1'] = 'MREn-MRE Komplexbehandlung';\n}\nif(msg['TXA']['TXA.2']['TXA.2.1'].toString() == 'DP_ICM7-Neuro_Komplexbehandlung'){\n\ttmp['TXA']['TXA.21']['TXA.21.1'] = 'Neuro Komplexbehandlung';\n}"

                    }

                  ]

                },

                "inboundTemplate": {

                  "@encoding": "base64",

                  "$": "TVNIfF5+XCZ8SUNNfElOVHxEUFN8RFJBRUdFUnwyMDI1MDQxMTA5MzgyN15ZWVlZTU1EREhITU1TU3x8TURNXlQwMnwyMjQ4M3xUfDIuM3x8fHxBTA1FVk58VDAyfDIwMjUwNDExMDkzODI3XllZWVlNTURESEhNTVNTfHwxMDINUElEfDF8Mzk1ODQzNnwzOTU4NDM2fDE4NXxUZXN0LUlDTV4xNXx8MTk0NDA0MDQwMDAwMDBeWVlZWU1NRERISE1NU1N8Vw1QVjF8MXxJfENISVI1Xl5eR0VSfHx8fHx8fHx8fHx8fHx8fDQ1MDM3MzQyfHx8fHx8fHx8fHx8fHx8fHx8fHxHRVJ8fHx8fDIwMjUwNDA5MTkzNDAwXllZWVlNTURESEhNTVNTfHx8fHx8MTg1DVRYQXwxfERQX0lDTTJfUGZsZWdlYW5hbW5lc2V8QVB8MjAyNTA0MTAxOTI0MDBeWVlZWU1NRERISE1NU1N8fDIwMjUwNDExMDkzNzAwXllZWVlNTURESEhNTVNTfHx8fEF1dG9QcmludHx8MTU0N15JQ018fHx8RFBfSUNNMl9QZmxlZ2VhbmFtbmVzZV80NTAzNzM0Ml8xODUucGRmfERPDU9CWHwxfEVEfHx8SUNNXkFQXlBERl5CYXNlNjReJHtBVFRBQ0g6NWY0NDZhZjEtMjhhOC00Nzc2LWE2OWQtN2QzNjVhYTkzMzEzfQ=="

                },

                "outboundTemplate": {

                  "@encoding": "base64",

                  "$": "TVNIfF5+XCZ8SUNNfElOVHxEUFN8RFJBRUdFUnwyMDI1MDQxMTA5NDEzN15ZWVlZTU1EREhITU1TU3x8TURNXlQwMnwyMjUwOXxUfDIuM3x8fHxBTA1FVk58VDAyfDIwMjUwNDExMDk0MTM3XllZWVlNTURESEhNTVNTfHwxMDINUElEfDF8Mzk1ODQzNnwzOTU4NDM2fDE4NXxUZXN0LUlDTV4xNXx8MTk0NDA0MDQwMDAwMDBeWVlZWU1NRERISE1NU1N8Vw1QVjF8MXxJfENISVI1Xl5eR0VSfHx8fHx8fHx8fHx8fHx8fDQ1MDM3MzQyfHx8fHx8fHx8fHx8fHx8fHx8fHxHRVJ8fHx8fDIwMjUwNDA5MTkzNDAwXllZWVlNTURESEhNTVNTfHx8fHx8MTg1DVRYQXwxfERQX0lDTTItUGZsZWdlZG9rdW1lbnRhdGlvbl9TY29yZXN8QVB8MjAyNTA0MTAxOTI0MDBeWVlZWU1NRERISE1NU1N8fDIwMjUwNDExMDk0MTAwXllZWVlNTURESEhNTVNTfHx8fEF1dG9QcmludHx8MTU3M15JQ018fHx8RFBfSUNNMl9QZmxlZ2VfU2NvcmVzXzQ1MDM3MzQyXzE4NS5wZGZ8RE8NT0JYfDF8RUR8fHxJQ01eQVBeUERGXkJhc2U2NF4ke0FUVEFDSDo2ODBjOTU0MS03YjYxLTQ5YWMtODg0OS1jMjFlNTdmZDE3YmR9"

                },

                "inboundDataType": "HL7V2",

                "outboundDataType": "HL7V2",

                "inboundProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties",

                  "@version": "4.5.1",

                  "serializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties",

                    "@version": "4.5.1",

                    "handleRepetitions": true,

                    "handleSubcomponents": true,

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "stripNamespaces": false,

                    "segmentDelimiter": "\\r",

                    "convertLineBreaks": true

                  },

                  "deserializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties",

                    "@version": "4.5.1",

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "segmentDelimiter": "\\r"

                  },

                  "batchProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties",

                    "@version": "4.5.1",

                    "splitType": "MSH_Segment",

                    "batchScript": null

                  },

                  "responseGenerationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties",

                    "@version": "4.5.1",

                    "segmentDelimiter": "\\r",

                    "successfulACKCode": "AA",

                    "successfulACKMessage": null,

                    "errorACKCode": "AE",

                    "errorACKMessage": "An Error Occurred Processing Message.",

                    "rejectedACKCode": "AR",

                    "rejectedACKMessage": "Message Rejected.",

                    "msh15ACKAccept": false,

                    "dateFormat": "yyyyMMddHHmmss.SSS"

                  },

                  "responseValidationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties",

                    "@version": "4.5.1",

                    "successfulACKCode": "AA,CA",

                    "errorACKCode": "AE,CE",

                    "rejectedACKCode": "AR,CR",

                    "validateMessageControlId": true,

                    "originalMessageControlId": "Destination_Encoded",

                    "originalIdMapVariable": null

                  }

                },

                "outboundProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties",

                  "@version": "4.5.1",

                  "serializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties",

                    "@version": "4.5.1",

                    "handleRepetitions": true,

                    "handleSubcomponents": true,

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "stripNamespaces": false,

                    "segmentDelimiter": "\\r",

                    "convertLineBreaks": true

                  },

                  "deserializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties",

                    "@version": "4.5.1",

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "segmentDelimiter": "\\r"

                  },

                  "batchProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties",

                    "@version": "4.5.1",

                    "splitType": "MSH_Segment",

                    "batchScript": null

                  },

                  "responseGenerationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties",

                    "@version": "4.5.1",

                    "segmentDelimiter": "\\r",

                    "successfulACKCode": "AA",

                    "successfulACKMessage": null,

                    "errorACKCode": "AE",

                    "errorACKMessage": "An Error Occurred Processing Message.",

                    "rejectedACKCode": "AR",

                    "rejectedACKMessage": "Message Rejected.",

                    "msh15ACKAccept": false,

                    "dateFormat": "yyyyMMddHHmmss.SSS"

                  },

                  "responseValidationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties",

                    "@version": "4.5.1",

                    "successfulACKCode": "AA,CA",

                    "errorACKCode": "AE,CE",

                    "rejectedACKCode": "AR,CR",

                    "validateMessageControlId": true,

                    "originalMessageControlId": "Destination_Encoded",

                    "originalIdMapVariable": null

                  }

                }

              },

              "responseTransformer": {

                "@version": "4.5.1",

                "elements": null,

                "inboundDataType": "HL7V2",

                "outboundDataType": "HL7V2",

                "inboundProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties",

                  "@version": "4.5.1",

                  "serializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties",

                    "@version": "4.5.1",

                    "handleRepetitions": true,

                    "handleSubcomponents": true,

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "stripNamespaces": false,

                    "segmentDelimiter": "\\r",

                    "convertLineBreaks": true

                  },

                  "deserializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties",

                    "@version": "4.5.1",

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "segmentDelimiter": "\\r"

                  },

                  "batchProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties",

                    "@version": "4.5.1",

                    "splitType": "MSH_Segment",

                    "batchScript": null

                  },

                  "responseGenerationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties",

                    "@version": "4.5.1",

                    "segmentDelimiter": "\\r",

                    "successfulACKCode": "AA",

                    "successfulACKMessage": null,

                    "errorACKCode": "AE",

                    "errorACKMessage": "An Error Occurred Processing Message.",

                    "rejectedACKCode": "AR",

                    "rejectedACKMessage": "Message Rejected.",

                    "msh15ACKAccept": false,

                    "dateFormat": "yyyyMMddHHmmss.SSS"

                  },

                  "responseValidationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties",

                    "@version": "4.5.1",

                    "successfulACKCode": "AA,CA",

                    "errorACKCode": "AE,CE",

                    "rejectedACKCode": "AR,CR",

                    "validateMessageControlId": true,

                    "originalMessageControlId": "Destination_Encoded",

                    "originalIdMapVariable": null

                  }

                },

                "outboundProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties",

                  "@version": "4.5.1",

                  "serializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties",

                    "@version": "4.5.1",

                    "handleRepetitions": true,

                    "handleSubcomponents": true,

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "stripNamespaces": false,

                    "segmentDelimiter": "\\r",

                    "convertLineBreaks": true

                  },

                  "deserializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties",

                    "@version": "4.5.1",

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "segmentDelimiter": "\\r"

                  },

                  "batchProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties",

                    "@version": "4.5.1",

                    "splitType": "MSH_Segment",

                    "batchScript": null

                  },

                  "responseGenerationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties",

                    "@version": "4.5.1",

                    "segmentDelimiter": "\\r",

                    "successfulACKCode": "AA",

                    "successfulACKMessage": null,

                    "errorACKCode": "AE",

                    "errorACKMessage": "An Error Occurred Processing Message.",

                    "rejectedACKCode": "AR",

                    "rejectedACKMessage": "Message Rejected.",

                    "msh15ACKAccept": false,

                    "dateFormat": "yyyyMMddHHmmss.SSS"

                  },

                  "responseValidationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties",

                    "@version": "4.5.1",

                    "successfulACKCode": "AA,CA",

                    "errorACKCode": "AE,CE",

                    "rejectedACKCode": "AR,CR",

                    "validateMessageControlId": true,

                    "originalMessageControlId": "Destination_Encoded",

                    "originalIdMapVariable": null

                  }

                }

              },

              "filter": {

                "@version": "4.5.1",

                "elements": {

                  "com.mirth.connect.plugins.rulebuilder.RuleBuilderRule": [

                    {

                      "@version": "4.5.1",

                      "name": "Accept message if \"msg['MSH']['MSH.4']['MSH.4.1'].toString()\" does not equal 'AURI1'",

                      "sequenceNumber": 0,

                      "enabled": true,

                      "field": "msg['MSH']['MSH.4']['MSH.4.1'].toString()",

                      "condition": "NOT_EQUAL",

                      "values": {

                        "string": "'AURI1'"

                      }

                    },

                    {

                      "@version": "4.5.1",

                      "name": "Accept message if \"msg['MSH']['MSH.9']['MSH.9.2'].toString()\" equals 'T02' or 'T11'",

                      "sequenceNumber": 1,

                      "enabled": true,

                      "operator": "AND",

                      "field": "msg['MSH']['MSH.9']['MSH.9.2'].toString()",

                      "condition": "EQUALS",

                      "values": {

                        "string": [

                          "'T02'",

                          "'T11'"

                        ]

                      }

                    }

                  ],

                  "com.mirth.connect.plugins.javascriptrule.JavaScriptRule": {

                    "@version": "4.5.1",

                    "name": "Only accept with OBX",

                    "sequenceNumber": 2,

                    "enabled": true,

                    "operator": "AND",

                    "script": "//17.12.2024 MWE\n//only MDM embedded with OBX\nif(msg['OBX'].toString().length>0)\n\t{\n\t\treturn true;\n\t}\n\treturn false;"

                  }

                }

              },

              "transportName": "TCP Sender",

              "mode": "DESTINATION",

              "enabled": true,

              "waitForPrevious": false

            }

          ]

        },

        "preprocessingScript": "// Modify the message variable below to pre process data\nreturn message;",

        "postprocessingScript": "// This script executes once after a message has been processed\n// Responses returned from here will be stored as \"Postprocessor\" in the response map\nreturn;",

        "deployScript": "// This script executes once when the channel is deployed\n// You only have access to the globalMap and globalChannelMap here to persist data\nreturn;",

        "undeployScript": "// This script executes once when the channel is undeployed\n// You only have access to the globalMap and globalChannelMap here to persist data\nreturn;",

        "properties": {

          "@version": "4.5.1",

          "clearGlobalChannelMap": true,

          "messageStorageMode": "PRODUCTION",

          "encryptData": false,

          "encryptAttachments": false,

          "encryptCustomMetaData": false,

          "removeContentOnCompletion": false,

          "removeOnlyFilteredOnCompletion": false,

          "removeAttachmentsOnCompletion": false,

          "initialState": "STARTED",

          "storeAttachments": true,

          "metaDataColumns": {

            "metaDataColumn": [

              {

                "name": "SOURCE",

                "type": "STRING",

                "mappingName": "mirth_source"

              },

              {

                "name": "TYPE",

                "type": "STRING",

                "mappingName": "mirth_type"

              },

              {

                "name": "PAT_ID",

                "type": "STRING",

                "mappingName": "patientId"

              },

              {

                "name": "VISIT_ID",

                "type": "STRING",

                "mappingName": "visitId"

              }

            ]

          },

          "attachmentProperties": {

            "@version": "4.5.1",

            "className": "com.mirth.connect.server.attachments.regex.RegexAttachmentHandlerProvider",

            "type": "Regex",

            "properties": {

              "entry": [

                {

                  "string": [

                    "regex.pattern0",

                    "(?:OBX\\|(?:[^|]*\\|){4}(?:[^|^]*\\^){4})([^|^\\r\\n]*)(?:[|^\\r\\n]|$)"

                  ]

                },

                {

                  "string": [

                    "regex.mimetype0",

                    "application/pdf"

                  ]

                }

              ]

            }

          },

          "resourceIds": {

            "@class": "linked-hash-map",

            "entry": {

              "string": [

                "Default Resource",

                "[Default Resource]"

              ]

            }

          }

        },

        "exportData": {

          "metadata": {

            "enabled": true,

            "lastModified": {

              "time": 1744358025116,

              "timezone": "Europe/Berlin"

            },

            "pruningSettings": {

              "pruneMetaDataDays": 31,

              "archiveEnabled": true,

              "pruneErroredMessages": false

            },

            "userId": 2

          },

          "dependentIds": null,

          "dependencyIds": null,

          "channelTags": null

        }

      },

      {

        "@version": "4.5.1",

        "id": "e85b8d39-63e1-4763-9d53-b5e8282ba608",

        "nextMetaDataId": 3,

        "name": "C_GenericORR",

        "description": null,

        "revision": 5,

        "sourceConnector": {

          "@version": "4.5.1",

          "metaDataId": 0,

          "name": "sourceConnector",

          "properties": {

            "@class": "com.mirth.connect.connectors.tcp.TcpReceiverProperties",

            "@version": "4.5.1",

            "pluginProperties": null,

            "listenerConnectorProperties": {

              "@version": "4.5.1",

              "host": "0.0.0.0",

              "port": 6150

            },

            "sourceConnectorProperties": {

              "@version": "4.5.1",

              "responseVariable": "Auto-generate (After source transformer)",

              "respondAfterProcessing": true,

              "processBatch": false,

              "firstResponse": true,

              "processingThreads": 1,

              "resourceIds": {

                "@class": "linked-hash-map",

                "entry": {

                  "string": [

                    "Default Resource",

                    "[Default Resource]"

                  ]

                }

              },

              "queueBufferSize": 1000

            },

            "transmissionModeProperties": {

              "@class": "com.mirth.connect.plugins.mllpmode.MLLPModeProperties",

              "pluginPointName": "MLLP",

              "startOfMessageBytes": "0B",

              "endOfMessageBytes": "1C0D",

              "useMLLPv2": false,

              "ackBytes": "06",

              "nackBytes": 15,

              "maxRetries": 2

            },

            "serverMode": true,

            "remoteAddress": null,

            "remotePort": null,

            "overrideLocalBinding": false,

            "reconnectInterval": 5000,

            "receiveTimeout": 0,

            "bufferSize": 65536,

            "maxConnections": 10,

            "keepConnectionOpen": true,

            "dataTypeBinary": false,

            "charsetEncoding": "ISO-8859-15",

            "respondOnNewConnection": 0,

            "responseAddress": null,

            "responsePort": null

          },

          "transformer": {

            "@version": "4.5.1",

            "elements": {

              "com.mirth.connect.plugins.javascriptstep.JavaScriptStep": {

                "@version": "4.5.1",

                "sequenceNumber": 0,

                "enabled": true,

                "script": "getOrderMetadata();"

              }

            },

            "inboundTemplate": {

              "@encoding": "base64"

            },

            "outboundTemplate": {

              "@encoding": "base64"

            },

            "inboundDataType": "HL7V2",

            "outboundDataType": "HL7V2",

            "inboundProperties": {

              "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties",

              "@version": "4.5.1",

              "serializationProperties": {

                "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties",

                "@version": "4.5.1",

                "handleRepetitions": true,

                "handleSubcomponents": true,

                "useStrictParser": false,

                "useStrictValidation": false,

                "stripNamespaces": false,

                "segmentDelimiter": "\\r",

                "convertLineBreaks": true

              },

              "deserializationProperties": {

                "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties",

                "@version": "4.5.1",

                "useStrictParser": false,

                "useStrictValidation": false,

                "segmentDelimiter": "\\r"

              },

              "batchProperties": {

                "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties",

                "@version": "4.5.1",

                "splitType": "MSH_Segment",

                "batchScript": null

              },

              "responseGenerationProperties": {

                "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties",

                "@version": "4.5.1",

                "segmentDelimiter": "\\r",

                "successfulACKCode": "AA",

                "successfulACKMessage": null,

                "errorACKCode": "AE",

                "errorACKMessage": "An Error Occurred Processing Message.",

                "rejectedACKCode": "AR",

                "rejectedACKMessage": "Message Rejected.",

                "msh15ACKAccept": false,

                "dateFormat": "yyyyMMddHHmmss.SSS"

              },

              "responseValidationProperties": {

                "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties",

                "@version": "4.5.1",

                "successfulACKCode": "AA,CA",

                "errorACKCode": "AE,CE",

                "rejectedACKCode": "AR,CR",

                "validateMessageControlId": true,

                "originalMessageControlId": "Destination_Encoded",

                "originalIdMapVariable": null

              }

            },

            "outboundProperties": {

              "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties",

              "@version": "4.5.1",

              "serializationProperties": {

                "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties",

                "@version": "4.5.1",

                "handleRepetitions": true,

                "handleSubcomponents": true,

                "useStrictParser": false,

                "useStrictValidation": false,

                "stripNamespaces": false,

                "segmentDelimiter": "\\r",

                "convertLineBreaks": true

              },

              "deserializationProperties": {

                "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties",

                "@version": "4.5.1",

                "useStrictParser": false,

                "useStrictValidation": false,

                "segmentDelimiter": "\\r"

              },

              "batchProperties": {

                "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties",

                "@version": "4.5.1",

                "splitType": "MSH_Segment",

                "batchScript": null

              },

              "responseGenerationProperties": {

                "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties",

                "@version": "4.5.1",

                "segmentDelimiter": "\\r",

                "successfulACKCode": "AA",

                "successfulACKMessage": null,

                "errorACKCode": "AE",

                "errorACKMessage": "An Error Occurred Processing Message.",

                "rejectedACKCode": "AR",

                "rejectedACKMessage": "Message Rejected.",

                "msh15ACKAccept": false,

                "dateFormat": "yyyyMMddHHmmss.SSS"

              },

              "responseValidationProperties": {

                "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties",

                "@version": "4.5.1",

                "successfulACKCode": "AA,CA",

                "errorACKCode": "AE,CE",

                "rejectedACKCode": "AR,CR",

                "validateMessageControlId": true,

                "originalMessageControlId": "Destination_Encoded",

                "originalIdMapVariable": null

              }

            }

          },

          "filter": {

            "@version": "4.5.1",

            "elements": null

          },

          "transportName": "TCP Listener",

          "mode": "SOURCE",

          "enabled": true,

          "waitForPrevious": true

        },

        "destinationConnectors": {

          "connector": [

            {

              "@version": "4.5.1",

              "metaDataId": 1,

              "name": "KIS",

              "properties": {

                "@class": "com.mirth.connect.connectors.tcp.TcpDispatcherProperties",

                "@version": "4.5.1",

                "pluginProperties": null,

                "destinationConnectorProperties": {

                  "@version": "4.5.1",

                  "queueEnabled": true,

                  "sendFirst": true,

                  "retryIntervalMillis": 10000,

                  "regenerateTemplate": true,

                  "retryCount": 0,

                  "rotate": false,

                  "includeFilterTransformer": false,

                  "threadCount": 1,

                  "threadAssignmentVariable": null,

                  "validateResponse": true,

                  "resourceIds": {

                    "@class": "linked-hash-map",

                    "entry": {

                      "string": [

                        "Default Resource",

                        "[Default Resource]"

                      ]

                    }

                  },

                  "queueBufferSize": 1000,

                  "reattachAttachments": true

                },

                "transmissionModeProperties": {

                  "@class": "com.mirth.connect.plugins.mllpmode.MLLPModeProperties",

                  "pluginPointName": "MLLP",

                  "startOfMessageBytes": "0B",

                  "endOfMessageBytes": "1C0D",

                  "useMLLPv2": false,

                  "ackBytes": "06",

                  "nackBytes": 15,

                  "maxRetries": 2

                },

                "serverMode": false,

                "remoteAddress": "172.19.3.10",

                "remotePort": 5580,

                "overrideLocalBinding": false,

                "localAddress": "0.0.0.0",

                "localPort": 0,

                "sendTimeout": 15000,

                "bufferSize": 65536,

                "maxConnections": 10,

                "keepConnectionOpen": true,

                "checkRemoteHost": true,

                "responseTimeout": 50000,

                "ignoreResponse": false,

                "queueOnResponseTimeout": true,

                "dataTypeBinary": false,

                "charsetEncoding": "ISO-8859-15",

                "template": "${message.encodedData}"

              },

              "transformer": {

                "@version": "4.5.1",

                "elements": {

                  "com.mirth.connect.plugins.javascriptstep.JavaScriptStep": [

                    {

                      "@version": "4.5.1",

                      "name": "prepare tmp",

                      "sequenceNumber": 0,

                      "enabled": true,

                      "script": "tmp = msg.copy();"

                    },

                    {

                      "@version": "4.5.1",

                      "name": "adjust tmp",

                      "sequenceNumber": 1,

                      "enabled": true,

                      "script": "tmp['MSH']['MSH.9']['MSH.9.1'] = 'ORM';\ntmp['MSH']['MSH.9']['MSH.9.2'] = 'O01';\n\ndelete tmp['ORC'];\ndelete tmp['OBR'];"

                    },

                    {

                      "@version": "4.5.1",

                      "name": "rebuild ORC",

                      "sequenceNumber": 2,

                      "enabled": true,

                      "script": "//ORC anpassen\ncreateSegment('ORC', tmp);\ntmp['ORC']['ORC.1']['ORC.1.1']=msg['ORC']['ORC.1']['ORC.1.1'].toString();\nif(msg['ORC']['ORC.1']['ORC.1.1'].toString()=='XO' ||\n\tmsg['ORC']['ORC.1']['ORC.1.1'].toString()=='SC'){\n\ttmp['ORC']['ORC.1']['ORC.1.1']='XX'; \n}\ntmp['ORC']['ORC.4']['ORC.4.1']=msg['ORC']['ORC.2']['ORC.2.1'].toString();"

                    },

                    {

                      "@version": "4.5.1",

                      "name": "rebuild OBR",

                      "sequenceNumber": 3,

                      "enabled": true,

                      "script": "//OBR anpassen\ncreateSegment('OBR', tmp);\ntmp['OBR']['OBR.2']['OBR.2.1']=msg['OBR']['OBR.2']['OBR.2.2'].toString();\ntmp['OBR']['OBR.4']['OBR.4.1']=msg['OBR']['OBR.4']['OBR.4.1'].toString();\ntmp['OBR']['OBR.4']['OBR.4.3']=msg['OBR']['OBR.4']['OBR.4.3'].toString();\n\nif(msg['OBR']['OBR.7']['OBR.7.1'].toString().length > 0){\n\ttmp['OBR']['OBR.7']['OBR.7.1']=msg['OBR']['OBR.7']['OBR.7.1'].toString();\n}else{\n\ttmp['OBR']['OBR.7']['OBR.7.1']=msg['OBR']['OBR.36']['OBR.36.1'].toString();\n}\n\nif(msg['OBR']['OBR.8']['OBR.8.1'].toString().length > 0){\n\ttmp['OBR']['OBR.8']['OBR.8.1']=msg['OBR']['OBR.8']['OBR.8.1'].toString();\n}else{\n\ttmp['OBR']['OBR.8']['OBR.8.1']=msg['OBR']['OBR.37']['OBR.37.1'].toString();\n}\n\ntmp['OBR']['OBR.20']['OBR.20.1']=msg['OBR']['OBR.4']['OBR.4.2'].toString()\n\nif(msg['ORC']['ORC.1']['ORC.1.1'].toString()=='OC'){\n\ttmp['OBR']['OBR.25']['OBR.25.1']='-10';\n}else if(msg['ORC']['ORC.5']['ORC.5.1'].toString()=='t'){ \n\ttmp['OBR']['OBR.25']['OBR.25.1']='30';\n}else if(msg['ORC']['ORC.5']['ORC.5.1'].toString()=='u'){\n\ttmp['OBR']['OBR.25']['OBR.25.1']='120';\n}else if(msg['ORC']['ORC.5']['ORC.5.1'].toString()=='a'){\n\ttmp['OBR']['OBR.25']['OBR.25.1']='20';\n}else if(msg['ORC']['ORC.5']['ORC.5.1'].toString()=='b'){\n\ttmp['OBR']['OBR.25']['OBR.25.1']='110';\n}/*else if(msg['ORC']['ORC.5']['ORC.5.1'].toString()){\n\ttmp['OBR']['OBR.25']['OBR.25.1']='-10';\n}*/\n\n\nsortAndFillMessage(tmp);"

                    }

                  ]

                },

                "inboundTemplate": {

                  "@encoding": "base64"

                },

                "outboundTemplate": {

                  "@encoding": "base64",

                  "$": "TVNIfF5+XCZ8Q1JJU3xSYWRpb2xvZ3l8SElTfHwyMDE1MDcwNzA5MTA1OHxNZWRvcmF8T1JSXk8wMnw3OTE2MDR8UHwyLjN8fHxBTA0="

                },

                "inboundDataType": "HL7V2",

                "outboundDataType": "HL7V2",

                "inboundProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties",

                  "@version": "4.5.1",

                  "serializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties",

                    "@version": "4.5.1",

                    "handleRepetitions": true,

                    "handleSubcomponents": true,

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "stripNamespaces": false,

                    "segmentDelimiter": "\\r",

                    "convertLineBreaks": true

                  },

                  "deserializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties",

                    "@version": "4.5.1",

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "segmentDelimiter": "\\r"

                  },

                  "batchProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties",

                    "@version": "4.5.1",

                    "splitType": "MSH_Segment",

                    "batchScript": null

                  },

                  "responseGenerationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties",

                    "@version": "4.5.1",

                    "segmentDelimiter": "\\r",

                    "successfulACKCode": "AA",

                    "successfulACKMessage": null,

                    "errorACKCode": "AE",

                    "errorACKMessage": "An Error Occurred Processing Message.",

                    "rejectedACKCode": "AR",

                    "rejectedACKMessage": "Message Rejected.",

                    "msh15ACKAccept": false,

                    "dateFormat": "yyyyMMddHHmmss.SSS"

                  },

                  "responseValidationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties",

                    "@version": "4.5.1",

                    "successfulACKCode": "AA,CA",

                    "errorACKCode": "AE,CE",

                    "rejectedACKCode": "AR,CR",

                    "validateMessageControlId": true,

                    "originalMessageControlId": "Destination_Encoded",

                    "originalIdMapVariable": null

                  }

                },

                "outboundProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties",

                  "@version": "4.5.1",

                  "serializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties",

                    "@version": "4.5.1",

                    "handleRepetitions": true,

                    "handleSubcomponents": true,

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "stripNamespaces": false,

                    "segmentDelimiter": "\\r",

                    "convertLineBreaks": true

                  },

                  "deserializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties",

                    "@version": "4.5.1",

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "segmentDelimiter": "\\r"

                  },

                  "batchProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties",

                    "@version": "4.5.1",

                    "splitType": "MSH_Segment",

                    "batchScript": null

                  },

                  "responseGenerationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties",

                    "@version": "4.5.1",

                    "segmentDelimiter": "\\r",

                    "successfulACKCode": "AA",

                    "successfulACKMessage": null,

                    "errorACKCode": "AE",

                    "errorACKMessage": "An Error Occurred Processing Message.",

                    "rejectedACKCode": "AR",

                    "rejectedACKMessage": "Message Rejected.",

                    "msh15ACKAccept": false,

                    "dateFormat": "yyyyMMddHHmmss.SSS"

                  },

                  "responseValidationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties",

                    "@version": "4.5.1",

                   "successfulACKCode": "AA,CA",

                    "errorACKCode": "AE,CE",

                    "rejectedACKCode": "AR,CR",

                    "validateMessageControlId": true,

                    "originalMessageControlId": "Destination_Encoded",

                    "originalIdMapVariable": null

                  }

                }

              },

              "responseTransformer": {

                "@version": "4.5.1",

                "elements": null,

                "inboundDataType": "HL7V2",

                "outboundDataType": "HL7V2",

                "inboundProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties",

                  "@version": "4.5.1",

                  "serializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties",

                    "@version": "4.5.1",

                    "handleRepetitions": true,

                    "handleSubcomponents": true,

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "stripNamespaces": false,

                    "segmentDelimiter": "\\r",

                    "convertLineBreaks": true

                  },

                  "deserializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties",

                    "@version": "4.5.1",

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "segmentDelimiter": "\\r"

                  },

                  "batchProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties",

                    "@version": "4.5.1",

                    "splitType": "MSH_Segment",

                    "batchScript": null

                  },

                  "responseGenerationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties",

                    "@version": "4.5.1",

                    "segmentDelimiter": "\\r",

                    "successfulACKCode": "AA",

                    "successfulACKMessage": null,

                    "errorACKCode": "AE",

                    "errorACKMessage": "An Error Occurred Processing Message.",

                    "rejectedACKCode": "AR",

                    "rejectedACKMessage": "Message Rejected.",

                    "msh15ACKAccept": false,

                    "dateFormat": "yyyyMMddHHmmss.SSS"

                  },

                  "responseValidationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties",

                    "@version": "4.5.1",

                    "successfulACKCode": "AA,CA",

                    "errorACKCode": "AE,CE",

                    "rejectedACKCode": "AR,CR",

                    "validateMessageControlId": true,

                    "originalMessageControlId": "Destination_Encoded",

                    "originalIdMapVariable": null

                  }

                },

                "outboundProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties",

                  "@version": "4.5.1",

                  "serializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties",

                    "@version": "4.5.1",

                    "handleRepetitions": true,

                    "handleSubcomponents": true,

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "stripNamespaces": false,

                    "segmentDelimiter": "\\r",

                    "convertLineBreaks": true

                  },

                  "deserializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties",

                    "@version": "4.5.1",

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "segmentDelimiter": "\\r"

                  },

                  "batchProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties",

                    "@version": "4.5.1",

                    "splitType": "MSH_Segment",

                    "batchScript": null

                  },

                  "responseGenerationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties",

                    "@version": "4.5.1",

                    "segmentDelimiter": "\\r",

                    "successfulACKCode": "AA",

                    "successfulACKMessage": null,

                    "errorACKCode": "AE",

                    "errorACKMessage": "An Error Occurred Processing Message.",

                    "rejectedACKCode": "AR",

                    "rejectedACKMessage": "Message Rejected.",

                    "msh15ACKAccept": false,

                    "dateFormat": "yyyyMMddHHmmss.SSS"

                  },

                  "responseValidationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties",

                    "@version": "4.5.1",

                    "successfulACKCode": "AA,CA",

                    "errorACKCode": "AE,CE",

                    "rejectedACKCode": "AR,CR",

                    "validateMessageControlId": true,

                    "originalMessageControlId": "Destination_Encoded",

                    "originalIdMapVariable": null

                  }

                }

              },

              "filter": {

                "@version": "4.5.1",

                "elements": {

                  "com.mirth.connect.plugins.rulebuilder.RuleBuilderRule": [

                    {

                      "@version": "4.5.1",

                      "name": "Accept message if \"msg['MSH']['MSH.9']['MSH.9.1'].toString()\" equals 'ORR'",

                      "sequenceNumber": 0,

                      "enabled": true,

                      "field": "msg['MSH']['MSH.9']['MSH.9.1'].toString()",

                      "condition": "EQUALS",

                      "values": {

                        "string": "'ORR'"

                      }

                    },

                    {

                      "@version": "4.5.1",

                      "name": "Accept message if \"msg['PV1']['PV1.3']['PV1.3.1'].toString()\" does not equal 'CTKCOTTBUS' or 'KGS'",

                      "sequenceNumber": 1,

                      "enabled": true,

                      "operator": "AND",

                      "field": "msg['PV1']['PV1.3']['PV1.3.1'].toString()",

                      "condition": "NOT_EQUAL",

                      "values": {

                        "string": [

                          "'CTKCOTTBUS'",

                          "'KGS'"

                        ]

                      }

                    },

                    {

                      "@version": "4.5.1",

                      "name": "Accept message if \"msg['ORC']['ORC.1']['ORC.1.1'].toString()\" does not equal 'OK' or ''",

                      "sequenceNumber": 2,

                      "enabled": true,

                      "operator": "AND",

                      "field": "msg['ORC']['ORC.1']['ORC.1.1'].toString()",

                      "condition": "NOT_EQUAL",

                      "values": {

                        "string": [

                          "'OK'",

                          "''"

                        ]

                      }

                    },

                    {

                      "@version": "4.5.1",

                      "name": "Accept message if \"msg['PV1'].toString()\" exists",

                      "sequenceNumber": 3,

                      "enabled": true,

                      "operator": "AND",

                      "field": "msg['PV1'].toString()",

                      "condition": "EXISTS",

                      "values": null

                    },

                    {

                      "@version": "4.5.1",

                      "name": "Accept message if \"msg['PV1']['PV1.19']['PV1.19.1'].toString()\" does not equal '-'",

                      "sequenceNumber": 4,

                      "enabled": true,

                      "operator": "AND",

                      "field": "msg['PV1']['PV1.19']['PV1.19.1'].toString()",

                      "condition": "NOT_EQUAL",

                      "values": {

                        "string": "'-'"

                      }

                    }

                  ]

                }

              },

              "transportName": "TCP Sender",

              "mode": "DESTINATION",

              "enabled": true,

              "waitForPrevious": true

            },

            {

              "@version": "4.5.1",

              "metaDataId": 2,

              "name": "ClinPathORR Radiologie",

              "properties": {

                "@class": "com.mirth.connect.connectors.tcp.TcpDispatcherProperties",

                "@version": "4.5.1",

                "pluginProperties": null,

                "destinationConnectorProperties": {

                  "@version": "4.5.1",

                  "queueEnabled": true,

                  "sendFirst": true,

                  "retryIntervalMillis": 10000,

                  "regenerateTemplate": true,

                  "retryCount": 0,

                  "rotate": false,

                  "includeFilterTransformer": false,

                  "threadCount": 1,

                  "threadAssignmentVariable": null,

                  "validateResponse": true,

                  "resourceIds": {

                    "@class": "linked-hash-map",

                    "entry": {

                      "string": [

                        "Default Resource",

                        "[Default Resource]"

                      ]

                    }

                  },

                  "queueBufferSize": 1000,

                  "reattachAttachments": true

                },

                "transmissionModeProperties": {

                  "@class": "com.mirth.connect.plugins.mllpmode.MLLPModeProperties",

                  "pluginPointName": "MLLP",

                  "startOfMessageBytes": "0B",

                  "endOfMessageBytes": "1C0D",

                  "useMLLPv2": false,

                  "ackBytes": "06",

                  "nackBytes": 15,

                  "maxRetries": 2

                },

                "serverMode": false,

                "remoteAddress": "172.19.2.229",

                "remotePort": 6004,

                "overrideLocalBinding": false,

                "localAddress": "0.0.0.0",

                "localPort": 0,

                "sendTimeout": 5000,

                "bufferSize": 65536,

                "maxConnections": 10,

                "keepConnectionOpen": false,

                "checkRemoteHost": false,

                "responseTimeout": 5000,

                "ignoreResponse": false,

                "queueOnResponseTimeout": true,

                "dataTypeBinary": false,

                "charsetEncoding": "ISO-8859-15",

                "template": "${message.encodedData}"

              },

              "transformer": {

                "@version": "4.5.1",

                "elements": {

                  "com.mirth.connect.plugins.javascriptstep.JavaScriptStep": [

                    {

                      "@version": "4.5.1",

                      "name": "prepare tmp",

                      "sequenceNumber": 0,

                      "enabled": true,

                      "script": "tmp = msg.copy();"

                    },

                    {

                      "@version": "4.5.1",

                      "name": "modify MSH",

                      "sequenceNumber": 1,

                      "enabled": true,

                      "script": "tmp['MSH']['MSH.4']['MSH.4.1'] = 'Radiology';\ntmp['MSH']['MSH.9']['MSH.9.1'] = 'ORR';\ntmp['MSH']['MSH.9']['MSH.9.2'] = 'O02';"

                    },

                    {

                      "@version": "4.5.1",

                      "name": "modify ORC",

                      "sequenceNumber": 2,

                      "enabled": true,

                      "script": "tmp['ORC']['ORC.1']['ORC.1.1'] = 'SC';\n\nif (msg['ORC']['ORC.5']['ORC.5.1'].toString()=='u')\n{\n\ttmp['ORC']['ORC.5']['ORC.5.1']='2';\n}\t\nelse\t\n{\n\ttmp['ORC']['ORC.5']['ORC.5.1']='1';\n}"

                    },

                    {

                      "@version": "4.5.1",

                      "name": "delete segments",

                      "sequenceNumber": 3,

                      "enabled": true,

                      "script": "delete tmp['OBR'];\ndelete tmp['OBX'];"

                    }

                  ]

                },

                "inboundTemplate": {

                  "@encoding": "base64"

                },

                "outboundTemplate": {

                  "@encoding": "base64",

                  "$": "TVNIfF5+XCZ8Q1JJU3xSYWRpb2xvZ3l8SElTfHwyMDE1MDcwNzA5MTA1OHxNZWRvcmF8T1JSXk8wMnw3OTE2MDR8UHwyLjN8fHxBTA=="

                },

                "inboundDataType": "HL7V2",

                "outboundDataType": "HL7V2",

                "inboundProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties",

                  "@version": "4.5.1",

                  "serializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties",

                    "@version": "4.5.1",

                    "handleRepetitions": true,

                    "handleSubcomponents": true,

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "stripNamespaces": false,

                    "segmentDelimiter": "\\r",

                    "convertLineBreaks": true

                  },

                  "deserializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties",

                    "@version": "4.5.1",

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "segmentDelimiter": "\\r"

                  },

                  "batchProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties",

                    "@version": "4.5.1",

                    "splitType": "MSH_Segment",

                    "batchScript": null

                  },

                  "responseGenerationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties",

                    "@version": "4.5.1",

                    "segmentDelimiter": "\\r",

                    "successfulACKCode": "AA",

                    "successfulACKMessage": null,

                    "errorACKCode": "AE",

                    "errorACKMessage": "An Error Occurred Processing Message.",

                    "rejectedACKCode": "AR",

                    "rejectedACKMessage": "Message Rejected.",

                    "msh15ACKAccept": false,

                    "dateFormat": "yyyyMMddHHmmss.SSS"

                  },

                  "responseValidationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties",

                    "@version": "4.5.1",

                    "successfulACKCode": "AA,CA",

                    "errorACKCode": "AE,CE",

                    "rejectedACKCode": "AR,CR",

                    "validateMessageControlId": true,

                    "originalMessageControlId": "Destination_Encoded",

                    "originalIdMapVariable": null

                  }

                },

                "outboundProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties",

                  "@version": "4.5.1",

                  "serializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties",

                    "@version": "4.5.1",

                    "handleRepetitions": true,

                    "handleSubcomponents": true,

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "stripNamespaces": false,

                    "segmentDelimiter": "\\r",

                    "convertLineBreaks": true

                  },

                  "deserializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties",

                    "@version": "4.5.1",

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "segmentDelimiter": "\\r"

                  },

                  "batchProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties",

                    "@version": "4.5.1",

                    "splitType": "MSH_Segment",

                    "batchScript": null

                  },

                  "responseGenerationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties",

                    "@version": "4.5.1",

                    "segmentDelimiter": "\\r",

                    "successfulACKCode": "AA",

                    "successfulACKMessage": null,

                    "errorACKCode": "AE",

                    "errorACKMessage": "An Error Occurred Processing Message.",

                    "rejectedACKCode": "AR",

                    "rejectedACKMessage": "Message Rejected.",

                    "msh15ACKAccept": false,

                    "dateFormat": "yyyyMMddHHmmss.SSS"

                  },

                  "responseValidationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties",

                    "@version": "4.5.1",

                    "successfulACKCode": "AA,CA",

                    "errorACKCode": "AE,CE",

                    "rejectedACKCode": "AR,CR",

                    "validateMessageControlId": true,

                    "originalMessageControlId": "Destination_Encoded",

                    "originalIdMapVariable": null

                  }

                }

              },

              "responseTransformer": {

                "@version": "4.5.1",

                "elements": null,

                "inboundDataType": "HL7V2",

                "outboundDataType": "HL7V2",

                "inboundProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties",

                  "@version": "4.5.1",

                  "serializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties",

                    "@version": "4.5.1",

                    "handleRepetitions": true,

                    "handleSubcomponents": true,

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "stripNamespaces": false,

                    "segmentDelimiter": "\\r",

                    "convertLineBreaks": true

                  },

                  "deserializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties",

                    "@version": "4.5.1",

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "segmentDelimiter": "\\r"

                  },

                  "batchProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties",

                    "@version": "4.5.1",

                    "splitType": "MSH_Segment",

                    "batchScript": null

                  },

                  "responseGenerationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties",

                    "@version": "4.5.1",

                    "segmentDelimiter": "\\r",

                    "successfulACKCode": "AA",

                    "successfulACKMessage": null,

                    "errorACKCode": "AE",

                    "errorACKMessage": "An Error Occurred Processing Message.",

                    "rejectedACKCode": "AR",

                    "rejectedACKMessage": "Message Rejected.",

                    "msh15ACKAccept": false,

                    "dateFormat": "yyyyMMddHHmmss.SSS"

                  },

                  "responseValidationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties",

                    "@version": "4.5.1",

                    "successfulACKCode": "AA,CA",

                    "errorACKCode": "AE,CE",

                    "rejectedACKCode": "AR,CR",

                    "validateMessageControlId": true,

                    "originalMessageControlId": "Destination_Encoded",

                    "originalIdMapVariable": null

                  }

                },

                "outboundProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties",

                  "@version": "4.5.1",

                  "serializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties",

                    "@version": "4.5.1",

                    "handleRepetitions": true,

                    "handleSubcomponents": true,

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "stripNamespaces": false,

                    "segmentDelimiter": "\\r",

                    "convertLineBreaks": true

                  },

                  "deserializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties",

                    "@version": "4.5.1",

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "segmentDelimiter": "\\r"

                  },

                  "batchProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties",

                    "@version": "4.5.1",

                    "splitType": "MSH_Segment",

                    "batchScript": null

                  },

                  "responseGenerationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties",

                    "@version": "4.5.1",

                    "segmentDelimiter": "\\r",

                    "successfulACKCode": "AA",

                    "successfulACKMessage": null,

                    "errorACKCode": "AE",

                    "errorACKMessage": "An Error Occurred Processing Message.",

                    "rejectedACKCode": "AR",

                    "rejectedACKMessage": "Message Rejected.",

                    "msh15ACKAccept": false,

                    "dateFormat": "yyyyMMddHHmmss.SSS"

                  },

                  "responseValidationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties",

                    "@version": "4.5.1",

                    "successfulACKCode": "AA,CA",

                    "errorACKCode": "AE,CE",

                    "rejectedACKCode": "AR,CR",

                    "validateMessageControlId": true,

                    "originalMessageControlId": "Destination_Encoded",

                    "originalIdMapVariable": null

                  }

                }

              },

              "filter": {

                "@version": "4.5.1",

                "elements": {

                  "com.mirth.connect.plugins.rulebuilder.RuleBuilderRule": [

                    {

                      "@version": "4.5.1",

                      "name": "Accept message if \"msg['MSH']['MSH.3']['MSH.3.1'].toString()\" equals 'CRIS'",

                      "sequenceNumber": 0,

                      "enabled": true,

                      "field": "msg['MSH']['MSH.3']['MSH.3.1'].toString()",

                      "condition": "EQUALS",

                      "values": {

                        "string": "'CRIS'"

                      }

                    },

                    {

                      "@version": "4.5.1",

                      "name": "Accept message if \"msg['MSH']['MSH.6']['MSH.6.1'].toString()\" equals 'RAD'",

                      "sequenceNumber": 1,

                      "enabled": true,

                      "operator": "OR",

                      "field": "msg['MSH']['MSH.6']['MSH.6.1'].toString()",

                      "condition": "EQUALS",

                      "values": {

                        "string": "'RAD'"

                      }

                    }

                  ]

                }

              },

              "transportName": "TCP Sender",

              "mode": "DESTINATION",

              "enabled": true,

              "waitForPrevious": false

            }

          ]

        },

        "preprocessingScript": "// Modify the message variable below to pre process data\nreturn message;",

        "postprocessingScript": "// This script executes once after a message has been processed\n// Responses returned from here will be stored as \"Postprocessor\" in the response map\nreturn;",

        "deployScript": "// This script executes once when the channel is deployed\n// You only have access to the globalMap and globalChannelMap here to persist data\nreturn;",

        "undeployScript": "// This script executes once when the channel is undeployed\n// You only have access to the globalMap and globalChannelMap here to persist data\nreturn;",

        "properties": {

          "@version": "4.5.1",

          "clearGlobalChannelMap": true,

          "messageStorageMode": "PRODUCTION",

          "encryptData": false,

          "encryptAttachments": false,

          "encryptCustomMetaData": false,

          "removeContentOnCompletion": false,

          "removeOnlyFilteredOnCompletion": false,

          "removeAttachmentsOnCompletion": false,

          "initialState": "STARTED",

          "storeAttachments": true,

          "metaDataColumns": {

            "metaDataColumn": [

              {

                "name": "SOURCE",

                "type": "STRING",

                "mappingName": "mirth_source"

              },

              {

                "name": "TYPE",

                "type": "STRING",

                "mappingName": "mirth_type"

              },

              {

                "name": "PAT_ID",

                "type": "STRING",

                "mappingName": "patientId"

              },

              {

                "name": "VISIT_ID",

                "type": "STRING",

                "mappingName": "visitId"

             }

            ]

          },

          "attachmentProperties": {

            "@version": "4.5.1",

            "type": "None",

            "properties": null

          },

          "resourceIds": {

            "@class": "linked-hash-map",

            "entry": {

              "string": [

                "Default Resource",

                "[Default Resource]"

              ]

            }

          }

        },

        "exportData": {

          "metadata": {

            "enabled": true,

            "lastModified": {

              "time": 1744628452459,

              "timezone": "Europe/Berlin"

            },

            "pruningSettings": {

              "pruneMetaDataDays": 31,

              "archiveEnabled": true,

              "pruneErroredMessages": false

            },

            "userId": 4

          },

          "dependentIds": null,

          "dependencyIds": null,

          "channelTags": null

        }

      },

      {

        "@version": "4.5.1",

        "id": "62d98bd5-b661-4e22-85e5-3433127daa3c",

        "nextMetaDataId": 8,

        "name": "C_GenericOru",

        "description": null,

        "revision": 19,

        "sourceConnector": {

          "@version": "4.5.1",

          "metaDataId": 0,

          "name": "sourceConnector",

          "properties": {

            "@class": "com.mirth.connect.connectors.tcp.TcpReceiverProperties",

            "@version": "4.5.1",

            "pluginProperties": null,

            "listenerConnectorProperties": {

              "@version": "4.5.1",

              "host": "0.0.0.0",

              "port": 6400

            },

            "sourceConnectorProperties": {

              "@version": "4.5.1",

              "responseVariable": "Auto-generate (After source transformer)",

              "respondAfterProcessing": true,

              "processBatch": false,

              "firstResponse": true,

              "processingThreads": 1,

              "resourceIds": {

                "@class": "linked-hash-map",

                "entry": {

                  "string": [

                    "Default Resource",

                    "[Default Resource]"

                  ]

                }

              },

              "queueBufferSize": 1000

            },

            "transmissionModeProperties": {

              "@class": "com.mirth.connect.plugins.mllpmode.MLLPModeProperties",

              "pluginPointName": "MLLP",

              "startOfMessageBytes": "0B",

              "endOfMessageBytes": "1C0D",

              "useMLLPv2": false,

              "ackBytes": "06",

              "nackBytes": 15,

              "maxRetries": 2

            },

            "serverMode": true,

            "remoteAddress": null,

            "remotePort": null,

            "overrideLocalBinding": false,

            "reconnectInterval": 5000,

            "receiveTimeout": 0,

            "bufferSize": 65536,

            "maxConnections": 10,

            "keepConnectionOpen": true,

            "dataTypeBinary": false,

            "charsetEncoding": "ISO-8859-15",

            "respondOnNewConnection": 0,

            "responseAddress": null,

            "responsePort": null

          },

          "transformer": {

            "@version": "4.5.1",

            "elements": {

              "com.mirth.connect.plugins.javascriptstep.JavaScriptStep": {

                "@version": "4.5.1",

                "name": "Metadata",

                "sequenceNumber": 0,

                "enabled": true,

                "script": "getOrderMetadata();"

              }

            },

            "inboundTemplate": {

              "@encoding": "base64",

              "$": "TVNIfF5+XCZ8Q29ubmV4fFdlbGNoIEFsbHlufERQU3x8MjAyMTEyMTUxNDQxNTZ8fE9SVV5SMDF8MDVGNEZGOEEtREI1Ny00QUNFLTg3QTMtMzIyOTgyQUMxREQ4fFB8Mi41DVBJRHx8fDM2NzM2OTZ8fExvcGVzIGRlIENhcnZhbGhvXk1vbmljYQ1QVjF8fFN8R1lOMnx8fHx8fHx8fHx8fHx8fHw0MTEwODA3NA1PQlJ8fHx8U3x8fDIwMjExMjE1MTQ0MTQ1fHx8MTEwODNNYWxHfHx8fHx8fHx8fHx8fHx8Rg1PQlh8MXxTVHxURU1QU0lURXx8VHltcGFuaWN8fHx8fHxGfHx8MjAyMTEyMTUxNDQxNDV8MTAwMDAwNTAzODIwfDExMDgzTWFsR3x8VGVtcGVyYXR1cmUNT0JYfDJ8Tk18VEVNUHx8MzcuMXxDZWxzaXVzfHxOfHx8Rnx8fDIwMjExMjE1MTQ0MTQ1fDEwMDAwMDUwMzgyMHwxMTA4M01hbEd8fFRlbXBlcmF0dXJlDU9CWHwzfE5NfFNZU3x8OTd8TW1oZ3x8Tnx8fEZ8fHwyMDIxMTIxNTE0NDE0NXwxMDAwMDA1MDM4MjB8MTEwODNNYWxHfHxOSUJQDU9CWHw0fE5NfERJQXx8NjZ8TW1oZ3x8Tnx8fEZ8fHwyMDIxMTIxNTE0NDE0NXwxMDAwMDA1MDM4MjB8MTEwODNNYWxHfHxOSUJQDU9CWHw1fE5NfE1BUHx8NzYuNXxNbWhnfHxOfHx8Rnx8fDIwMjExMjE1MTQ0MTQ1fDEwMDAwMDUwMzgyMHwxMTA4M01hbEd8fE5JQlANT0JYfDZ8Tk18U1BPMnx8OTh8JXx8Tnx8fEZ8fHwyMDIxMTIxNTE0NDE0NXwxMDAwMDA1MDM4MjB8MTEwODNNYWxHfHxTUE8yDU9CWHw3fE5NfEhSfHw3N3xCZWF0c1Blck1pbnV0ZXx8Tnx8fEZ8fHwyMDIxMTIxNTE0NDE0NXwxMDAwMDA1MDM4MjB8MTEwODNNYWxHfHxTUE8y"

            },

            "outboundTemplate": {

              "@encoding": "base64"

            },

            "inboundDataType": "HL7V2",

            "outboundDataType": "HL7V2",

            "inboundProperties": {

              "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties",

              "@version": "4.5.1",

              "serializationProperties": {

                "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties",

                "@version": "4.5.1",

                "handleRepetitions": true,

                "handleSubcomponents": true,

                "useStrictParser": false,

                "useStrictValidation": false,

                "stripNamespaces": true,

                "segmentDelimiter": "\\r",

                "convertLineBreaks": true

              },

              "deserializationProperties": {

                "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties",

                "@version": "4.5.1",

                "useStrictParser": false,

                "useStrictValidation": false,

                "segmentDelimiter": "\\r"

              },

              "batchProperties": {

                "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties",

                "@version": "4.5.1",

                "splitType": "MSH_Segment",

                "batchScript": null

              },

              "responseGenerationProperties": {

                "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties",

                "@version": "4.5.1",

                "segmentDelimiter": "\\r",

                "successfulACKCode": "AA",

                "successfulACKMessage": null,

                "errorACKCode": "AE",

                "errorACKMessage": "An Error Occurred Processing Message.",

                "rejectedACKCode": "AR",

                "rejectedACKMessage": "Message Rejected.",

                "msh15ACKAccept": false,

                "dateFormat": "yyyyMMddHHmmss.SSS"

              },

              "responseValidationProperties": {

                "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties",

                "@version": "4.5.1",

                "successfulACKCode": "AA,CA",

                "errorACKCode": "AE,CE",

                "rejectedACKCode": "AR,CR",

                "validateMessageControlId": true,

                "originalMessageControlId": "Destination_Encoded",

                "originalIdMapVariable": null

              }

            },

            "outboundProperties": {

              "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties",

              "@version": "4.5.1",

              "serializationProperties": {

                "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties",

                "@version": "4.5.1",

                "handleRepetitions": true,

                "handleSubcomponents": true,

                "useStrictParser": false,

                "useStrictValidation": false,

                "stripNamespaces": true,

                "segmentDelimiter": "\\r",

                "convertLineBreaks": true

              },

              "deserializationProperties": {

                "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties",

                "@version": "4.5.1",

                "useStrictParser": false,

                "useStrictValidation": false,

                "segmentDelimiter": "\\r"

              },

              "batchProperties": {

                "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties",

                "@version": "4.5.1",

                "splitType": "MSH_Segment",

                "batchScript": null

              },

              "responseGenerationProperties": {

                "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties",

                "@version": "4.5.1",

                "segmentDelimiter": "\\r",

                "successfulACKCode": "AA",

                "successfulACKMessage": null,

                "errorACKCode": "AE",

                "errorACKMessage": "An Error Occurred Processing Message.",

                "rejectedACKCode": "AR",

                "rejectedACKMessage": "Message Rejected.",

                "msh15ACKAccept": false,

                "dateFormat": "yyyyMMddHHmmss.SSS"

              },

              "responseValidationProperties": {

                "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties",

                "@version": "4.5.1",

                "successfulACKCode": "AA,CA",

                "errorACKCode": "AE,CE",

                "rejectedACKCode": "AR,CR",

                "validateMessageControlId": true,

                "originalMessageControlId": "Destination_Encoded",

                "originalIdMapVariable": null

              }

            }

          },

          "filter": {

            "@version": "4.5.1",

            "elements": {

              "com.mirth.connect.plugins.rulebuilder.RuleBuilderRule": {

                "@version": "4.5.1",

                "name": "Accept message if \"msg['MSH']['MSH.9']['MSH.9.1'].toString()\" equals 'ORU'",

                "sequenceNumber": 0,

                "enabled": true,

                "field": "msg['MSH']['MSH.9']['MSH.9.1'].toString()",

                "condition": "EQUALS",

                "values": {

                  "string": "'ORU'"

                }

              },

              "com.mirth.connect.plugins.javascriptrule.JavaScriptRule": {

                "@version": "4.5.1",

                "name": "Accept message ORU and VisitID.length == 8",

                "sequenceNumber": 1,

                "enabled": false,

                "operator": "AND",

                "script": "if ((msg['MSH']['MSH.9']['MSH.9.1'].toString() == 'ORU') && (msg['PV1']['PV1.19']['PV1.19.1'].toString().length == 8)) {\n    return true;\n}\nreturn false;"

              }

            }

          },

          "transportName": "TCP Listener",

          "mode": "SOURCE",

          "enabled": true,

          "waitForPrevious": true

        },

        "destinationConnectors": {

          "connector": [

            {

              "@version": "4.5.1",

              "metaDataId": 1,

              "name": "KISOru",

              "properties": {

                "@class": "com.mirth.connect.connectors.tcp.TcpDispatcherProperties",

                "@version": "4.5.1",

                "pluginProperties": null,

                "destinationConnectorProperties": {

                  "@version": "4.5.1",

                  "queueEnabled": true,

                  "sendFirst": true,

                  "retryIntervalMillis": 10000,

                  "regenerateTemplate": true,

                  "retryCount": 0,

                  "rotate": false,

                  "includeFilterTransformer": false,

                  "threadCount": 1,

                  "threadAssignmentVariable": null,

                  "validateResponse": true,

                  "resourceIds": {

                    "@class": "linked-hash-map",

                    "entry": {

                      "string": [

                        "Default Resource",

                        "[Default Resource]"

                      ]

                    }

                  },

                  "queueBufferSize": 1000,

                  "reattachAttachments": true

                },

                "transmissionModeProperties": {

                  "@class": "com.mirth.connect.plugins.mllpmode.MLLPModeProperties",

                  "pluginPointName": "MLLP",

                  "startOfMessageBytes": "0B",

                  "endOfMessageBytes": "1C0D",

                  "useMLLPv2": false,

                  "ackBytes": "06",

                  "nackBytes": 15,

                  "maxRetries": 2

                },

                "serverMode": false,

                "remoteAddress": "172.19.3.10",

                "remotePort": 5574,

                "overrideLocalBinding": false,

                "localAddress": "0.0.0.0",

                "localPort": 0,

                "sendTimeout": 15000,

                "bufferSize": 65536,

                "maxConnections": 10,

                "keepConnectionOpen": true,

                "checkRemoteHost": true,

                "responseTimeout": 50000,

                "ignoreResponse": false,

                "queueOnResponseTimeout": true,

                "dataTypeBinary": false,

                "charsetEncoding": "ISO-8859-15",

                "template": "${message.encodedData}"

              },

              "transformer": {

                "@version": "4.5.1",

                "elements": {

                  "com.mirth.connect.plugins.javascriptstep.JavaScriptStep": [

                    {

                      "@version": "4.5.1",

                      "name": "tmp = msg.copy",

                      "sequenceNumber": 0,

                      "enabled": true,

                      "script": "tmp = msg.copy();"

                    },

                    {

                      "@version": "4.5.1",

                      "name": "Adjust message from centricity RIS",

                      "sequenceNumber": 1,

                      "enabled": true,

                      "script": "if(msg['MSH']['MSH.3']['MSH.3.1']=='CRIS'){\n\n\ttmp['OBR']['OBR.20']['OBR.20.1']=msg['OBR']['OBR.4']['OBR.4.2'].toString();\n\n\tif(msg['OBX']['OBX.11']['OBX.11.1']=='s'){\n\n\t\tdelete tmp['OBR'];\n\t\tdelete tmp['OBX'];\t\n\t\n\t\tcreateSegment('ORC', tmp);\n\t\ttmp['ORC']['ORC.5']['ORC.5.1']='CA';\n\t}\n\n\tvar docNumber;\n\tif(msg['OBR']['OBR.3']['OBR.3.1'].toString().substr(0,4) == 'CRIS'){\n\t\tdocNumber = msg['OBR']['OBR.3']['OBR.3.1'].toString().substr(4);\n\t\ttmp['OBR']['OBR.2']['OBR.2.1']=docNumber;\n\t\ttmp['OBR']['OBR.21']['OBR.21.1']=docNumber;\n\t}\n\n\n}"

                    }

                  ]

                },

                "inboundTemplate": {

                  "@encoding": "base64",

                  "$": "TVNIfF5+XCZ8Q29ubmV4fFdlbGNoIEFsbHlufERQU3x8MjAyMTEyMTUxNDQxNTZ8fE9SVV5SMDF8MDVGNEZGOEEtREI1Ny00QUNFLTg3QTMtMzIyOTgyQUMxREQ4fFB8Mi41DVBJRHx8fDM2NzM2OTZ8fExvcGVzIGRlIENhcnZhbGhvXk1vbmljYQ1QVjF8fFN8R1lOMnx8fHx8fHx8fHx8fHx8fHw0MTEwODA3NA1PQlJ8fHx8U3x8fDIwMjExMjE1MTQ0MTQ1fHx8MTEwODNNYWxHfHx8fHx8fHx8fHx8fHx8Rg1PQlh8MXxTVHxURU1QU0lURXx8VHltcGFuaWN8fHx8fHxGfHx8MjAyMTEyMTUxNDQxNDV8MTAwMDAwNTAzODIwfDExMDgzTWFsR3x8VGVtcGVyYXR1cmUNT0JYfDJ8Tk18VEVNUHx8MzcuMXxDZWxzaXVzfHxOfHx8Rnx8fDIwMjExMjE1MTQ0MTQ1fDEwMDAwMDUwMzgyMHwxMTA4M01hbEd8fFRlbXBlcmF0dXJlDU9CWHwzfE5NfFNZU3x8OTd8TW1oZ3x8Tnx8fEZ8fHwyMDIxMTIxNTE0NDE0NXwxMDAwMDA1MDM4MjB8MTEwODNNYWxHfHxOSUJQDU9CWHw0fE5NfERJQXx8NjZ8TW1oZ3x8Tnx8fEZ8fHwyMDIxMTIxNTE0NDE0NXwxMDAwMDA1MDM4MjB8MTEwODNNYWxHfHxOSUJQDU9CWHw1fE5NfE1BUHx8NzYuNXxNbWhnfHxOfHx8Rnx8fDIwMjExMjE1MTQ0MTQ1fDEwMDAwMDUwMzgyMHwxMTA4M01hbEd8fE5JQlANT0JYfDZ8Tk18U1BPMnx8OTh8JXx8Tnx8fEZ8fHwyMDIxMTIxNTE0NDE0NXwxMDAwMDA1MDM4MjB8MTEwODNNYWxHfHxTUE8yDU9CWHw3fE5NfEhSfHw3N3xCZWF0c1Blck1pbnV0ZXx8Tnx8fEZ8fHwyMDIxMTIxNTE0NDE0NXwxMDAwMDA1MDM4MjB8MTEwODNNYWxHfHxTUE8y"

                },

                "outboundTemplate": {

                  "@encoding": "base64",

                  "$": "TVNIfF5+XCZ8Z2V0ZW1lZF9XTFN8R0VURU1FRF9SUnxLSVN8RURWfDIwMTkwMjE5MTEwMzIxfHxPUlVeUjAxfEdldGVtZWQxMDQ2MEIwRjYzfFB8Mi40DVBJRHx8MzY1NjM3OHwzNjU2Mzc4fHxHdWFyaW5vXlNhbmRyYXx8MTk4MjA2MTgwMDAwMDB8VXx8fHx8fA1QVjF8fFN8R1lOM14xLjMwLjMxNF4zMTQtMDFeRlJBVUVOfHx8fHx8fHx8fHx8fHx8fDM5MDE5NTEzfHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHwNT1JDfFhPfDY3MjQ3NzF8MDAwMDExOTkxNXx8Q018fHx8MDAwMDAwMDAwMDAwMDB8fHx8DU9CUnwxfDAwMDAxMTk5MTV8fExaUlJeTGFuZ3plaXQtUlJ8fHwyMDE5MDIxODE1MTUxMHx8fHx8fHx8fHx8fHx8fHx8fFB8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fDY3MjQ3NzENT0JYfDF8U1R8UFReUGxhaW4gdGV4dHwxfFBST0MgKFBST0MpOiAgIFwuYnJcTGFuZ3plaXQtQmx1dGRydWNrIC8gQmV3ZXJ0dW5nICAgICAgICA6IChJTlRFUik6ICAgR2VzYW10c3RhdGlzdGlrIHZvbiAxNToxNSBiaXMgMTA6NTY6XC5iclwgICAgICAgIDU5IEJsdXRkcnVja21lc3N1bmcoZW4pXC5iclwgIFN0YXRpc3Rpa3plaXRlbiB2b20gQXVmbmFobWUtR2Vyw6R0OiBKYVwuYnJcICBHZXNhbXRkYXVlcjogMTk6NDEgaFwuYnJcICBEYXVlciBUYWdwZXJpb2RlOiAxMDo0MSBoXC5iclwgIERhdWVyIE5hY2h0cGVyaW9kZTogOTowMCBoXC5iclwgIEF1Zm5haG1lYXJ0OiBvc3ppbGxvbWV0cmlzY2hcLmJyXCAgMjRoLU1pdHRlbHdlcnQgc3lzL2RpYSBbbW1IZ10gMTMxLjggLyA4MC4xXC5iclwgIFdhY2hwaGFzZVwuYnJcICAgICAgZ8O8bHRpZ2UgTWVzc3VuZ2VuIDM5IHZvbiA0MSBbJV0gOTVcLmJyXCAgICAgIFN5c3QuQkQtTWVzc3VuZ2VuIMO8YmVyIDE0MCBtbUhnIFslXSAyMy4wXC5iclwgICAgICBEaWFzdC5CRC1NZXNzdW5nZW4gw7xiZXIgOTAgbW1IZyBbJV0gMTIuOFwuYnJcICBTY2hsYWYtL0F1ZndhY2hwaGFzZVwuYnJcICAgICAgZ8O8bHRpZ2UgTWVzc3VuZ2VuIDE4IHZvbiAxOCBbJV0gMTAwXC5iclwgICAgICBTeXN0LkJELU1lc3N1bmdlbiDDvGJlciAxNDAgbW1IZyBbJV0gMTEuMVwuYnJcICAgICAgRGlhc3QuQkQtTWVzc3VuZ2VuIMO8YmVyIDkwIG1tSGcgWyVdIDExLjFcLmJyXCAgVGFnZXMtTWl0dGVsd2VydCBzeXMvZGlhIFttbUhnXSAxMzQuMSAvIDgyLjJcLmJyXCAgTmFjaHQtTWl0dGVsd2VydCBzeXMvZGlhIFttbUhnXSAxMjYuOCAvIDc1LjZcLmJyXCAgRGlmZi5UYWctTmFjaHQtTWl0dGVsdy4gc3lzL2RpYSBbJV0gLTUuNCAgLyAtOC4wXC5iclxcLmJyXHx8fHxJTl8xfHxQfHx8fHx8QkRNMDF8fA0="

                },

                "inboundDataType": "HL7V2",

                "outboundDataType": "HL7V2",

                "inboundProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties",

                  "@version": "4.5.1",

                  "serializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties",

                    "@version": "4.5.1",

                    "handleRepetitions": true,

                    "handleSubcomponents": true,

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "stripNamespaces": false,

                    "segmentDelimiter": "\\r",

                    "convertLineBreaks": true

                  },

                  "deserializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties",

                    "@version": "4.5.1",

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "segmentDelimiter": "\\r"

                  },

                  "batchProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties",

                    "@version": "4.5.1",

                    "splitType": "MSH_Segment",

                    "batchScript": null

                  },

                  "responseGenerationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties",

                    "@version": "4.5.1",

                    "segmentDelimiter": "\\r",

                    "successfulACKCode": "AA",

                    "successfulACKMessage": null,

                    "errorACKCode": "AE",

                    "errorACKMessage": "An Error Occurred Processing Message.",

                    "rejectedACKCode": "AR",

                    "rejectedACKMessage": "Message Rejected.",

                    "msh15ACKAccept": false,

                    "dateFormat": "yyyyMMddHHmmss.SSS"

                  },

                  "responseValidationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties",

                    "@version": "4.5.1",

                    "successfulACKCode": "AA,CA",

                    "errorACKCode": "AE,CE",

                    "rejectedACKCode": "AR,CR",

                    "validateMessageControlId": true,

                    "originalMessageControlId": "Destination_Encoded",

                    "originalIdMapVariable": null

                  }

                },

                "outboundProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties",

                  "@version": "4.5.1",

                  "serializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties",

                    "@version": "4.5.1",

                    "handleRepetitions": true,

                    "handleSubcomponents": true,

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "stripNamespaces": false,

                    "segmentDelimiter": "\\r",

                    "convertLineBreaks": true

                  },

                  "deserializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties",

                    "@version": "4.5.1",

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "segmentDelimiter": "\\r"

                  },

                  "batchProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties",

                    "@version": "4.5.1",

                    "splitType": "MSH_Segment",

                    "batchScript": null

                  },

                  "responseGenerationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties",

                    "@version": "4.5.1",

                    "segmentDelimiter": "\\r",

                    "successfulACKCode": "AA",

                    "successfulACKMessage": null,

                    "errorACKCode": "AE",

                    "errorACKMessage": "An Error Occurred Processing Message.",

                    "rejectedACKCode": "AR",

                    "rejectedACKMessage": "Message Rejected.",

                    "msh15ACKAccept": false,

                    "dateFormat": "yyyyMMddHHmmss.SSS"

                  },

                  "responseValidationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties",

                    "@version": "4.5.1",

                    "successfulACKCode": "AA,CA",

                    "errorACKCode": "AE,CE",

                    "rejectedACKCode": "AR,CR",

                    "validateMessageControlId": true,

                    "originalMessageControlId": "Destination_Encoded",

                    "originalIdMapVariable": null

                  }

                }

              },

              "responseTransformer": {

                "@version": "4.5.1",

                "elements": null,

                "inboundTemplate": {

                  "@encoding": "base64"

                },

                "outboundTemplate": {

                  "@encoding": "base64"

                },

                "inboundDataType": "HL7V2",

                "outboundDataType": "HL7V2",

                "inboundProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties",

                  "@version": "4.5.1",

                  "serializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties",

                    "@version": "4.5.1",

                    "handleRepetitions": true,

                    "handleSubcomponents": true,

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "stripNamespaces": false,

                    "segmentDelimiter": "\\r",

                    "convertLineBreaks": true

                  },

                  "deserializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties",

                    "@version": "4.5.1",

                   "useStrictParser": false,

                    "useStrictValidation": false,

                    "segmentDelimiter": "\\r"

                  },

                  "batchProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties",

                    "@version": "4.5.1",

                    "splitType": "MSH_Segment",

                    "batchScript": null

                  },

                  "responseGenerationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties",

                    "@version": "4.5.1",

                    "segmentDelimiter": "\\r",

                    "successfulACKCode": "AA",

                    "successfulACKMessage": null,

                    "errorACKCode": "AE",

                    "errorACKMessage": "An Error Occurred Processing Message.",

                    "rejectedACKCode": "AR",

                    "rejectedACKMessage": "Message Rejected.",

                    "msh15ACKAccept": false,

                    "dateFormat": "yyyyMMddHHmmss.SSS"

                  },

                  "responseValidationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties",

                    "@version": "4.5.1",

                    "successfulACKCode": "AA,CA",

                    "errorACKCode": "AE,CE",

                    "rejectedACKCode": "AR,CR",

                    "validateMessageControlId": true,

                    "originalMessageControlId": "Destination_Encoded",

                    "originalIdMapVariable": null

                  }

                },

                "outboundProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties",

                  "@version": "4.5.1",

                  "serializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties",

                    "@version": "4.5.1",

                    "handleRepetitions": true,

                    "handleSubcomponents": true,

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "stripNamespaces": false,

                    "segmentDelimiter": "\\r",

                    "convertLineBreaks": true

                  },

                  "deserializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties",

                    "@version": "4.5.1",

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "segmentDelimiter": "\\r"

                  },

                  "batchProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties",

                    "@version": "4.5.1",

                    "splitType": "MSH_Segment",

                    "batchScript": null

                  },

                  "responseGenerationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties",

                    "@version": "4.5.1",

                    "segmentDelimiter": "\\r",

                    "successfulACKCode": "AA",

                    "successfulACKMessage": null,

                    "errorACKCode": "AE",

                    "errorACKMessage": "An Error Occurred Processing Message.",

                    "rejectedACKCode": "AR",

                    "rejectedACKMessage": "Message Rejected.",

                    "msh15ACKAccept": false,

                    "dateFormat": "yyyyMMddHHmmss.SSS"

                  },

                  "responseValidationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties",

                    "@version": "4.5.1",

                    "successfulACKCode": "AA,CA",

                    "errorACKCode": "AE,CE",

                    "rejectedACKCode": "AR,CR",

                    "validateMessageControlId": true,

                    "originalMessageControlId": "Destination_Encoded",

                    "originalIdMapVariable": null

                  }

                }

              },

              "filter": {

                "@version": "4.5.1",

                "elements": {

                  "com.mirth.connect.plugins.rulebuilder.RuleBuilderRule": [

                    {

                      "@version": "4.5.1",

                      "name": "Accept message if \"msg['MSH']['MSH.3']['MSH.3.1'].toString()\" does not equal 'MEDAT-IS' or 'Infinity' or 'Connex' or 'DAVID'",

                      "sequenceNumber": 0,

                      "enabled": true,

                      "field": "msg['MSH']['MSH.3']['MSH.3.1'].toString()",

                      "condition": "NOT_EQUAL",

                      "values": {

                        "string": [

                          "'MEDAT-IS'",

                          "'Infinity'",

                          "'Connex'",

                          "'DAVID'"

                        ]

                      }

                    },

                    {

                      "@version": "4.5.1",

                      "name": "Accept message if \"msg['PV1']['PV1.3']['PV1.3.1'].toString()\" does not equal 'CTKCOTTBUS' or 'KGS'",

                      "sequenceNumber": 1,

                      "enabled": true,

                      "operator": "AND",

                      "field": "msg['PV1']['PV1.3']['PV1.3.1'].toString()",

                      "condition": "NOT_EQUAL",

                      "values": {

                        "string": [

                          "'CTKCOTTBUS'",

                          "'KGS'"

                        ]

                      }

                    }

                  ],

                  "com.mirth.connect.plugins.javascriptrule.JavaScriptRule": {

                    "@version": "4.5.1",

                    "name": "Befunde ohne Pat-ID filtern",

                    "sequenceNumber": 2,

                    "enabled": true,

                    "operator": "AND",

                    "script": "if(msg['PID']['PID.3']['PID.3.1'].toString().length>0){\n\treturn true;\n}\nreturn false;"

                  }

                }

              },

              "transportName": "TCP Sender",

              "mode": "DESTINATION",

              "enabled": true,

              "waitForPrevious": true

            },

            {

              "@version": "4.5.1",

              "metaDataId": 2,

              "name": "KISOru Labor",

              "properties": {

                "@class": "com.mirth.connect.connectors.tcp.TcpDispatcherProperties",

                "@version": "4.5.1",

                "pluginProperties": null,

                "destinationConnectorProperties": {

                  "@version": "4.5.1",

                  "queueEnabled": true,

                  "sendFirst": true,

                  "retryIntervalMillis": 10000,

                  "regenerateTemplate": true,

                  "retryCount": 0,

                  "rotate": false,

                  "includeFilterTransformer": false,

                  "threadCount": 1,

                  "threadAssignmentVariable": null,

                  "validateResponse": true,

                  "resourceIds": {

                    "@class": "linked-hash-map",

                    "entry": {

                      "string": [

                        "Default Resource",

                        "[Default Resource]"

                      ]

                    }

                  },

                  "queueBufferSize": 1000,

                  "reattachAttachments": true

                },

                "transmissionModeProperties": {

                  "@class": "com.mirth.connect.plugins.mllpmode.MLLPModeProperties",

                  "pluginPointName": "MLLP",

                  "startOfMessageBytes": "0B",

                  "endOfMessageBytes": "1C0D",

                  "useMLLPv2": false,

                  "ackBytes": "06",

                  "nackBytes": 15,

                  "maxRetries": 2

                },

                "serverMode": false,

                "remoteAddress": "172.19.3.10",

                "remotePort": 5594,

                "overrideLocalBinding": false,

                "localAddress": "0.0.0.0",

                "localPort": 0,

                "sendTimeout": 15000,

                "bufferSize": 65536,

                "maxConnections": 10,

                "keepConnectionOpen": true,

                "checkRemoteHost": true,

                "responseTimeout": 50000,

                "ignoreResponse": false,

                "queueOnResponseTimeout": true,

                "dataTypeBinary": false,

                "charsetEncoding": "ISO-8859-15",

                "template": "${message.encodedData}"

              },

              "transformer": {

                "@version": "4.5.1",

                "elements": {

                  "com.mirth.connect.plugins.javascriptstep.JavaScriptStep": [

                    {

                      "@version": "4.5.1",

                      "name": "tmp = msg.copy",

                      "sequenceNumber": 0,

                      "enabled": true,

                      "script": "tmp = msg.copy();"

                    },

                    {

                      "@version": "4.5.1",

                      "name": "change specimen date about observation end date",

                      "sequenceNumber": 1,

                      "enabled": true,

                      "script": "//14.06.2021 MBA\n//Bei Endbefund das Probeneingangsdatum durch den Endbefundenddatum abaendern\n\nfor(var i=0;i<msg['OBR'].length();i++)\t{\n\tif(msg['OBR'][i]['OBR.8']['OBR.8.1'].toString().length>0)\n\t{\n\t\ttmp['OBR'][i]['OBR.14']['OBR.14.1'] = msg['OBR'][i]['OBR.8']['OBR.8.1'].toString();\n\t}\n}"

                    }

                  ]

                },

                "inboundTemplate": {

                  "@encoding": "base64",

                  "$": "TVNIfF5+XCZ8Q29ubmV4fFdlbGNoIEFsbHlufERQU3x8MjAyMTEyMTUxNDQxNTZ8fE9SVV5SMDF8MDVGNEZGOEEtREI1Ny00QUNFLTg3QTMtMzIyOTgyQUMxREQ4fFB8Mi41ClBJRHx8fDM2NzM2OTZ8fExvcGVzIGRlIENhcnZhbGhvXk1vbmljYQpQVjF8fFN8R1lOMnx8fHx8fHx8fHx8fHx8fHw0MTEwODA3NApPQlJ8fHx8U3x8fDIwMjExMjE1MTQ0MTQ1fHx8MTEwODNNYWxHfHx8fHx8fHx8fHx8fHx8RgpPQlh8MXxTVHxURU1QU0lURXx8VHltcGFuaWN8fHx8fHxGfHx8MjAyMTEyMTUxNDQxNDV8MTAwMDAwNTAzODIwfDExMDgzTWFsR3x8VGVtcGVyYXR1cmUKT0JYfDJ8Tk18VEVNUHx8MzcuMXxDZWxzaXVzfHxOfHx8Rnx8fDIwMjExMjE1MTQ0MTQ1fDEwMDAwMDUwMzgyMHwxMTA4M01hbEd8fFRlbXBlcmF0dXJlCk9CWHwzfE5NfFNZU3x8OTd8TW1oZ3x8Tnx8fEZ8fHwyMDIxMTIxNTE0NDE0NXwxMDAwMDA1MDM4MjB8MTEwODNNYWxHfHxOSUJQCk9CWHw0fE5NfERJQXx8NjZ8TW1oZ3x8Tnx8fEZ8fHwyMDIxMTIxNTE0NDE0NXwxMDAwMDA1MDM4MjB8MTEwODNNYWxHfHxOSUJQCk9CWHw1fE5NfE1BUHx8NzYuNXxNbWhnfHxOfHx8Rnx8fDIwMjExMjE1MTQ0MTQ1fDEwMDAwMDUwMzgyMHwxMTA4M01hbEd8fE5JQlAKT0JYfDZ8Tk18U1BPMnx8OTh8JXx8Tnx8fEZ8fHwyMDIxMTIxNTE0NDE0NXwxMDAwMDA1MDM4MjB8MTEwODNNYWxHfHxTUE8yCk9CWHw3fE5NfEhSfHw3N3xCZWF0c1Blck1pbnV0ZXx8Tnx8fEZ8fHwyMDIxMTIxNTE0NDE0NXwxMDAwMDA1MDM4MjB8MTEwODNNYWxHfHxTUE8y"

                },

                "outboundTemplate": {

                  "@encoding": "base64",

                  "$": "TVNIfF5+XCZ8TUVEQVQtSVN8REFWSUQtMi44fERQU3xNS1VSTzF8MjAyMTA2MDQwOTQ0NTZ8fE9SVV5SMDF8MTEyODQwMjh8UHwyLjINUElEfHx8MzgzNDI2NHx8TWVzZWxtYW5pXkhpbmR8fDE5NTYwNjE4fDE0MTA0OTYyNnwNUFYxfHxJfE1LVVJPMXx8fHx8fHx8fHx8fHx8fHw0MTA0OTYyNg1PQlJ8MXwwMDEyNDIyMXx8S1JZT0dMT0JeS3J5b2dsb2J1bGluXkZOfHx8MjAyMTA2MDMwNzAwfDIwMjEwNjA0MDk0NDU2fHx8fHx8MjAyMTA2MDQwOTQ0NTZ8MTN8fHx8fHx8fHx8UHwNT0JYfDF8U1R8S1JZT0dMT0JeS3J5b2dsb2J1bGluXkZOfHxGb2xndHx8fHx8fFB8"

                },

                "inboundDataType": "HL7V2",

                "outboundDataType": "HL7V2",

                "inboundProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties",

                  "@version": "4.5.1",

                  "serializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties",

                    "@version": "4.5.1",

                    "handleRepetitions": true,

                    "handleSubcomponents": true,

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "stripNamespaces": false,

                    "segmentDelimiter": "\\r",

                    "convertLineBreaks": true

                  },

                  "deserializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties",

                    "@version": "4.5.1",

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "segmentDelimiter": "\\r"

                  },

                  "batchProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties",

                    "@version": "4.5.1",

                    "splitType": "MSH_Segment",

                    "batchScript": null

                  },

                  "responseGenerationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties",

                    "@version": "4.5.1",

                    "segmentDelimiter": "\\r",

                    "successfulACKCode": "AA",

                    "successfulACKMessage": null,

                    "errorACKCode": "AE",

                    "errorACKMessage": "An Error Occurred Processing Message.",

                    "rejectedACKCode": "AR",

                    "rejectedACKMessage": "Message Rejected.",

                    "msh15ACKAccept": false,

                    "dateFormat": "yyyyMMddHHmmss.SSS"

                  },

                  "responseValidationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties",

                    "@version": "4.5.1",

                    "successfulACKCode": "AA,CA",

                    "errorACKCode": "AE,CE",

                    "rejectedACKCode": "AR,CR",

                    "validateMessageControlId": true,

                    "originalMessageControlId": "Destination_Encoded",

                    "originalIdMapVariable": null

                  }

                },

                "outboundProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties",

                  "@version": "4.5.1",

                  "serializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties",

                    "@version": "4.5.1",

                    "handleRepetitions": true,

                    "handleSubcomponents": true,

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "stripNamespaces": false,

                    "segmentDelimiter": "\\r",

                    "convertLineBreaks": true

                  },

                  "deserializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties",

                    "@version": "4.5.1",

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "segmentDelimiter": "\\r"

                  },

                  "batchProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties",

                    "@version": "4.5.1",

                    "splitType": "MSH_Segment",

                    "batchScript": null

                  },

                  "responseGenerationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties",

                    "@version": "4.5.1",

                    "segmentDelimiter": "\\r",

                    "successfulACKCode": "AA",

                    "successfulACKMessage": null,

                    "errorACKCode": "AE",

                    "errorACKMessage": "An Error Occurred Processing Message.",

                    "rejectedACKCode": "AR",

                    "rejectedACKMessage": "Message Rejected.",

                    "msh15ACKAccept": false,

                    "dateFormat": "yyyyMMddHHmmss.SSS"

                  },

                  "responseValidationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties",

                    "@version": "4.5.1",

                    "successfulACKCode": "AA,CA",

                    "errorACKCode": "AE,CE",

                    "rejectedACKCode": "AR,CR",

                    "validateMessageControlId": true,

                    "originalMessageControlId": "Destination_Encoded",

                    "originalIdMapVariable": null

                  }

                }

              },

              "responseTransformer": {

                "@version": "4.5.1",

                "elements": null,

                "inboundDataType": "HL7V2",

                "outboundDataType": "HL7V2",

                "inboundProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties",

                  "@version": "4.5.1",

                  "serializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties",

                    "@version": "4.5.1",

                    "handleRepetitions": true,

                    "handleSubcomponents": true,

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "stripNamespaces": false,

                    "segmentDelimiter": "\\r",

                    "convertLineBreaks": true

                  },

                  "deserializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties",

                    "@version": "4.5.1",

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "segmentDelimiter": "\\r"

                  },

                  "batchProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties",

                    "@version": "4.5.1",

                    "splitType": "MSH_Segment",

                    "batchScript": null

                  },

                  "responseGenerationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties",

                    "@version": "4.5.1",

                    "segmentDelimiter": "\\r",

                    "successfulACKCode": "AA",

                    "successfulACKMessage": null,

                    "errorACKCode": "AE",

                    "errorACKMessage": "An Error Occurred Processing Message.",

                    "rejectedACKCode": "AR",

                    "rejectedACKMessage": "Message Rejected.",

                    "msh15ACKAccept": false,

                    "dateFormat": "yyyyMMddHHmmss.SSS"

                  },

                  "responseValidationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties",

                    "@version": "4.5.1",

                    "successfulACKCode": "AA,CA",

                    "errorACKCode": "AE,CE",

                    "rejectedACKCode": "AR,CR",

                    "validateMessageControlId": true,

                    "originalMessageControlId": "Destination_Encoded",

                    "originalIdMapVariable": null

                  }

                },

                "outboundProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties",

                  "@version": "4.5.1",

                  "serializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties",

                    "@version": "4.5.1",

                    "handleRepetitions": true,

                    "handleSubcomponents": true,

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "stripNamespaces": false,

                    "segmentDelimiter": "\\r",

                    "convertLineBreaks": true

                  },

                  "deserializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties",

                    "@version": "4.5.1",

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "segmentDelimiter": "\\r"

                  },

                  "batchProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties",

                    "@version": "4.5.1",

                    "splitType": "MSH_Segment",

                    "batchScript": null

                  },

                  "responseGenerationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties",

                    "@version": "4.5.1",

                    "segmentDelimiter": "\\r",

                    "successfulACKCode": "AA",

                    "successfulACKMessage": null,

                    "errorACKCode": "AE",

                    "errorACKMessage": "An Error Occurred Processing Message.",

                    "rejectedACKCode": "AR",

                    "rejectedACKMessage": "Message Rejected.",

                    "msh15ACKAccept": false,

                    "dateFormat": "yyyyMMddHHmmss.SSS"

                  },

                  "responseValidationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties",

                    "@version": "4.5.1",

                    "successfulACKCode": "AA,CA",

                    "errorACKCode": "AE,CE",

                    "rejectedACKCode": "AR,CR",

                    "validateMessageControlId": true,

                    "originalMessageControlId": "Destination_Encoded",

                    "originalIdMapVariable": null

                  }

                }

              },

              "filter": {

                "@version": "4.5.1",

                "elements": {

                  "com.mirth.connect.plugins.rulebuilder.RuleBuilderRule": {

                    "@version": "4.5.1",

                    "name": "Accept message if \"msg['MSH']['MSH.3']['MSH.3.1'].toString()\" equals 'MEDAT-IS' or 'DAVID'",

                    "sequenceNumber": 0,

                    "enabled": true,

                    "field": "msg['MSH']['MSH.3']['MSH.3.1'].toString()",

                    "condition": "EQUALS",

                    "values": {

                      "string": [

                        "'MEDAT-IS'",

                        "'DAVID'"

                      ]

                    }

                  },

                  "com.mirth.connect.plugins.javascriptrule.JavaScriptRule": [

                    {

                      "@version": "4.5.1",

                      "name": "Laborbefunde ohne Pat-ID ablehnen",

                      "sequenceNumber": 1,

                      "enabled": true,

                      "operator": "AND",

                      "script": "if(msg['PID']['PID.3']['PID.3.1'].toString().length>0){\n\treturn true;\n}\nreturn false;"

                    },

                    {

                      "@version": "4.5.1",

                      "name": "Laborbefunde ohne valide Fall-ID ablehnen",

                      "sequenceNumber": 2,

                     "enabled": true,

                      "operator": "AND",

                      "script": "var fid = msg['PV1']['PV1.19']['PV1.19.1'].toString();\nvar regEX = /^[0-9]{8}$/;\n\nif (fid.match(regEX) !== null) {\n\treturn true;\n}\nreturn false;"

                    }

                  ]

                }

              },

              "transportName": "TCP Sender",

              "mode": "DESTINATION",

              "enabled": true,

              "waitForPrevious": false

            },

            {

              "@version": "4.5.1",

              "metaDataId": 3,

              "name": "ClinPathOru Labor",

              "properties": {

                "@class": "com.mirth.connect.connectors.tcp.TcpDispatcherProperties",

                "@version": "4.5.1",

                "pluginProperties": null,

                "destinationConnectorProperties": {

                  "@version": "4.5.1",

                  "queueEnabled": true,

                  "sendFirst": true,

                  "retryIntervalMillis": 10000,

                  "regenerateTemplate": true,

                  "retryCount": 0,

                  "rotate": false,

                  "includeFilterTransformer": false,

                  "threadCount": 1,

                  "threadAssignmentVariable": null,

                  "validateResponse": true,

                  "resourceIds": {

                    "@class": "linked-hash-map",

                    "entry": {

                      "string": [

                        "Default Resource",

                        "[Default Resource]"

                      ]

                    }

                  },

                  "queueBufferSize": 1000,

                  "reattachAttachments": true

                },

                "transmissionModeProperties": {

                  "@class": "com.mirth.connect.plugins.mllpmode.MLLPModeProperties",

                  "pluginPointName": "MLLP",

                  "startOfMessageBytes": "0B",

                  "endOfMessageBytes": "1C0D",

                  "useMLLPv2": false,

                  "ackBytes": "06",

                  "nackBytes": 15,

                  "maxRetries": 2

                },

                "serverMode": false,

                "remoteAddress": "172.19.2.229",

                "remotePort": 6002,

                "overrideLocalBinding": false,

                "localAddress": "0.0.0.0",

                "localPort": 0,

                "sendTimeout": 5000,

                "bufferSize": 65536,

                "maxConnections": 10,

                "keepConnectionOpen": true,

                "checkRemoteHost": true,

                "responseTimeout": 5000,

                "ignoreResponse": false,

                "queueOnResponseTimeout": true,

                "dataTypeBinary": false,

                "charsetEncoding": "ISO-8859-15",

                "template": "${message.encodedData}"

              },

              "transformer": {

                "@version": "4.5.1",

                "elements": null,

                "inboundTemplate": {

                  "@encoding": "base64",

                  "$": "TVNIfF5+XCZ8Q29ubmV4fFdlbGNoIEFsbHlufERQU3x8MjAyMTEyMTUxNDQxNTZ8fE9SVV5SMDF8MDVGNEZGOEEtREI1Ny00QUNFLTg3QTMtMzIyOTgyQUMxREQ4fFB8Mi41ClBJRHx8fDM2NzM2OTZ8fExvcGVzIGRlIENhcnZhbGhvXk1vbmljYQpQVjF8fFN8R1lOMnx8fHx8fHx8fHx8fHx8fHw0MTEwODA3NApPQlJ8fHx8U3x8fDIwMjExMjE1MTQ0MTQ1fHx8MTEwODNNYWxHfHx8fHx8fHx8fHx8fHx8RgpPQlh8MXxTVHxURU1QU0lURXx8VHltcGFuaWN8fHx8fHxGfHx8MjAyMTEyMTUxNDQxNDV8MTAwMDAwNTAzODIwfDExMDgzTWFsR3x8VGVtcGVyYXR1cmUKT0JYfDJ8Tk18VEVNUHx8MzcuMXxDZWxzaXVzfHxOfHx8Rnx8fDIwMjExMjE1MTQ0MTQ1fDEwMDAwMDUwMzgyMHwxMTA4M01hbEd8fFRlbXBlcmF0dXJlCk9CWHwzfE5NfFNZU3x8OTd8TW1oZ3x8Tnx8fEZ8fHwyMDIxMTIxNTE0NDE0NXwxMDAwMDA1MDM4MjB8MTEwODNNYWxHfHxOSUJQCk9CWHw0fE5NfERJQXx8NjZ8TW1oZ3x8Tnx8fEZ8fHwyMDIxMTIxNTE0NDE0NXwxMDAwMDA1MDM4MjB8MTEwODNNYWxHfHxOSUJQCk9CWHw1fE5NfE1BUHx8NzYuNXxNbWhnfHxOfHx8Rnx8fDIwMjExMjE1MTQ0MTQ1fDEwMDAwMDUwMzgyMHwxMTA4M01hbEd8fE5JQlAKT0JYfDZ8Tk18U1BPMnx8OTh8JXx8Tnx8fEZ8fHwyMDIxMTIxNTE0NDE0NXwxMDAwMDA1MDM4MjB8MTEwODNNYWxHfHxTUE8yCk9CWHw3fE5NfEhSfHw3N3xCZWF0c1Blck1pbnV0ZXx8Tnx8fEZ8fHwyMDIxMTIxNTE0NDE0NXwxMDAwMDA1MDM4MjB8MTEwODNNYWxHfHxTUE8y"

                },

                "outboundTemplate": {

                  "@encoding": "base64"

                },

                "inboundDataType": "HL7V2",

                "outboundDataType": "HL7V2",

                "inboundProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties",

                  "@version": "4.5.1",

                  "serializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties",

                    "@version": "4.5.1",

                    "handleRepetitions": true,

                    "handleSubcomponents": true,

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "stripNamespaces": false,

                    "segmentDelimiter": "\\r",

                    "convertLineBreaks": true

                  },

                  "deserializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties",

                    "@version": "4.5.1",

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "segmentDelimiter": "\\r"

                  },

                  "batchProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties",

                    "@version": "4.5.1",

                    "splitType": "MSH_Segment",

                    "batchScript": null

                  },

                  "responseGenerationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties",

                    "@version": "4.5.1",

                    "segmentDelimiter": "\\r",

                    "successfulACKCode": "AA",

                    "successfulACKMessage": null,

                    "errorACKCode": "AE",

                    "errorACKMessage": "An Error Occurred Processing Message.",

                    "rejectedACKCode": "AR",

                    "rejectedACKMessage": "Message Rejected.",

                    "msh15ACKAccept": false,

                    "dateFormat": "yyyyMMddHHmmss.SSS"

                  },

                  "responseValidationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties",

                    "@version": "4.5.1",

                    "successfulACKCode": "AA,CA",

                    "errorACKCode": "AE,CE",

                    "rejectedACKCode": "AR,CR",

                    "validateMessageControlId": true,

                    "originalMessageControlId": "Destination_Encoded",

                    "originalIdMapVariable": null

                  }

                },

                "outboundProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties",

                  "@version": "4.5.1",

                  "serializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties",

                    "@version": "4.5.1",

                    "handleRepetitions": true,

                    "handleSubcomponents": true,

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "stripNamespaces": false,

                    "segmentDelimiter": "\\r",

                    "convertLineBreaks": true

                  },

                  "deserializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties",

                    "@version": "4.5.1",

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "segmentDelimiter": "\\r"

                  },

                  "batchProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties",

                    "@version": "4.5.1",

                    "splitType": "MSH_Segment",

                    "batchScript": null

                  },

                  "responseGenerationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties",

                    "@version": "4.5.1",

                    "segmentDelimiter": "\\r",

                    "successfulACKCode": "AA",

                    "successfulACKMessage": null,

                    "errorACKCode": "AE",

                    "errorACKMessage": "An Error Occurred Processing Message.",

                    "rejectedACKCode": "AR",

                    "rejectedACKMessage": "Message Rejected.",

                    "msh15ACKAccept": false,

                    "dateFormat": "yyyyMMddHHmmss.SSS"

                  },

                  "responseValidationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties",

                    "@version": "4.5.1",

                    "successfulACKCode": "AA,CA",

                    "errorACKCode": "AE,CE",

                    "rejectedACKCode": "AR,CR",

                    "validateMessageControlId": true,

                    "originalMessageControlId": "Destination_Encoded",

                    "originalIdMapVariable": null

                  }

                }

              },

              "responseTransformer": {

                "@version": "4.5.1",

                "elements": null,

                "inboundDataType": "HL7V2",

                "outboundDataType": "HL7V2",

                "inboundProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties",

                 "@version": "4.5.1",

                  "serializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties",

                    "@version": "4.5.1",

                    "handleRepetitions": true,

                    "handleSubcomponents": true,

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "stripNamespaces": false,

                    "segmentDelimiter": "\\r",

                    "convertLineBreaks": true

                  },

                  "deserializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties",

                    "@version": "4.5.1",

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "segmentDelimiter": "\\r"

                  },

                  "batchProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties",

                    "@version": "4.5.1",

                    "splitType": "MSH_Segment",

                    "batchScript": null

                  },

                  "responseGenerationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties",

                    "@version": "4.5.1",

                    "segmentDelimiter": "\\r",

                    "successfulACKCode": "AA",

                    "successfulACKMessage": null,

                    "errorACKCode": "AE",

                    "errorACKMessage": "An Error Occurred Processing Message.",

                    "rejectedACKCode": "AR",

                    "rejectedACKMessage": "Message Rejected.",

                    "msh15ACKAccept": false,

                    "dateFormat": "yyyyMMddHHmmss.SSS"

                  },

                  "responseValidationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties",

                    "@version": "4.5.1",

                    "successfulACKCode": "AA,CA",

                    "errorACKCode": "AE,CE",

                    "rejectedACKCode": "AR,CR",

                    "validateMessageControlId": true,

                    "originalMessageControlId": "Destination_Encoded",

                    "originalIdMapVariable": null

                  }

                },

                "outboundProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties",

                  "@version": "4.5.1",

                  "serializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties",

                    "@version": "4.5.1",

                    "handleRepetitions": true,

                    "handleSubcomponents": true,

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "stripNamespaces": false,

                    "segmentDelimiter": "\\r",

                    "convertLineBreaks": true

                  },

                  "deserializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties",

                    "@version": "4.5.1",

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "segmentDelimiter": "\\r"

                  },

                  "batchProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties",

                    "@version": "4.5.1",

                    "splitType": "MSH_Segment",

                    "batchScript": null

                  },

                  "responseGenerationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties",

                    "@version": "4.5.1",

                    "segmentDelimiter": "\\r",

                    "successfulACKCode": "AA",

                    "successfulACKMessage": null,

                    "errorACKCode": "AE",

                    "errorACKMessage": "An Error Occurred Processing Message.",

                    "rejectedACKCode": "AR",

                    "rejectedACKMessage": "Message Rejected.",

                    "msh15ACKAccept": false,

                    "dateFormat": "yyyyMMddHHmmss.SSS"

                  },

                  "responseValidationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties",

                    "@version": "4.5.1",

                    "successfulACKCode": "AA,CA",

                    "errorACKCode": "AE,CE",

                    "rejectedACKCode": "AR,CR",

                    "validateMessageControlId": true,

                    "originalMessageControlId": "Destination_Encoded",

                    "originalIdMapVariable": null

                  }

                }

              },

              "filter": {

                "@version": "4.5.1",

                "elements": {

                  "com.mirth.connect.plugins.rulebuilder.RuleBuilderRule": [

                    {

                      "@version": "4.5.1",

                      "name": "Accept message if \"msg['MSH']['MSH.3']['MSH.3.1'].toString()\" equals 'MEDAT-IS'",

                      "sequenceNumber": 0,

                      "enabled": true,

                      "field": "msg['MSH']['MSH.3']['MSH.3.1'].toString()",

                      "condition": "EQUALS",

                      "values": {

                        "string": "'MEDAT-IS'"

                      }

                    },

                    {

                      "@version": "4.5.1",

                      "name": "Accept message if \"msg['MSH']['MSH.4']['MSH.4.1'].toString()\" equals 'DAVID-2.8'",

                      "sequenceNumber": 1,

                      "enabled": true,

                      "operator": "AND",

                      "field": "msg['MSH']['MSH.4']['MSH.4.1'].toString()",

                      "condition": "EQUALS",

                      "values": {

                        "string": "'DAVID-2.8'"

                      }

                    }

                  ]

                }

              },

              "transportName": "TCP Sender",

              "mode": "DESTINATION",

              "enabled": true,

              "waitForPrevious": false

            },

            {

              "@version": "4.5.1",

              "metaDataId": 4,

              "name": "ClinPathOru Vital",

              "properties": {

                "@class": "com.mirth.connect.connectors.tcp.TcpDispatcherProperties",

                "@version": "4.5.1",

                "pluginProperties": null,

                "destinationConnectorProperties": {

                  "@version": "4.5.1",

                  "queueEnabled": true,

                  "sendFirst": true,

                  "retryIntervalMillis": 10000,

                  "regenerateTemplate": true,

                  "retryCount": 0,

                  "rotate": false,

                  "includeFilterTransformer": false,

                  "threadCount": 1,

                  "threadAssignmentVariable": null,

                  "validateResponse": true,

                  "resourceIds": {

                    "@class": "linked-hash-map",

                    "entry": {

                      "string": [

                        "Default Resource",

                        "[Default Resource]"

                      ]

                    }

                  },

                  "queueBufferSize": 1000,

                  "reattachAttachments": true

                },

                "transmissionModeProperties": {

                  "@class": "com.mirth.connect.plugins.mllpmode.MLLPModeProperties",

                  "pluginPointName": "MLLP",

                  "startOfMessageBytes": "0B",

                  "endOfMessageBytes": "1C0D",

                  "useMLLPv2": false,

                  "ackBytes": "06",

                  "nackBytes": 15,

                  "maxRetries": 2

                },

                "serverMode": false,

                "remoteAddress": "172.19.2.229",

                "remotePort": 6003,

                "overrideLocalBinding": false,

                "localAddress": "0.0.0.0",

                "localPort": 0,

                "sendTimeout": 5000,

                "bufferSize": 65536,

                "maxConnections": 10,

                "keepConnectionOpen": true,

                "checkRemoteHost": true,

                "responseTimeout": 5000,

                "ignoreResponse": false,

                "queueOnResponseTimeout": true,

                "dataTypeBinary": false,

                "charsetEncoding": "ISO-8859-15",

                "template": "${message.encodedData}"

              },

              "transformer": {

                "@version": "4.5.1",

                "elements": null,

                "inboundTemplate": {

                  "@encoding": "base64",

                  "$": "TVNIfF5+XCZ8Q29ubmV4fFdlbGNoIEFsbHlufERQU3x8MjAyMTEyMTUxNDQxNTZ8fE9SVV5SMDF8MDVGNEZGOEEtREI1Ny00QUNFLTg3QTMtMzIyOTgyQUMxREQ4fFB8Mi41ClBJRHx8fDM2NzM2OTZ8fExvcGVzIGRlIENhcnZhbGhvXk1vbmljYQpQVjF8fFN8R1lOMnx8fHx8fHx8fHx8fHx8fHw0MTEwODA3NApPQlJ8fHx8U3x8fDIwMjExMjE1MTQ0MTQ1fHx8MTEwODNNYWxHfHx8fHx8fHx8fHx8fHx8RgpPQlh8MXxTVHxURU1QU0lURXx8VHltcGFuaWN8fHx8fHxGfHx8MjAyMTEyMTUxNDQxNDV8MTAwMDAwNTAzODIwfDExMDgzTWFsR3x8VGVtcGVyYXR1cmUKT0JYfDJ8Tk18VEVNUHx8MzcuMXxDZWxzaXVzfHxOfHx8Rnx8fDIwMjExMjE1MTQ0MTQ1fDEwMDAwMDUwMzgyMHwxMTA4M01hbEd8fFRlbXBlcmF0dXJlCk9CWHwzfE5NfFNZU3x8OTd8TW1oZ3x8Tnx8fEZ8fHwyMDIxMTIxNTE0NDE0NXwxMDAwMDA1MDM4MjB8MTEwODNNYWxHfHxOSUJQCk9CWHw0fE5NfERJQXx8NjZ8TW1oZ3x8Tnx8fEZ8fHwyMDIxMTIxNTE0NDE0NXwxMDAwMDA1MDM4MjB8MTEwODNNYWxHfHxOSUJQCk9CWHw1fE5NfE1BUHx8NzYuNXxNbWhnfHxOfHx8Rnx8fDIwMjExMjE1MTQ0MTQ1fDEwMDAwMDUwMzgyMHwxMTA4M01hbEd8fE5JQlAKT0JYfDZ8Tk18U1BPMnx8OTh8JXx8Tnx8fEZ8fHwyMDIxMTIxNTE0NDE0NXwxMDAwMDA1MDM4MjB8MTEwODNNYWxHfHxTUE8yCk9CWHw3fE5NfEhSfHw3N3xCZWF0c1Blck1pbnV0ZXx8Tnx8fEZ8fHwyMDIxMTIxNTE0NDE0NXwxMDAwMDA1MDM4MjB8MTEwODNNYWxHfHxTUE8y"

                },

                "inboundDataType": "HL7V2",

                "outboundDataType": "HL7V2",

                "inboundProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties",

                  "@version": "4.5.1",

                  "serializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties",

                    "@version": "4.5.1",

                    "handleRepetitions": true,

                    "handleSubcomponents": true,

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "stripNamespaces": false,

                    "segmentDelimiter": "\\r",

                    "convertLineBreaks": true

                  },

                  "deserializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties",

                    "@version": "4.5.1",

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "segmentDelimiter": "\\r"

                  },

                  "batchProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties",

                    "@version": "4.5.1",

                    "splitType": "MSH_Segment",

                    "batchScript": null

                  },

                  "responseGenerationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties",

                    "@version": "4.5.1",

                    "segmentDelimiter": "\\r",

                    "successfulACKCode": "AA",

                    "successfulACKMessage": null,

                    "errorACKCode": "AE",

                    "errorACKMessage": "An Error Occurred Processing Message.",

                    "rejectedACKCode": "AR",

                    "rejectedACKMessage": "Message Rejected.",

                    "msh15ACKAccept": false,

                    "dateFormat": "yyyyMMddHHmmss.SSS"

                  },

                  "responseValidationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties",

                    "@version": "4.5.1",

                    "successfulACKCode": "AA,CA",

                    "errorACKCode": "AE,CE",

                    "rejectedACKCode": "AR,CR",

                    "validateMessageControlId": true,

                    "originalMessageControlId": "Destination_Encoded",

                    "originalIdMapVariable": null

                  }

                },

                "outboundProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties",

                  "@version": "4.5.1",

                  "serializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties",

                    "@version": "4.5.1",

                    "handleRepetitions": true,

                    "handleSubcomponents": true,

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "stripNamespaces": false,

                    "segmentDelimiter": "\\r",

                    "convertLineBreaks": true

                  },

                  "deserializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties",

                    "@version": "4.5.1",

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "segmentDelimiter": "\\r"

                  },

                  "batchProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties",

                    "@version": "4.5.1",

                    "splitType": "MSH_Segment",

                    "batchScript": null

                  },

                  "responseGenerationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties",

                    "@version": "4.5.1",

                    "segmentDelimiter": "\\r",

                    "successfulACKCode": "AA",

                    "successfulACKMessage": null,

                    "errorACKCode": "AE",

                    "errorACKMessage": "An Error Occurred Processing Message.",

                    "rejectedACKCode": "AR",

                    "rejectedACKMessage": "Message Rejected.",

                    "msh15ACKAccept": false,

                    "dateFormat": "yyyyMMddHHmmss.SSS"

                  },

                  "responseValidationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties",

                    "@version": "4.5.1",

                    "successfulACKCode": "AA,CA",

                    "errorACKCode": "AE,CE",

                    "rejectedACKCode": "AR,CR",

                    "validateMessageControlId": true,

                    "originalMessageControlId": "Destination_Encoded",

                    "originalIdMapVariable": null

                  }

                }

              },

              "responseTransformer": {

                "@version": "4.5.1",

                "elements": null,

                "inboundDataType": "HL7V2",

                "outboundDataType": "HL7V2",

                "inboundProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties",

                  "@version": "4.5.1",

                  "serializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties",

                    "@version": "4.5.1",

                    "handleRepetitions": true,

                    "handleSubcomponents": true,

                   "useStrictParser": false,

                    "useStrictValidation": false,

                    "stripNamespaces": false,

                    "segmentDelimiter": "\\r",

                    "convertLineBreaks": true

                  },

                 "deserializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties",

                    "@version": "4.5.1",

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "segmentDelimiter": "\\r"

                  },

                  "batchProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties",

                    "@version": "4.5.1",

                    "splitType": "MSH_Segment",

                    "batchScript": null

                  },

                  "responseGenerationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties",

                    "@version": "4.5.1",

                    "segmentDelimiter": "\\r",

                    "successfulACKCode": "AA",

                    "successfulACKMessage": null,

                    "errorACKCode": "AE",

                    "errorACKMessage": "An Error Occurred Processing Message.",

                    "rejectedACKCode": "AR",

                    "rejectedACKMessage": "Message Rejected.",

                    "msh15ACKAccept": false,

                    "dateFormat": "yyyyMMddHHmmss.SSS"

                  },

                  "responseValidationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties",

                    "@version": "4.5.1",

                    "successfulACKCode": "AA,CA",

                    "errorACKCode": "AE,CE",

                    "rejectedACKCode": "AR,CR",

                    "validateMessageControlId": true,

                    "originalMessageControlId": "Destination_Encoded",

                    "originalIdMapVariable": null

                  }

                },

                "outboundProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties",

                  "@version": "4.5.1",

                  "serializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties",

                    "@version": "4.5.1",

                    "handleRepetitions": true,

                    "handleSubcomponents": true,

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "stripNamespaces": false,

                    "segmentDelimiter": "\\r",

                    "convertLineBreaks": true

                  },

                  "deserializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties",

                    "@version": "4.5.1",

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "segmentDelimiter": "\\r"

                  },

                  "batchProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties",

                    "@version": "4.5.1",

                    "splitType": "MSH_Segment",

                    "batchScript": null

                  },

                  "responseGenerationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties",

                    "@version": "4.5.1",

                    "segmentDelimiter": "\\r",

                    "successfulACKCode": "AA",

                    "successfulACKMessage": null,

                    "errorACKCode": "AE",

                    "errorACKMessage": "An Error Occurred Processing Message.",

                    "rejectedACKCode": "AR",

                    "rejectedACKMessage": "Message Rejected.",

                    "msh15ACKAccept": false,

                    "dateFormat": "yyyyMMddHHmmss.SSS"

                  },

                  "responseValidationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties",

                    "@version": "4.5.1",

                    "successfulACKCode": "AA,CA",

                    "errorACKCode": "AE,CE",

                    "rejectedACKCode": "AR,CR",

                    "validateMessageControlId": true,

                    "originalMessageControlId": "Destination_Encoded",

                    "originalIdMapVariable": null

                  }

                }

              },

              "filter": {

                "@version": "4.5.1",

                "elements": {

                  "com.mirth.connect.plugins.rulebuilder.RuleBuilderRule": [

                    {

                      "@version": "4.5.1",

                      "name": "Accept message if \"msg['MSH']['MSH.3']['MSH.3.1'].toString()\" equals 'Infinity'",

                      "sequenceNumber": 0,

                      "enabled": true,

                      "field": "msg['MSH']['MSH.3']['MSH.3.1'].toString()",

                      "condition": "EQUALS",

                      "values": {

                        "string": "'Infinity'"

                      }

                    },

                    {

                      "@version": "4.5.1",

                     "name": "Accept message if \"msg['PV1']['PV1.3']['PV1.3.1'].toString()\" contains 'ZNA' or 'KSN'",

                      "sequenceNumber": 1,

                      "enabled": true,

                      "operator": "AND",

                      "field": "msg['PV1']['PV1.3']['PV1.3.1'].toString()",

                      "condition": "CONTAINS",

                      "values": {

                        "string": [

                          "'ZNA'",

                          "'KSN'"

                        ]

                      }

                    }

                  ]

                }

              },

              "transportName": "TCP Sender",

              "mode": "DESTINATION",

              "enabled": true,

              "waitForPrevious": false

            },

            {

              "@version": "4.5.1",

              "metaDataId": 5,

              "name": "PrintPdfWriter CTK Cottbus",

              "properties": {

                "@class": "com.mirth.connect.connectors.doc.DocumentDispatcherProperties",

                "@version": "4.5.1",

                "pluginProperties": null,

                "destinationConnectorProperties": {

                  "@version": "4.5.1",

                  "queueEnabled": true,

                  "sendFirst": true,

                  "retryIntervalMillis": 10000,

                  "regenerateTemplate": true,

                  "retryCount": 0,

                  "rotate": false,

                  "includeFilterTransformer": false,

                  "threadCount": 1,

                  "threadAssignmentVariable": null,

                  "validateResponse": false,

                  "resourceIds": {

                    "@class": "linked-hash-map",

                    "entry": {

                      "string": [

                        "Default Resource",

                        "[Default Resource]"

                      ]

                    }

                  },

                  "queueBufferSize": 1000,

                  "reattachAttachments": true

                },

                "host": "D:/tmp",

                "outputPattern": "${fname}.pdf",

                "documentType": "pdf",

                "encrypt": false,

                "output": "FILE",

                "password": null,

                "pageWidth": 210,

                "pageHeight": 297,

                "pageUnit": "MM",

                "template": "<!DOCTYPE html>\n<html>\n<body>\n\n${Results}\n\n</body>\n</html>\n"

              },

              "transformer": {

                "@version": "4.5.1",

                "elements": {

                  "com.mirth.connect.plugins.javascriptstep.JavaScriptStep": [

                    {

                      "@version": "4.5.1",

                      "name": "Create HTML",

                      "sequenceNumber": 0,

                      "enabled": true,

                      "script": "var results = new XML('<tbody><pre/></tbody>');\nvar tr;\nvar text ='';\n\n/*for each (obx in msg..OBX) {\n  textStripped = msg['OBX']['OBX.5']['OBX.5.1'].toString().replace(/\\\\.br\\\\/g,\"\\r\\n\");\n  logger.debug(textStripped.substr(7,textStripped.length-15));\t\n  text = text + textStripped.substr(7,textStripped.length-15);\n}*/\n\n//Briefkopf\ntext = \t\t'Name, Vorname: ' + msg['PID']['PID.5']['PID.5.1'].toString() + ',' + msg['PID']['PID.5']['PID.5.2'].toString() + '\\r\\n' +\n\t\t\t'Geb.-Datum: ' + msg['PID']['PID.7']['PID.7.1'].toString().substr(6,2) + '.' + msg['PID']['PID.7']['PID.7.1'].toString().substr(4,2) + '.' + msg['PID']['PID.7']['PID.7.1'].toString().substr(0,4) + '\\r\\n' +\n\t\t\t'CTKPATID: ' + msg['PID']['PID.3']['PID.3.1'].toString().substr(4) + '\\r\\n' + \n\t\t\t'MKRISID: ' + msg['OBR']['OBR.3']['OBR.3.1'].toString().substr(4) + '\\r\\n' + \n\t\t\t'\\r\\n' + \n\t\t\t'Befund: \\r\\n';\n\nfor each (obx in msg..OBX) {\n    obx51 = msg['OBX']['OBX.5']['OBX.5.1'].toString(); \n    count = 1;\n    index = obx51.indexOf(\"\\\\.br\\\\\");\n\t\twhile(count < 4) {\n  \t\t//logger.debug(\"index = \" + index);\n   \t\tindex = obx51.indexOf(\"\\\\.br\\\\\", index+1);\n   \t\tcount++;\n\t}\n    index = index+5;\t\n\t\n    var textStripped = msg['OBX']['OBX.5']['OBX.5.1'].toString().substr(index,msg['OBX']['OBX.5']['OBX.5.1'].toString().length - index - 8); \n    //logger.debug(textStripped);\n    var words = textStripped.split(/\\s+/);\n    var line = 89;\n    for(i=0;i<words.length;i++)\n\t\t{\t\n\t\t//logger.debug(\"nächster string: \" + words[i])\n\t\tvar wordLength = words[i].length;\n\t\t//logger.debug(\"wortlänge = \" + wordLength);\n\t\t//logger.debug(\"zeile = \" + line);\n\t\tif(words[i].lastIndexOf(\"\\\\.br\\\\\")>-1)\n\t\t\t{\n\t\t\t\tif(line - wordLength -1 > 0)\n\t\t\t\t{\n\t\t\t\ttext = text + \" \" + words[i];\n\t\t\t\tline = 89 - wordLength + words[i].lastIndexOf(\"\\\\.br\\\\\") + 5;\n\t\t\t\t//logger.debug(\"Umbruch im Wort erkannt\");\t\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\ttext = text + \"\\r\\n\" + words[i];\n\t\t\t\tline = 89 - wordLength + words[i].lastIndexOf(\"\\\\.br\\\\\") + 5;\n\t\t\t\t//logger.debug(\"Umbruch am Anfrang des Wortes erkannt\");\t\n\t\t\t\t}\n\t\t\t\t\n\t\t\t}\n\t\telse if(words[i].lastIndexOf(\"\\\\.br\\\\\")==0)\n\t\t\t{\n\t\t\t\ttext = text + words[i];\n\t\t\t\tline = 89 - wordLength -1;\n\t\t\t}\n\t\telse\n\t\t\t{\t\n\t\t\tif(line - wordLength -1 > 0)\n\t\t\t\t{\n\t\t\t\t\tif(line==89)\n\t\t\t\t\t{\n\t\t\t\t\ttext = text + words[i];\n\t\t\t\t\tline = line - wordLength;\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t{\n\t\t\t\t\ttext = text + \" \" + words[i];\n\t\t\t\t\tline = line - wordLength -1;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\telse\n\t\t\t\t{\n\t\t\t\t\ttext = text + \"\\r\\n\";\n\t\t\t\t\tline = 89;\n\t\t\t\t\ti--;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n     text = text.replace(/\\\\.br\\\\/g,\"\\r\\n\");\t\n \n  //text = text + textStripped.substr(7,textStripped.length-15);\n}\ntext = text + \"\\r\\n\\ \\r\\n\\Unterschrift: \" + msg['OBR']['OBR.32']['OBR.32.1']['OBR.32.1.6'].toString() + \" \" +  msg['OBR']['OBR.32']['OBR.32.1']['OBR.32.1.3'].toString() + \" \" + msg['OBR']['OBR.32']['OBR.32.1']['OBR.32.1.2'].toString();\ntext = text + \"\\r\\n\\ \\r\\n\\Die Befundung erfolgte durch die Kath. Marienkrankenhaus gGmbH\"\n\nresults.tbody.pre = text;\n\nconnectorMap.put(\"Results\",results);"

                    },

                    {

                      "@version": "4.5.1",

                      "name": "targetDir + Filename",

                      "sequenceNumber": 1,

                      "enabled": true,

                      "script": "//var fname = msg['MSH']['MSH.10']['MSH.10.1'].toString() + connectorMessage.getMessageId();\nvar fname = \tmsg['PID']['PID.5']['PID.5.1'].toString() + ', ' + \n\t\t\tmsg['PID']['PID.5']['PID.5.2'].toString() + ', ' +\n\t\t\tmsg['PID']['PID.7']['PID.7.1'].toString().substr(6,2) + '.' + msg['PID']['PID.7']['PID.7.1'].toString().substr(4,2) + '.' + msg['PID']['PID.7']['PID.7.1'].toString().substr(0,4) + ', CTKPATID ' + \n\t\t\tmsg['PID']['PID.3']['PID.3.1'].toString().substr(4) + ', MKRISID ' + \n\t\t\tmsg['OBR']['OBR.3']['OBR.3.1'].toString().substr(4);\n\t\t\t\n\nchannelMap.put('fname',fname);\n\nmsg = \"\";"

                    }

                  ]

                },

                "inboundTemplate": {

                  "@encoding": "base64",

                  "$": "TVNIfF5+XCZ8Q29ubmV4fFdlbGNoIEFsbHlufERQU3x8MjAyMTEyMTUxNDQxNTZ8fE9SVV5SMDF8MDVGNEZGOEEtREI1Ny00QUNFLTg3QTMtMzIyOTgyQUMxREQ4fFB8Mi41ClBJRHx8fDM2NzM2OTZ8fExvcGVzIGRlIENhcnZhbGhvXk1vbmljYQpQVjF8fFN8R1lOMnx8fHx8fHx8fHx8fHx8fHw0MTEwODA3NApPQlJ8fHx8U3x8fDIwMjExMjE1MTQ0MTQ1fHx8MTEwODNNYWxHfHx8fHx8fHx8fHx8fHx8RgpPQlh8MXxTVHxURU1QU0lURXx8VHltcGFuaWN8fHx8fHxGfHx8MjAyMTEyMTUxNDQxNDV8MTAwMDAwNTAzODIwfDExMDgzTWFsR3x8VGVtcGVyYXR1cmUKT0JYfDJ8Tk18VEVNUHx8MzcuMXxDZWxzaXVzfHxOfHx8Rnx8fDIwMjExMjE1MTQ0MTQ1fDEwMDAwMDUwMzgyMHwxMTA4M01hbEd8fFRlbXBlcmF0dXJlCk9CWHwzfE5NfFNZU3x8OTd8TW1oZ3x8Tnx8fEZ8fHwyMDIxMTIxNTE0NDE0NXwxMDAwMDA1MDM4MjB8MTEwODNNYWxHfHxOSUJQCk9CWHw0fE5NfERJQXx8NjZ8TW1oZ3x8Tnx8fEZ8fHwyMDIxMTIxNTE0NDE0NXwxMDAwMDA1MDM4MjB8MTEwODNNYWxHfHxOSUJQCk9CWHw1fE5NfE1BUHx8NzYuNXxNbWhnfHxOfHx8Rnx8fDIwMjExMjE1MTQ0MTQ1fDEwMDAwMDUwMzgyMHwxMTA4M01hbEd8fE5JQlAKT0JYfDZ8Tk18U1BPMnx8OTh8JXx8Tnx8fEZ8fHwyMDIxMTIxNTE0NDE0NXwxMDAwMDA1MDM4MjB8MTEwODNNYWxHfHxTUE8yCk9CWHw3fE5NfEhSfHw3N3xCZWF0c1Blck1pbnV0ZXx8Tnx8fEZ8fHwyMDIxMTIxNTE0NDE0NXwxMDAwMDA1MDM4MjB8MTEwODNNYWxHfHxTUE8y"

                },

                "outboundTemplate": {

                  "@encoding": "base64"

                },

                "inboundDataType": "HL7V2",

                "outboundDataType": "HL7V2",

                "inboundProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties",

                  "@version": "4.5.1",

                  "serializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties",

                    "@version": "4.5.1",

                    "handleRepetitions": true,

                    "handleSubcomponents": true,

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "stripNamespaces": false,

                    "segmentDelimiter": "\\r",

                    "convertLineBreaks": true

                  },

                  "deserializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties",

                    "@version": "4.5.1",

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "segmentDelimiter": "\\r"

                  },

                  "batchProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties",

                    "@version": "4.5.1",

                    "splitType": "MSH_Segment",

                    "batchScript": null

                  },

                  "responseGenerationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties",

                    "@version": "4.5.1",

                    "segmentDelimiter": "\\r",

                    "successfulACKCode": "AA",

                    "successfulACKMessage": null,

                    "errorACKCode": "AE",

                    "errorACKMessage": "An Error Occurred Processing Message.",

                    "rejectedACKCode": "AR",

                    "rejectedACKMessage": "Message Rejected.",

                    "msh15ACKAccept": false,

                    "dateFormat": "yyyyMMddHHmmss.SSS"

                  },

                  "responseValidationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties",

                    "@version": "4.5.1",

                    "successfulACKCode": "AA,CA",

                    "errorACKCode": "AE,CE",

                    "rejectedACKCode": "AR,CR",

                    "validateMessageControlId": true,

                    "originalMessageControlId": "Destination_Encoded",

                    "originalIdMapVariable": null

                  }

                },

                "outboundProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties",

                  "@version": "4.5.1",

                  "serializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties",

                    "@version": "4.5.1",

                    "handleRepetitions": true,

                    "handleSubcomponents": true,

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "stripNamespaces": false,

                    "segmentDelimiter": "\\r",

                    "convertLineBreaks": true

                  },

                  "deserializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties",

                    "@version": "4.5.1",

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "segmentDelimiter": "\\r"

                  },

                  "batchProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties",

                    "@version": "4.5.1",

                    "splitType": "MSH_Segment",

                    "batchScript": null

                  },

                  "responseGenerationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties",

                    "@version": "4.5.1",

                    "segmentDelimiter": "\\r",

                    "successfulACKCode": "AA",

                    "successfulACKMessage": null,

                    "errorACKCode": "AE",

                    "errorACKMessage": "An Error Occurred Processing Message.",

                    "rejectedACKCode": "AR",

                    "rejectedACKMessage": "Message Rejected.",

                    "msh15ACKAccept": false,

                   "dateFormat": "yyyyMMddHHmmss.SSS"

                  },

                  "responseValidationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties",

                    "@version": "4.5.1",

                    "successfulACKCode": "AA,CA",

                    "errorACKCode": "AE,CE",

                    "rejectedACKCode": "AR,CR",

                    "validateMessageControlId": true,

                    "originalMessageControlId": "Destination_Encoded",

                    "originalIdMapVariable": null

                  }

                }

              },

              "responseTransformer": {

                "@version": "4.5.1",

                "elements": null,

                "inboundDataType": "HL7V2",

                "outboundDataType": "HL7V2",

                "inboundProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties",

                  "@version": "4.5.1",

                  "serializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties",

                    "@version": "4.5.1",

                    "handleRepetitions": true,

                    "handleSubcomponents": true,

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "stripNamespaces": false,

                    "segmentDelimiter": "\\r",

                    "convertLineBreaks": true

                  },

                  "deserializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties",

                    "@version": "4.5.1",

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "segmentDelimiter": "\\r"

                  },

                  "batchProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties",

                    "@version": "4.5.1",

                    "splitType": "MSH_Segment",

                    "batchScript": null

                  },

                  "responseGenerationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties",

                    "@version": "4.5.1",

                    "segmentDelimiter": "\\r",

                    "successfulACKCode": "AA",

                    "successfulACKMessage": null,

                    "errorACKCode": "AE",

                    "errorACKMessage": "An Error Occurred Processing Message.",

                    "rejectedACKCode": "AR",

                    "rejectedACKMessage": "Message Rejected.",

                    "msh15ACKAccept": false,

                    "dateFormat": "yyyyMMddHHmmss.SSS"

                  },

                  "responseValidationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties",

                    "@version": "4.5.1",

                    "successfulACKCode": "AA,CA",

                    "errorACKCode": "AE,CE",

                   "rejectedACKCode": "AR,CR",

                    "validateMessageControlId": true,

                    "originalMessageControlId": "Destination_Encoded",

                    "originalIdMapVariable": null

                  }

                },

                "outboundProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties",

                  "@version": "4.5.1",

                  "serializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties",

                    "@version": "4.5.1",

                    "handleRepetitions": true,

                    "handleSubcomponents": true,

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "stripNamespaces": false,

                    "segmentDelimiter": "\\r",

                    "convertLineBreaks": true

                  },

                  "deserializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties",

                    "@version": "4.5.1",

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "segmentDelimiter": "\\r"

                  },

                  "batchProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties",

                    "@version": "4.5.1",

                    "splitType": "MSH_Segment",

                    "batchScript": null

                  },

                  "responseGenerationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties",

                    "@version": "4.5.1",

                    "segmentDelimiter": "\\r",

                    "successfulACKCode": "AA",

                    "successfulACKMessage": null,

                    "errorACKCode": "AE",

                    "errorACKMessage": "An Error Occurred Processing Message.",

                    "rejectedACKCode": "AR",

                    "rejectedACKMessage": "Message Rejected.",

                    "msh15ACKAccept": false,

                    "dateFormat": "yyyyMMddHHmmss.SSS"

                  },

                  "responseValidationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties",

                    "@version": "4.5.1",

                    "successfulACKCode": "AA,CA",

                    "errorACKCode": "AE,CE",

                    "rejectedACKCode": "AR,CR",

                    "validateMessageControlId": true,

                    "originalMessageControlId": "Destination_Encoded",

                    "originalIdMapVariable": null

                  }

                }

              },

              "filter": {

                "@version": "4.5.1",

                "elements": {

                  "com.mirth.connect.plugins.rulebuilder.RuleBuilderRule": [

                    {

                      "@version": "4.5.1",

                      "name": "Accept message if \"msg['PV1']['PV1.3']['PV1.3.1'].toString()\" equals 'CTKCOTTBUS'",

                      "sequenceNumber": 0,

                      "enabled": true,

                      "field": "msg['PV1']['PV1.3']['PV1.3.1'].toString()",

                      "condition": "EQUALS",

                      "values": {

                        "string": "'CTKCOTTBUS'"

                      }

                    },

                    {

                      "@version": "4.5.1",

                      "name": "Accept message if \"msg['OBR']['OBR.25']['OBR.25.1'].toString()\" equals 'f'",

                      "sequenceNumber": 1,

                      "enabled": true,

                      "operator": "AND",

                      "field": "msg['OBR']['OBR.25']['OBR.25.1'].toString()",

                      "condition": "EQUALS",

                      "values": {

                        "string": "'f'"

                      }

                    }

                  ]

                }

              },

              "transportName": "Document Writer",

              "mode": "DESTINATION",

              "enabled": false,

              "waitForPrevious": false

            },

            {

              "@version": "4.5.1",

              "metaDataId": 6,

              "name": "KISOru Vital",

              "properties": {

                "@class": "com.mirth.connect.connectors.tcp.TcpDispatcherProperties",

                "@version": "4.5.1",

                "pluginProperties": null,

                "destinationConnectorProperties": {

                  "@version": "4.5.1",

                  "queueEnabled": true,

                  "sendFirst": true,

                  "retryIntervalMillis": 10000,

                  "regenerateTemplate": true,

                  "retryCount": 0,

                  "rotate": false,

                  "includeFilterTransformer": false,

                  "threadCount": 1,

                  "threadAssignmentVariable": null,

                  "validateResponse": true,

                  "resourceIds": {

                    "@class": "linked-hash-map",

                    "entry": {

                      "string": [

                        "Default Resource",

                        "[Default Resource]"

                      ]

                    }

                  },

                  "queueBufferSize": 1000,

                  "reattachAttachments": true

                },

                "transmissionModeProperties": {

                  "@class": "com.mirth.connect.plugins.mllpmode.MLLPModeProperties",

                  "pluginPointName": "MLLP",

                  "startOfMessageBytes": "0B",

                  "endOfMessageBytes": "1C0D",

                  "useMLLPv2": false,

                  "ackBytes": "06",

                  "nackBytes": 15,

                  "maxRetries": 2

                },

                "serverMode": false,

                "remoteAddress": "172.19.3.10",

                "remotePort": 5684,

                "overrideLocalBinding": false,

                "localAddress": "0.0.0.0",

                "localPort": 0,

                "sendTimeout": 5000,

                "bufferSize": 65536,

                "maxConnections": 10,

                "keepConnectionOpen": true,

                "checkRemoteHost": true,

                "responseTimeout": 5000,

                "ignoreResponse": false,

                "queueOnResponseTimeout": true,

                "dataTypeBinary": false,

                "charsetEncoding": "ISO-8859-15",

                "template": "${message.encodedData}"

              },

              "transformer": {

                "@version": "4.5.1",

                "elements": null,

                "inboundTemplate": {

                  "@encoding": "base64",

                  "$": "TVNIfF5+XCZ8SW5maW5pdHl8fE5VUnx8MjAyNTA0MDMxNjI4NDV8fE9SVV5SMDF8MjUwNDAzMTYyODQ1NTEwMTA0Njh8UHwyLjN8fHxBTHxORQ1QSUR8fHw0NTAzNDg0NF5eXl5BTnx8QmVja2VyXkNocmlzdG9waHx8fHx8fHx8fHx8fHw0NTAzNDg0NA1QVjF8fHxNRUQzXl41MzgtRihXKXx8fHx8fHx8fHx8fHx8fHw0NTAzNDg0NA1PQlJ8fHx8fHx8MjAyNTA0MDMxNjI4MzENT0JYfHxTTnxIUnx8NzF8L21pbl5eSVNPK3x8fHx8Rnx8fDIwMjUwNDAzMTYyODMxDU9CWHx8U058JVBBQ0VEfHwwfCVeXklTTyt8fHx8fEZ8fHwyMDI1MDQwMzE2MjgzMQ1PQlh8fFNOfFBWQy9taW58fDB8L21pbl5eSVNPK3x8fHx8Rnx8fDIwMjUwNDAzMTYyODMxDU9CWHx8U058U1RJfHwtMC40fG1tXl5JU08rfHx8fHxGfHx8MjAyNTA0MDMxNjI4MzENT0JYfHxTTnxTVElJfHwwLjB8bW1eXklTTyt8fHx8fEZ8fHwyMDI1MDQwMzE2MjgzMQ1PQlh8fFNOfFNUSUlJfHwwLjV8bW1eXklTTyt8fHx8fEZ8fHwyMDI1MDQwMzE2MjgzMQ1PQlh8fFNOfFNUYVZSfHwwLjN8bW1eXklTTyt8fHx8fEZ8fHwyMDI1MDQwMzE2MjgzMQ1PQlh8fFNOfFNUYVZGfHwwLjN8bW1eXklTTyt8fHx8fEZ8fHwyMDI1MDQwMzE2MjgzMQ1PQlh8fFNOfFNUYVZMfHwtMC41fG1tXl5JU08rfHx8fHxGfHx8MjAyNTA0MDMxNjI4MzENT0JYfHxTTnxTVFZ8fDAuM3xtbV5eSVNPK3x8fHx8Rnx8fDIwMjUwNDAzMTYyODMxDU9CWHx8U058UExTfHw3MXwvbWluXl5JU08rfHx8fHxGfHx8MjAyNTA0MDMxNjI4MzENT0JYfHxTTnxTUE8yfHw5NXwlXl5JU08rfHx8fHxGfHx8MjAyNTA0MDMxNjI4MzENT0JYfHxTTnxQSXx8MTAuNDV8JV5eSVNPK3x8fHx8Rnx8fDIwMjUwNDAzMTYyODMxDQ=="

                },

                "inboundDataType": "HL7V2",

                "outboundDataType": "HL7V2",

                "inboundProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties",

                  "@version": "4.5.1",

                  "serializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties",

                    "@version": "4.5.1",

                    "handleRepetitions": true,

                    "handleSubcomponents": true,

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "stripNamespaces": false,

                    "segmentDelimiter": "\\r",

                    "convertLineBreaks": true

                  },

                  "deserializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties",

                    "@version": "4.5.1",

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "segmentDelimiter": "\\r"

                  },

                  "batchProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties",

                    "@version": "4.5.1",

                    "splitType": "MSH_Segment",

                    "batchScript": null

                  },

                  "responseGenerationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties",

                    "@version": "4.5.1",

                    "segmentDelimiter": "\\r",

                    "successfulACKCode": "AA",

                    "successfulACKMessage": null,

                    "errorACKCode": "AE",

                    "errorACKMessage": "An Error Occurred Processing Message.",

                    "rejectedACKCode": "AR",

                    "rejectedACKMessage": "Message Rejected.",

                    "msh15ACKAccept": false,

                    "dateFormat": "yyyyMMddHHmmss.SSS"

                  },

                  "responseValidationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties",

                    "@version": "4.5.1",

                    "successfulACKCode": "AA,CA",

                    "errorACKCode": "AE,CE",

                    "rejectedACKCode": "AR,CR",

                    "validateMessageControlId": true,

                    "originalMessageControlId": "Destination_Encoded",

                    "originalIdMapVariable": null

                  }

                },

                "outboundProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties",

                  "@version": "4.5.1",

                  "serializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties",

                    "@version": "4.5.1",

                    "handleRepetitions": true,

                    "handleSubcomponents": true,

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "stripNamespaces": false,

                    "segmentDelimiter": "\\r",

                    "convertLineBreaks": true

                  },

                  "deserializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties",

                    "@version": "4.5.1",

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "segmentDelimiter": "\\r"

                  },

                  "batchProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties",

                    "@version": "4.5.1",

                    "splitType": "MSH_Segment",

                    "batchScript": null

                  },

                  "responseGenerationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties",

                    "@version": "4.5.1",

                    "segmentDelimiter": "\\r",

                    "successfulACKCode": "AA",

                    "successfulACKMessage": null,

                    "errorACKCode": "AE",

                    "errorACKMessage": "An Error Occurred Processing Message.",

                    "rejectedACKCode": "AR",

                    "rejectedACKMessage": "Message Rejected.",

                    "msh15ACKAccept": false,

                    "dateFormat": "yyyyMMddHHmmss.SSS"

                  },

                  "responseValidationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties",

                    "@version": "4.5.1",

                    "successfulACKCode": "AA,CA",

                    "errorACKCode": "AE,CE",

                    "rejectedACKCode": "AR,CR",

                    "validateMessageControlId": true,

                    "originalMessageControlId": "Destination_Encoded",

                    "originalIdMapVariable": null

                  }

                }

              },

              "responseTransformer": {

                "@version": "4.5.1",

                "elements": null,

                "inboundDataType": "HL7V2",

                "outboundDataType": "HL7V2",

                "inboundProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties",

                  "@version": "4.5.1",

                  "serializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties",

                    "@version": "4.5.1",

                    "handleRepetitions": true,

                    "handleSubcomponents": true,

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "stripNamespaces": false,

                    "segmentDelimiter": "\\r",

                    "convertLineBreaks": true

                  },

                  "deserializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties",

                    "@version": "4.5.1",

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "segmentDelimiter": "\\r"

                  },

                  "batchProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties",

                    "@version": "4.5.1",

                    "splitType": "MSH_Segment",

                    "batchScript": null

                  },

                  "responseGenerationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties",

                    "@version": "4.5.1",

                    "segmentDelimiter": "\\r",

                    "successfulACKCode": "AA",

                    "successfulACKMessage": null,

                    "errorACKCode": "AE",

                    "errorACKMessage": "An Error Occurred Processing Message.",

                    "rejectedACKCode": "AR",

                    "rejectedACKMessage": "Message Rejected.",

                    "msh15ACKAccept": false,

                    "dateFormat": "yyyyMMddHHmmss.SSS"

                  },

                  "responseValidationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties",

                    "@version": "4.5.1",

                    "successfulACKCode": "AA,CA",

                    "errorACKCode": "AE,CE",

                    "rejectedACKCode": "AR,CR",

                    "validateMessageControlId": true,

                    "originalMessageControlId": "Destination_Encoded",

                    "originalIdMapVariable": null

                  }

                },

                "outboundProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties",

                  "@version": "4.5.1",

                  "serializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties",

                    "@version": "4.5.1",

                    "handleRepetitions": true,

                    "handleSubcomponents": true,

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "stripNamespaces": false,

                    "segmentDelimiter": "\\r",

                    "convertLineBreaks": true

                  },

                  "deserializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties",

                    "@version": "4.5.1",

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "segmentDelimiter": "\\r"

                  },

                  "batchProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties",

                    "@version": "4.5.1",

                    "splitType": "MSH_Segment",

                    "batchScript": null

                  },

                  "responseGenerationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties",

                    "@version": "4.5.1",

                    "segmentDelimiter": "\\r",

                    "successfulACKCode": "AA",

                    "successfulACKMessage": null,

                    "errorACKCode": "AE",

                    "errorACKMessage": "An Error Occurred Processing Message.",

                    "rejectedACKCode": "AR",

                    "rejectedACKMessage": "Message Rejected.",

                    "msh15ACKAccept": false,

                    "dateFormat": "yyyyMMddHHmmss.SSS"

                  },

                  "responseValidationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties",

                    "@version": "4.5.1",

                    "successfulACKCode": "AA,CA",

                    "errorACKCode": "AE,CE",

                    "rejectedACKCode": "AR,CR",

                    "validateMessageControlId": true,

                    "originalMessageControlId": "Destination_Encoded",

                    "originalIdMapVariable": null

                  }

                }

              },

              "filter": {

                "@version": "4.5.1",

                "elements": {

                  "com.mirth.connect.plugins.rulebuilder.RuleBuilderRule": {

                    "@version": "4.5.1",

                    "name": "Accept message if \"msg['MSH']['MSH.3']['MSH.3.1'].toString()\" equals 'Connex'",

                    "sequenceNumber": 0,

                    "enabled": true,

                    "field": "msg['MSH']['MSH.3']['MSH.3.1'].toString()",

                    "condition": "EQUALS",

                    "values": {

                      "string": "'Connex'"

                    }

                  },

                  "com.mirth.connect.plugins.javascriptrule.JavaScriptRule": {

                    "@version": "4.5.1",

                    "name": "Accept messages from Draeger Vital Monitoring",

                    "sequenceNumber": 1,

                    "enabled": true,

                    "operator": "OR",

                    "script": "// Accept Messages from Draeger Vitalmonitoring von Stations Med3 und Kreißsaal\n\nif (msg['MSH']['MSH.3']['MSH.3.1'].toString() == \"Infinity\" )\n{\n\tif (msg['PV1']['PV1.3']['PV1.3.1'].toString() == \"MED3\" ) return true;\n\tif (msg['PV1']['PV1.3']['PV1.3.1'].toString() == \"KS\" ) return true;\n\tif (msg['PV1']['PV1.3']['PV1.3.1'].toString() == \"MED8\" ) return true;\n}\nreturn false;"

                  }

                }

              },

              "transportName": "TCP Sender",

              "mode": "DESTINATION",

              "enabled": true,

              "waitForPrevious": false

            },

            {

              "@version": "4.5.1",

              "metaDataId": 7,

              "name": "PDMSOru",

              "properties": {

                "@class": "com.mirth.connect.connectors.tcp.TcpDispatcherProperties",

                "@version": "4.5.1",

                "pluginProperties": null,

                "destinationConnectorProperties": {

                  "@version": "4.5.1",

                  "queueEnabled": true,

                  "sendFirst": true,

                  "retryIntervalMillis": 10000,

                  "regenerateTemplate": true,

                  "retryCount": 0,

                  "rotate": false,

                  "includeFilterTransformer": false,

                  "threadCount": 1,

                  "threadAssignmentVariable": null,

                  "validateResponse": true,

                  "resourceIds": {

                    "@class": "linked-hash-map",

                    "entry": {

                      "string": [

                        "Default Resource",

                        "[Default Resource]"

                      ]

                    }

                  },

                  "queueBufferSize": 1000,

                  "reattachAttachments": true

                },

                "transmissionModeProperties": {

                  "@class": "com.mirth.connect.plugins.mllpmode.MLLPModeProperties",

                  "pluginPointName": "MLLP",

                  "startOfMessageBytes": "0B",

                  "endOfMessageBytes": "1C0D",

                  "useMLLPv2": false,

                  "ackBytes": "06",

                  "nackBytes": 15,

                  "maxRetries": 2

                },

                "serverMode": false,

                "remoteAddress": "172.19.133.5",

                "remotePort": 2375,

                "overrideLocalBinding": false,

                "localAddress": "0.0.0.0",

                "localPort": 0,

                "sendTimeout": 5000,

                "bufferSize": 65536,

                "maxConnections": 10,

                "keepConnectionOpen": true,

                "checkRemoteHost": true,

                "responseTimeout": 5000,

                "ignoreResponse": false,

                "queueOnResponseTimeout": true,

                "dataTypeBinary": false,

                "charsetEncoding": "ISO-8859-15",

                "template": "${message.encodedData}"

              },

              "transformer": {

                "@version": "4.5.1",

                "elements": {

                  "com.mirth.connect.plugins.javascriptstep.JavaScriptStep": [

                    {

                      "@version": "4.5.1",

                      "name": "tmp = msg.copy",

                      "sequenceNumber": 0,

                      "enabled": true,

                      "script": "tmp = msg.copy();"

                    },

                    {

                      "@version": "4.5.1",

                      "name": "change specimen date about observation end date",

                      "sequenceNumber": 1,

                      "enabled": true,

                      "script": "//14.06.2021 MBA\n//Bei Endbefund das Probeneingangsdatum durch den Endbefundenddatum abaendern\n\nfor(var i=0;i<msg['OBR'].length();i++)\t{\n\tif(msg['OBR'][i]['OBR.8']['OBR.8.1'].toString().length>0)\n\t{\n\t\ttmp['OBR'][i]['OBR.14']['OBR.14.1'] = msg['OBR'][i]['OBR.8']['OBR.8.1'].toString();\n\t}\n}"

                    },

                    {

                      "@version": "4.5.1",

                      "name": "delete OBR without the first",

                      "sequenceNumber": 2,

                      "enabled": false,

                      "script": "//löscht alle OBR1 Segmente bis auf das erste OBR1 Segment! 14.08.2020 MBA\nfor(var i=msg['OBR'].length()-1;i>=0;i--){\n\tif(msg['OBR1'][i]['OBR1.1']['OBR1.1.1'].toString() != '1'){\n\t\tdelete tmp['OBR1'][i];\n\t}\n}"

                    }

                  ]

                },

                "inboundTemplate": {

                  "@encoding": "base64"

                },

                "outboundTemplate": {

                  "@encoding": "base64",

                  "$": "TVNIfF5+XCZ8TUVEQVQtSVN8REFWSUQtMi44fERQU3xNS1VSTzF8MjAyMTA2MDQwOTQ0NTZ8fE9SVV5SMDF8MTEyODQwMjh8UHwyLjINUElEfHx8MzgzNDI2NHx8TWVzZWxtYW5pXkhpbmR8fDE5NTYwNjE4fDE0MTA0OTYyNnwNUFYxfHxJfE1LVVJPMXx8fHx8fHx8fHx8fHx8fHw0MTA0OTYyNg1PQlJ8MXwwMDEyNDIyMXx8S1JZT0dMT0JeS3J5b2dsb2J1bGluXkZOfHx8MjAyMTA2MDMwNzAwfDIwMjEwNjA0MDk0NDU2fHx8fHx8MjAyMTA2MDQwOTQ0NTZ8MTN8fHx8fHx8fHx8UHwNT0JYfDF8U1R8S1JZT0dMT0JeS3J5b2dsb2J1bGluXkZOfHxGb2xndHx8fHx8fFB8"

                },

                "inboundDataType": "HL7V2",

                "outboundDataType": "HL7V2",

                "inboundProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties",

                  "@version": "4.5.1",

                  "serializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties",

                    "@version": "4.5.1",

                    "handleRepetitions": true,

                    "handleSubcomponents": true,

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "stripNamespaces": false,

                    "segmentDelimiter": "\\r",

                    "convertLineBreaks": true

                  },

                  "deserializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties",

                    "@version": "4.5.1",

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "segmentDelimiter": "\\r"

                  },

                  "batchProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties",

                    "@version": "4.5.1",

                    "splitType": "MSH_Segment",

                    "batchScript": null

                  },

                  "responseGenerationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties",

                    "@version": "4.5.1",

                    "segmentDelimiter": "\\r",

                    "successfulACKCode": "AA",

                    "successfulACKMessage": null,

                    "errorACKCode": "AE",

                    "errorACKMessage": "An Error Occurred Processing Message.",

                    "rejectedACKCode": "AR",

                    "rejectedACKMessage": "Message Rejected.",

                    "msh15ACKAccept": false,

                    "dateFormat": "yyyyMMddHHmmss.SSS"

                  },

                  "responseValidationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties",

                    "@version": "4.5.1",

                    "successfulACKCode": "AA,CA",

                    "errorACKCode": "AE,CE",

                    "rejectedACKCode": "AR,CR",

                    "validateMessageControlId": true,

                    "originalMessageControlId": "Destination_Encoded",

                    "originalIdMapVariable": null

                  }

                },

                "outboundProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties",

                  "@version": "4.5.1",

                  "serializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties",

                    "@version": "4.5.1",

                    "handleRepetitions": true,

                    "handleSubcomponents": true,

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "stripNamespaces": false,

                    "segmentDelimiter": "\\r",

                    "convertLineBreaks": true

                  },

                  "deserializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties",

                    "@version": "4.5.1",

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "segmentDelimiter": "\\r"

                  },

                  "batchProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties",

                    "@version": "4.5.1",

                    "splitType": "MSH_Segment",

                    "batchScript": null

                  },

                  "responseGenerationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties",

                    "@version": "4.5.1",

                    "segmentDelimiter": "\\r",

                    "successfulACKCode": "AA",

                    "successfulACKMessage": null,

                    "errorACKCode": "AE",

                    "errorACKMessage": "An Error Occurred Processing Message.",

                    "rejectedACKCode": "AR",

                    "rejectedACKMessage": "Message Rejected.",

                    "msh15ACKAccept": false,

                    "dateFormat": "yyyyMMddHHmmss.SSS"

                  },

                  "responseValidationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties",

                    "@version": "4.5.1",

                    "successfulACKCode": "AA,CA",

                    "errorACKCode": "AE,CE",

                    "rejectedACKCode": "AR,CR",

                    "validateMessageControlId": true,

                    "originalMessageControlId": "Destination_Encoded",

                    "originalIdMapVariable": null

                  }

                }

              },

              "responseTransformer": {

                "@version": "4.5.1",

                "elements": null,

                "inboundDataType": "HL7V2",

                "outboundDataType": "HL7V2",

                "inboundProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties",

                  "@version": "4.5.1",

                  "serializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties",

                    "@version": "4.5.1",

                    "handleRepetitions": true,

                    "handleSubcomponents": true,

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "stripNamespaces": false,

                    "segmentDelimiter": "\\r",

                    "convertLineBreaks": true

                  },

                  "deserializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties",

                    "@version": "4.5.1",

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "segmentDelimiter": "\\r"

                  },

                  "batchProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties",

                    "@version": "4.5.1",

                    "splitType": "MSH_Segment",

                    "batchScript": null

                  },

                  "responseGenerationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties",

                    "@version": "4.5.1",

                    "segmentDelimiter": "\\r",

                    "successfulACKCode": "AA",

                    "successfulACKMessage": null,

                    "errorACKCode": "AE",

                    "errorACKMessage": "An Error Occurred Processing Message.",

                    "rejectedACKCode": "AR",

                    "rejectedACKMessage": "Message Rejected.",

                    "msh15ACKAccept": false,

                    "dateFormat": "yyyyMMddHHmmss.SSS"

                  },

                  "responseValidationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties",

                    "@version": "4.5.1",

                   "successfulACKCode": "AA,CA",

                    "errorACKCode": "AE,CE",

                    "rejectedACKCode": "AR,CR",

                    "validateMessageControlId": true,

                    "originalMessageControlId": "Destination_Encoded",

                    "originalIdMapVariable": null

                  }

                },

                "outboundProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties",

                  "@version": "4.5.1",

                  "serializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties",

                    "@version": "4.5.1",

                    "handleRepetitions": true,

                    "handleSubcomponents": true,

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "stripNamespaces": false,

                    "segmentDelimiter": "\\r",

                    "convertLineBreaks": true

                  },

                  "deserializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties",

                    "@version": "4.5.1",

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "segmentDelimiter": "\\r"

                  },

                  "batchProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties",

                    "@version": "4.5.1",

                    "splitType": "MSH_Segment",

                    "batchScript": null

                  },

                  "responseGenerationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties",

                    "@version": "4.5.1",

                    "segmentDelimiter": "\\r",

                    "successfulACKCode": "AA",

                    "successfulACKMessage": null,

                    "errorACKCode": "AE",

                    "errorACKMessage": "An Error Occurred Processing Message.",

                    "rejectedACKCode": "AR",

                    "rejectedACKMessage": "Message Rejected.",

                    "msh15ACKAccept": false,

                    "dateFormat": "yyyyMMddHHmmss.SSS"

                  },

                  "responseValidationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties",

                    "@version": "4.5.1",

                    "successfulACKCode": "AA,CA",

                    "errorACKCode": "AE,CE",

                    "rejectedACKCode": "AR,CR",

                    "validateMessageControlId": true,

                    "originalMessageControlId": "Destination_Encoded",

                    "originalIdMapVariable": null

                  }

                }

              },

              "filter": {

                "@version": "4.5.1",

                "elements": {

                  "com.mirth.connect.plugins.rulebuilder.RuleBuilderRule": {

                    "@version": "4.5.1",

                    "name": "Accept message if \"msg['MSH']['MSH.3']['MSH.3.1'].toString()\" equals 'MEDAT-IS' or 'DAVID'",

                    "sequenceNumber": 0,

                    "enabled": true,

                    "field": "msg['MSH']['MSH.3']['MSH.3.1'].toString()",

                    "condition": "EQUALS",

                    "values": {

                      "string": [

                        "'MEDAT-IS'",

                        "'DAVID'"

                      ]

                    }

                  },

                  "com.mirth.connect.plugins.javascriptrule.JavaScriptRule": [

                    {

                      "@version": "4.5.1",

                      "name": "Laborbefunde ohne Pat-ID ablehnen",

                      "sequenceNumber": 1,

                      "enabled": true,

                      "operator": "AND",

                      "script": "if(msg['PID']['PID.3']['PID.3.1'].toString().length>0){\n\treturn true;\n}\nreturn false;"

                    },

                    {

                      "@version": "4.5.1",

                      "name": "Laborbefunde ohne valide Fall-ID ablehnen",

                      "sequenceNumber": 2,

                      "enabled": true,

                      "operator": "AND",

                      "script": "var fid = msg['PV1']['PV1.19']['PV1.19.1'].toString();\nvar regEX = /^[0-9]{8}$/;\n\nif (fid.match(regEX) !== null) {\n\treturn true;\n}\nreturn false;"

                    }

                  ]

                }

              },

              "transportName": "TCP Sender",

              "mode": "DESTINATION",

              "enabled": true,

              "waitForPrevious": false

            }

          ]

        },

        "preprocessingScript": "// Modify the message variable below to pre process data\nreturn message;",

        "postprocessingScript": "// This script executes once after a message has been processed\n// Responses returned from here will be stored as \"Postprocessor\" in the response map\nreturn;",

        "deployScript": "// This script executes once when the channel is deployed\n// You only have access to the globalMap and globalChannelMap here to persist data\nreturn;",

        "undeployScript": "// This script executes once when the channel is undeployed\n// You only have access to the globalMap and globalChannelMap here to persist data\nreturn;",

        "properties": {

          "@version": "4.5.1",

          "clearGlobalChannelMap": true,

          "messageStorageMode": "PRODUCTION",

          "encryptData": false,

          "encryptAttachments": false,

          "encryptCustomMetaData": false,

          "removeContentOnCompletion": false,

          "removeOnlyFilteredOnCompletion": false,

          "removeAttachmentsOnCompletion": false,

          "initialState": "STARTED",

          "storeAttachments": true,

          "metaDataColumns": {

            "metaDataColumn": [

              {

                "name": "SOURCE",

                "type": "STRING",

                "mappingName": "mirth_source"

              },

              {

                "name": "TYPE",

                "type": "STRING",

                "mappingName": "mirth_type"

              },

              {

                "name": "PAT_ID",

                "type": "STRING",

                "mappingName": "patientId"

              },

              {

                "name": "VISIT_ID",

                "type": "STRING",

                "mappingName": "visitId"

              }

            ]

          },

          "attachmentProperties": {

            "@version": "4.5.1",

            "type": "None",

            "properties": null

          },

          "resourceIds": {

            "@class": "linked-hash-map",

            "entry": {

              "string": [

                "Default Resource",

                "[Default Resource]"

              ]

            }

          }

        },

        "exportData": {

          "metadata": {

            "enabled": true,

            "lastModified": {

              "time": 1744632966340,

              "timezone": "Europe/Berlin"

            },

            "pruningSettings": {

              "pruneMetaDataDays": 31,

              "archiveEnabled": true,

              "pruneErroredMessages": false

            },

            "userId": 4

          },

          "dependentIds": null,

          "dependencyIds": null,

          "channelTags": null

        }

      },

      {

        "@version": "4.5.1",

        "id": "588b1e6c-3861-4a31-9fee-19ebad57a9d5",

        "nextMetaDataId": 3,

        "name": "C_GenericZ",

        "description": null,

        "revision": 3,

        "sourceConnector": {

          "@version": "4.5.1",

          "metaDataId": 0,

          "name": "sourceConnector",

          "properties": {

            "@class": "com.mirth.connect.connectors.tcp.TcpReceiverProperties",

            "@version": "4.5.1",

            "pluginProperties": null,

            "listenerConnectorProperties": {

              "@version": "4.5.1",

              "host": "0.0.0.0",

              "port": 6700

            },

            "sourceConnectorProperties": {

              "@version": "4.5.1",

              "responseVariable": "Auto-generate (After source transformer)",

              "respondAfterProcessing": true,

              "processBatch": false,

              "firstResponse": true,

              "processingThreads": 1,

              "resourceIds": {

                "@class": "linked-hash-map",

                "entry": {

                  "string": [

                    "Default Resource",

                    "[Default Resource]"

                  ]

                }

              },

              "queueBufferSize": 1000

            },

            "transmissionModeProperties": {

              "@class": "com.mirth.connect.plugins.mllpmode.MLLPModeProperties",

              "pluginPointName": "MLLP",

              "startOfMessageBytes": "0B",

              "endOfMessageBytes": "1C0D",

              "useMLLPv2": false,

              "ackBytes": "06",

              "nackBytes": 15,

              "maxRetries": 2

            },

            "serverMode": true,

            "remoteAddress": null,

            "remotePort": null,

            "overrideLocalBinding": false,

            "reconnectInterval": 5000,

            "receiveTimeout": 0,

            "bufferSize": 65536,

            "maxConnections": 10,

            "keepConnectionOpen": true,

            "dataTypeBinary": false,

            "charsetEncoding": "DEFAULT_ENCODING",

            "respondOnNewConnection": 0,

            "responseAddress": null,

            "responsePort": null

          },

          "transformer": {

            "@version": "4.5.1",

            "elements": {

              "com.mirth.connect.plugins.javascriptstep.JavaScriptStep": {

                "@version": "4.5.1",

                "sequenceNumber": 0,

                "enabled": true,

                "script": "getOrderMetadata();"

              }

            },

            "inboundTemplate": {

              "@encoding": "base64"

            },

            "outboundTemplate": {

              "@encoding": "base64"

            },

            "inboundDataType": "HL7V2",

            "outboundDataType": "HL7V2",

            "inboundProperties": {

              "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties",

              "@version": "4.5.1",

              "serializationProperties": {

                "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties",

                "@version": "4.5.1",

                "handleRepetitions": true,

                "handleSubcomponents": true,

                "useStrictParser": false,

                "useStrictValidation": false,

                "stripNamespaces": false,

                "segmentDelimiter": "\\r",

                "convertLineBreaks": true

              },

              "deserializationProperties": {

                "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties",

                "@version": "4.5.1",

                "useStrictParser": false,

                "useStrictValidation": false,

                "segmentDelimiter": "\\r"

              },

              "batchProperties": {

                "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties",

                "@version": "4.5.1",

                "splitType": "MSH_Segment",

                "batchScript": null

              },

              "responseGenerationProperties": {

                "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties",

                "@version": "4.5.1",

                "segmentDelimiter": "\\r",

                "successfulACKCode": "AA",

                "successfulACKMessage": null,

                "errorACKCode": "AE",

                "errorACKMessage": "An Error Occurred Processing Message.",

                "rejectedACKCode": "AR",

                "rejectedACKMessage": "Message Rejected.",

                "msh15ACKAccept": false,

                "dateFormat": "yyyyMMddHHmmss.SSS"

              },

              "responseValidationProperties": {

                "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties",

                "@version": "4.5.1",

                "successfulACKCode": "AA,CA",

                "errorACKCode": "AE,CE",

                "rejectedACKCode": "AR,CR",

                "validateMessageControlId": true,

                "originalMessageControlId": "Destination_Encoded",

                "originalIdMapVariable": null

              }

            },

            "outboundProperties": {

              "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties",

              "@version": "4.5.1",

              "serializationProperties": {

                "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties",

                "@version": "4.5.1",

                "handleRepetitions": true,

                "handleSubcomponents": true,

                "useStrictParser": false,

                "useStrictValidation": false,

                "stripNamespaces": false,

                "segmentDelimiter": "\\r",

                "convertLineBreaks": true

              },

              "deserializationProperties": {

                "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties",

                "@version": "4.5.1",

                "useStrictParser": false,

                "useStrictValidation": false,

                "segmentDelimiter": "\\r"

              },

              "batchProperties": {

                "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties",

                "@version": "4.5.1",

                "splitType": "MSH_Segment",

                "batchScript": null

              },

              "responseGenerationProperties": {

                "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties",

                "@version": "4.5.1",

                "segmentDelimiter": "\\r",

                "successfulACKCode": "AA",

                "successfulACKMessage": null,

                "errorACKCode": "AE",

                "errorACKMessage": "An Error Occurred Processing Message.",

                "rejectedACKCode": "AR",

                "rejectedACKMessage": "Message Rejected.",

                "msh15ACKAccept": false,

                "dateFormat": "yyyyMMddHHmmss.SSS"

              },

              "responseValidationProperties": {

                "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties",

                "@version": "4.5.1",

                "successfulACKCode": "AA,CA",

                "errorACKCode": "AE,CE",

                "rejectedACKCode": "AR,CR",

                "validateMessageControlId": true,

                "originalMessageControlId": "Destination_Encoded",

                "originalIdMapVariable": null

              }

            }

          },

          "filter": {

            "@version": "4.5.1",

            "elements": null

         },

          "transportName": "TCP Listener",

          "mode": "SOURCE",

          "enabled": true,

          "waitForPrevious": true

        },

        "destinationConnectors": {

          "connector": [

            {

              "@version": "4.5.1",

              "metaDataId": 1,

              "name": "Destination 1",

              "properties": {

                "@class": "com.mirth.connect.connectors.vm.VmDispatcherProperties",

                "@version": "4.5.1",

                "pluginProperties": null,

                "destinationConnectorProperties": {

                  "@version": "4.5.1",

                  "queueEnabled": false,

                  "sendFirst": false,

                  "retryIntervalMillis": 10000,

                  "regenerateTemplate": false,

                  "retryCount": 0,

                  "rotate": false,

                  "includeFilterTransformer": false,

                  "threadCount": 1,

                  "threadAssignmentVariable": null,

                  "validateResponse": false,

                  "resourceIds": {

                    "@class": "linked-hash-map",

                    "entry": {

                      "string": [

                        "Default Resource",

                        "[Default Resource]"

                      ]

                    }

                  },

                  "queueBufferSize": 1000,

                  "reattachAttachments": true

                },

                "channelId": "none",

                "channelTemplate": "${message.encodedData}",

                "mapVariables": null

              },

              "transformer": {

                "@version": "4.5.1",

                "elements": null,

                "inboundDataType": "HL7V2",

                "outboundDataType": "HL7V2",

                "inboundProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties",

                  "@version": "4.5.1",

                  "serializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties",

                    "@version": "4.5.1",

                    "handleRepetitions": true,

                    "handleSubcomponents": true,

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "stripNamespaces": false,

                    "segmentDelimiter": "\\r",

                    "convertLineBreaks": true

                  },

                  "deserializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties",

                    "@version": "4.5.1",

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "segmentDelimiter": "\\r"

                  },

                  "batchProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties",

                    "@version": "4.5.1",

                    "splitType": "MSH_Segment",

                    "batchScript": null

                  },

                  "responseGenerationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties",

                    "@version": "4.5.1",

                    "segmentDelimiter": "\\r",

                    "successfulACKCode": "AA",

                    "successfulACKMessage": null,

                    "errorACKCode": "AE",

                    "errorACKMessage": "An Error Occurred Processing Message.",

                    "rejectedACKCode": "AR",

                    "rejectedACKMessage": "Message Rejected.",

                    "msh15ACKAccept": false,

                    "dateFormat": "yyyyMMddHHmmss.SSS"

                  },

                  "responseValidationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties",

                    "@version": "4.5.1",

                    "successfulACKCode": "AA,CA",

                    "errorACKCode": "AE,CE",

                    "rejectedACKCode": "AR,CR",

                    "validateMessageControlId": true,

                    "originalMessageControlId": "Destination_Encoded",

                    "originalIdMapVariable": null

                  }

                },

                "outboundProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties",

                  "@version": "4.5.1",

                  "serializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties",

                    "@version": "4.5.1",

                    "handleRepetitions": true,

                    "handleSubcomponents": true,

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "stripNamespaces": false,

                    "segmentDelimiter": "\\r",

                    "convertLineBreaks": true

                  },

                  "deserializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties",

                    "@version": "4.5.1",

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "segmentDelimiter": "\\r"

                  },

                  "batchProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties",

                    "@version": "4.5.1",

                    "splitType": "MSH_Segment",

                    "batchScript": null

                  },

                  "responseGenerationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties",

                    "@version": "4.5.1",

                    "segmentDelimiter": "\\r",

                    "successfulACKCode": "AA",

                    "successfulACKMessage": null,

                    "errorACKCode": "AE",

                    "errorACKMessage": "An Error Occurred Processing Message.",

                    "rejectedACKCode": "AR",

                    "rejectedACKMessage": "Message Rejected.",

                    "msh15ACKAccept": false,

                    "dateFormat": "yyyyMMddHHmmss.SSS"

                  },

                  "responseValidationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties",

                    "@version": "4.5.1",

                    "successfulACKCode": "AA,CA",

                    "errorACKCode": "AE,CE",

                    "rejectedACKCode": "AR,CR",

                    "validateMessageControlId": true,

                    "originalMessageControlId": "Destination_Encoded",

                    "originalIdMapVariable": null

                  }

                }

              },

              "responseTransformer": {

                "@version": "4.5.1",

                "elements": null,

                "inboundDataType": "HL7V2",

                "outboundDataType": "HL7V2",

                "inboundProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties",

                  "@version": "4.5.1",

                  "serializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties",

                    "@version": "4.5.1",

                    "handleRepetitions": true,

                    "handleSubcomponents": true,

                   "useStrictParser": false,

                    "useStrictValidation": false,

                    "stripNamespaces": false,

                    "segmentDelimiter": "\\r",

                    "convertLineBreaks": true

                  },

                 "deserializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties",

                    "@version": "4.5.1",

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "segmentDelimiter": "\\r"

                  },

                  "batchProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties",

                    "@version": "4.5.1",

                    "splitType": "MSH_Segment",

                    "batchScript": null

                  },

                  "responseGenerationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties",

                    "@version": "4.5.1",

                    "segmentDelimiter": "\\r",

                    "successfulACKCode": "AA",

                    "successfulACKMessage": null,

                    "errorACKCode": "AE",

                    "errorACKMessage": "An Error Occurred Processing Message.",

                    "rejectedACKCode": "AR",

                    "rejectedACKMessage": "Message Rejected.",

                    "msh15ACKAccept": false,

                    "dateFormat": "yyyyMMddHHmmss.SSS"

                  },

                  "responseValidationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties",

                    "@version": "4.5.1",

                    "successfulACKCode": "AA,CA",

                    "errorACKCode": "AE,CE",

                    "rejectedACKCode": "AR,CR",

                    "validateMessageControlId": true,

                    "originalMessageControlId": "Destination_Encoded",

                    "originalIdMapVariable": null

                  }

                },

                "outboundProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties",

                  "@version": "4.5.1",

                  "serializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties",

                    "@version": "4.5.1",

                    "handleRepetitions": true,

                    "handleSubcomponents": true,

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "stripNamespaces": false,

                    "segmentDelimiter": "\\r",

                    "convertLineBreaks": true

                  },

                  "deserializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties",

                    "@version": "4.5.1",

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "segmentDelimiter": "\\r"

                  },

                  "batchProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties",

                    "@version": "4.5.1",

                    "splitType": "MSH_Segment",

                    "batchScript": null

                  },

                  "responseGenerationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties",

                    "@version": "4.5.1",

                    "segmentDelimiter": "\\r",

                    "successfulACKCode": "AA",

                    "successfulACKMessage": null,

                    "errorACKCode": "AE",

                    "errorACKMessage": "An Error Occurred Processing Message.",

                    "rejectedACKCode": "AR",

                    "rejectedACKMessage": "Message Rejected.",

                    "msh15ACKAccept": false,

                    "dateFormat": "yyyyMMddHHmmss.SSS"

                  },

                  "responseValidationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties",

                    "@version": "4.5.1",

                    "successfulACKCode": "AA,CA",

                    "errorACKCode": "AE,CE",

                    "rejectedACKCode": "AR,CR",

                    "validateMessageControlId": true,

                    "originalMessageControlId": "Destination_Encoded",

                    "originalIdMapVariable": null

                  }

                }

              },

              "filter": {

                "@version": "4.5.1",

                "elements": null

              },

              "transportName": "Channel Writer",

              "mode": "DESTINATION",

              "enabled": true,

              "waitForPrevious": true

            },

            {

              "@version": "4.5.1",

              "metaDataId": 2,

              "name": "KISZ",

              "properties": {

                "@class": "com.mirth.connect.connectors.tcp.TcpDispatcherProperties",

                "@version": "4.5.1",

                "pluginProperties": null,

                "destinationConnectorProperties": {

                  "@version": "4.5.1",

                  "queueEnabled": true,

                  "sendFirst": false,

                  "retryIntervalMillis": 10000,

                 "regenerateTemplate": false,

                  "retryCount": 0,

                  "rotate": false,

                  "includeFilterTransformer": false,

                  "threadCount": 1,

                  "threadAssignmentVariable": null,

                  "validateResponse": true,

                  "resourceIds": {

                    "@class": "linked-hash-map",

                    "entry": {

                      "string": [

                        "Default Resource",

                        "[Default Resource]"

                      ]

                    }

                  },

                  "queueBufferSize": 1000,

                  "reattachAttachments": true

                },

                "transmissionModeProperties": {

                  "@class": "com.mirth.connect.plugins.mllpmode.MLLPModeProperties",

                  "pluginPointName": "MLLP",

                  "startOfMessageBytes": "0B",

                  "endOfMessageBytes": "1C0D",

                  "useMLLPv2": false,

                  "ackBytes": "06",

                  "nackBytes": 15,

                  "maxRetries": 2

                },

                "serverMode": false,

                "remoteAddress": "172.19.3.10",

                "remotePort": 5581,

                "overrideLocalBinding": false,

                "localAddress": "0.0.0.0",

                "localPort": 0,

                "sendTimeout": 5000,

                "bufferSize": 65536,

                "maxConnections": 10,

                "keepConnectionOpen": false,

                "checkRemoteHost": false,

                "responseTimeout": 5000,

                "ignoreResponse": false,

                "queueOnResponseTimeout": true,

                "dataTypeBinary": false,

                "charsetEncoding": "DEFAULT_ENCODING",

                "template": "${message.encodedData}"

              },

              "transformer": {

                "@version": "4.5.1",

                "elements": null,

                "inboundDataType": "HL7V2",

                "outboundDataType": "HL7V2",

                "inboundProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties",

                  "@version": "4.5.1",

                  "serializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties",

                    "@version": "4.5.1",

                    "handleRepetitions": true,

                    "handleSubcomponents": true,

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "stripNamespaces": false,

                    "segmentDelimiter": "\\r",

                    "convertLineBreaks": true

                  },

                  "deserializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties",

                   "@version": "4.5.1",

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "segmentDelimiter": "\\r"

                  },

                  "batchProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties",

                    "@version": "4.5.1",

                    "splitType": "MSH_Segment",

                    "batchScript": null

                  },

                  "responseGenerationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties",

                    "@version": "4.5.1",

                    "segmentDelimiter": "\\r",

                    "successfulACKCode": "AA",

                    "successfulACKMessage": null,

                    "errorACKCode": "AE",

                    "errorACKMessage": "An Error Occurred Processing Message.",

                    "rejectedACKCode": "AR",

                    "rejectedACKMessage": "Message Rejected.",

                    "msh15ACKAccept": false,

                    "dateFormat": "yyyyMMddHHmmss.SSS"

                  },

                  "responseValidationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties",

                    "@version": "4.5.1",

                    "successfulACKCode": "AA,CA",

                    "errorACKCode": "AE,CE",

                   "rejectedACKCode": "AR,CR",

                    "validateMessageControlId": true,

                    "originalMessageControlId": "Destination_Encoded",

                    "originalIdMapVariable": null

                  }

                },

                "outboundProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties",

                  "@version": "4.5.1",

                  "serializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties",

                    "@version": "4.5.1",

                    "handleRepetitions": true,

                    "handleSubcomponents": true,

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "stripNamespaces": false,

                    "segmentDelimiter": "\\r",

                    "convertLineBreaks": true

                  },

                  "deserializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties",

                    "@version": "4.5.1",

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "segmentDelimiter": "\\r"

                  },

                  "batchProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties",

                    "@version": "4.5.1",

                    "splitType": "MSH_Segment",

                    "batchScript": null

                  },

                  "responseGenerationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties",

                    "@version": "4.5.1",

                    "segmentDelimiter": "\\r",

                    "successfulACKCode": "AA",

                    "successfulACKMessage": null,

                    "errorACKCode": "AE",

                    "errorACKMessage": "An Error Occurred Processing Message.",

                    "rejectedACKCode": "AR",

                    "rejectedACKMessage": "Message Rejected.",

                    "msh15ACKAccept": false,

                    "dateFormat": "yyyyMMddHHmmss.SSS"

                  },

                  "responseValidationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties",

                    "@version": "4.5.1",

                    "successfulACKCode": "AA,CA",

                    "errorACKCode": "AE,CE",

                    "rejectedACKCode": "AR,CR",

                    "validateMessageControlId": true,

                    "originalMessageControlId": "Destination_Encoded",

                    "originalIdMapVariable": null

                  }

                }

              },

              "responseTransformer": {

                "@version": "4.5.1",

                "elements": null,

                "inboundDataType": "HL7V2",

                "outboundDataType": "HL7V2",

                "inboundProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties",

                  "@version": "4.5.1",

                  "serializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties",

                    "@version": "4.5.1",

                    "handleRepetitions": true,

                    "handleSubcomponents": true,

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "stripNamespaces": false,

                    "segmentDelimiter": "\\r",

                    "convertLineBreaks": true

                  },

                  "deserializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties",

                    "@version": "4.5.1",

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "segmentDelimiter": "\\r"

                  },

                  "batchProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties",

                    "@version": "4.5.1",

                    "splitType": "MSH_Segment",

                    "batchScript": null

                  },

                  "responseGenerationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties",

                    "@version": "4.5.1",

                    "segmentDelimiter": "\\r",

                    "successfulACKCode": "AA",

                    "successfulACKMessage": null,

                    "errorACKCode": "AE",

                    "errorACKMessage": "An Error Occurred Processing Message.",

                    "rejectedACKCode": "AR",

                    "rejectedACKMessage": "Message Rejected.",

                    "msh15ACKAccept": false,

                    "dateFormat": "yyyyMMddHHmmss.SSS"

                  },

                  "responseValidationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties",

                    "@version": "4.5.1",

                    "successfulACKCode": "AA,CA",

                    "errorACKCode": "AE,CE",

                    "rejectedACKCode": "AR,CR",

                    "validateMessageControlId": true,

                    "originalMessageControlId": "Destination_Encoded",

                    "originalIdMapVariable": null

                  }

                },

                "outboundProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties",

                  "@version": "4.5.1",

                  "serializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties",

                    "@version": "4.5.1",

                    "handleRepetitions": true,

                    "handleSubcomponents": true,

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "stripNamespaces": false,

                    "segmentDelimiter": "\\r",

                    "convertLineBreaks": true

                  },

                  "deserializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties",

                    "@version": "4.5.1",

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "segmentDelimiter": "\\r"

                  },

                  "batchProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties",

                    "@version": "4.5.1",

                    "splitType": "MSH_Segment",

                    "batchScript": null

                  },

                  "responseGenerationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties",

                    "@version": "4.5.1",

                    "segmentDelimiter": "\\r",

                    "successfulACKCode": "AA",

                    "successfulACKMessage": null,

                    "errorACKCode": "AE",

                    "errorACKMessage": "An Error Occurred Processing Message.",

                    "rejectedACKCode": "AR",

                    "rejectedACKMessage": "Message Rejected.",

                    "msh15ACKAccept": false,

                    "dateFormat": "yyyyMMddHHmmss.SSS"

                  },

                  "responseValidationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties",

                    "@version": "4.5.1",

                    "successfulACKCode": "AA,CA",

                    "errorACKCode": "AE,CE",

                    "rejectedACKCode": "AR,CR",

                    "validateMessageControlId": true,

                    "originalMessageControlId": "Destination_Encoded",

                    "originalIdMapVariable": null

                  }

                }

              },

              "filter": {

                "@version": "4.5.1",

                "elements": null

              },

              "transportName": "TCP Sender",

              "mode": "DESTINATION",

              "enabled": true,

              "waitForPrevious": false

            }

          ]

        },

        "preprocessingScript": "// Modify the message variable below to pre process data\nreturn message;",

        "postprocessingScript": "// This script executes once after a message has been processed\n// Responses returned from here will be stored as \"Postprocessor\" in the response map\nreturn;",

        "deployScript": "// This script executes once when the channel is deployed\n// You only have access to the globalMap and globalChannelMap here to persist data\nreturn;",

        "undeployScript": "// This script executes once when the channel is undeployed\n// You only have access to the globalMap and globalChannelMap here to persist data\nreturn;",

        "properties": {

          "@version": "4.5.1",

          "clearGlobalChannelMap": true,

          "messageStorageMode": "DEVELOPMENT",

          "encryptData": false,

          "encryptAttachments": false,

          "encryptCustomMetaData": false,

          "removeContentOnCompletion": false,

          "removeOnlyFilteredOnCompletion": false,

          "removeAttachmentsOnCompletion": false,

          "initialState": "STARTED",

          "storeAttachments": true,

          "metaDataColumns": {

            "metaDataColumn": [

              {

                "name": "SOURCE",

                "type": "STRING",

                "mappingName": "mirth_source"

              },

              {

                "name": "TYPE",

                "type": "STRING",

                "mappingName": "mirth_type"

              },

              {

                "name": "PAT_ID",

                "type": "STRING",

                "mappingName": "patientId"

              },

              {

                "name": "VISIT_ID",

                "type": "STRING",

                "mappingName": "visitID"

              }

            ]

          },

          "attachmentProperties": {

            "@version": "4.5.1",

            "type": "None",

            "properties": null

          },

          "resourceIds": {

            "@class": "linked-hash-map",

            "entry": {

              "string": [

                "Default Resource",

                "[Default Resource]"

              ]

            }

          }

        },

        "exportData": {

          "metadata": {

            "enabled": true,

            "lastModified": {

              "time": 1744628630778,

              "timezone": "Europe/Berlin"

            },

            "pruningSettings": {

              "archiveEnabled": true,

              "pruneErroredMessages": false

            },

            "userId": 4

          },

          "dependentIds": null,

          "dependencyIds": null,

          "channelTags": null

        }

      },

      {

        "@version": "4.5.1",

        "id": "4f1bb85b-0204-47a7-92d8-d9a9761914e6",

        "nextMetaDataId": 23,

        "name": "C_KISAdt",

        "description": "Kanal für Patientendaten von KIS//S\n\n2024-11-26 [mwe]:\tDestination für das Dräger PDMS ICM erstellt.",

        "revision": 73,

       "sourceConnector": {

          "@version": "4.5.1",

          "metaDataId": 0,

          "name": "sourceConnector",

          "properties": {

            "@class": "com.mirth.connect.connectors.tcp.TcpReceiverProperties",

            "@version": "4.5.1",

            "pluginProperties": null,

            "listenerConnectorProperties": {

              "@version": "4.5.1",

              "host": "0.0.0.0",

              "port": 6000

            },

            "sourceConnectorProperties": {

              "@version": "4.5.1",

              "responseVariable": "Auto-generate (After source transformer)",

              "respondAfterProcessing": true,

              "processBatch": false,

              "firstResponse": true,

              "processingThreads": 1,

              "resourceIds": {

                "@class": "linked-hash-map",

                "entry": {

                  "string": [

                    "Default Resource",

                    "[Default Resource]"

                  ]

                }

              },

              "queueBufferSize": 1000

            },

            "transmissionModeProperties": {

              "@class": "com.mirth.connect.plugins.mllpmode.MLLPModeProperties",

              "pluginPointName": "MLLP",

              "startOfMessageBytes": "0B",

              "endOfMessageBytes": "1C0D",

              "useMLLPv2": false,

              "ackBytes": "06",

              "nackBytes": 15,

              "maxRetries": 2

            },

            "serverMode": true,

            "remoteAddress": null,

            "remotePort": null,

            "overrideLocalBinding": false,

            "reconnectInterval": 5000,

            "receiveTimeout": 0,

            "bufferSize": 65536,

            "maxConnections": 10,

            "keepConnectionOpen": true,

            "dataTypeBinary": false,

            "charsetEncoding": "windows-1252",

            "respondOnNewConnection": 0,

            "responseAddress": null,

            "responsePort": null

          },

          "transformer": {

            "@version": "4.5.1",

            "elements": {

              "com.mirth.connect.plugins.javascriptstep.JavaScriptStep": {

                "@version": "4.5.1",

                "name": "Metadata",

                "sequenceNumber": 0,

                "enabled": true,

                "script": "getVisitMetadata();"

              }

            },

            "inboundTemplate": {

              "@encoding": "base64"

            },

            "outboundTemplate": {

              "@encoding": "base64"

            },

            "inboundDataType": "HL7V2",

            "outboundDataType": "HL7V2",

            "inboundProperties": {

              "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties",

              "@version": "4.5.1",

              "serializationProperties": {

                "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties",

                "@version": "4.5.1",

                "handleRepetitions": true,

                "handleSubcomponents": true,

                "useStrictParser": false,

                "useStrictValidation": false,

                "stripNamespaces": false,

                "segmentDelimiter": "\\r",

                "convertLineBreaks": true

              },

              "deserializationProperties": {

                "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties",

                "@version": "4.5.1",

                "useStrictParser": false,

                "useStrictValidation": false,

                "segmentDelimiter": "\\r"

              },

              "batchProperties": {

                "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties",

                "@version": "4.5.1",

                "splitType": "MSH_Segment",

                "batchScript": null

              },

              "responseGenerationProperties": {

                "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties",

                "@version": "4.5.1",

                "segmentDelimiter": "\\r",

                "successfulACKCode": "AA",

                "successfulACKMessage": null,

                "errorACKCode": "AE",

                "errorACKMessage": "An Error Occurred Processing Message.",

                "rejectedACKCode": "AR",

                "rejectedACKMessage": "Message Rejected.",

                "msh15ACKAccept": false,

                "dateFormat": "yyyyMMddHHmmss.SSS"

              },

              "responseValidationProperties": {

                "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties",

                "@version": "4.5.1",

                "successfulACKCode": "AA,CA",

                "errorACKCode": "AE,CE",

                "rejectedACKCode": "AR,CR",

                "validateMessageControlId": true,

                "originalMessageControlId": "Destination_Encoded",

                "originalIdMapVariable": null

              }

            },

            "outboundProperties": {

              "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties",

              "@version": "4.5.1",

              "serializationProperties": {

                "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties",

                "@version": "4.5.1",

                "handleRepetitions": true,

                "handleSubcomponents": true,

                "useStrictParser": false,

                "useStrictValidation": false,

                "stripNamespaces": false,

                "segmentDelimiter": "\\r",

                "convertLineBreaks": true

              },

              "deserializationProperties": {

                "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties",

                "@version": "4.5.1",

                "useStrictParser": false,

                "useStrictValidation": false,

                "segmentDelimiter": "\\r"

              },

              "batchProperties": {

                "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties",

                "@version": "4.5.1",

                "splitType": "MSH_Segment",

                "batchScript": null

              },

              "responseGenerationProperties": {

                "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties",

                "@version": "4.5.1",

                "segmentDelimiter": "\\r",

                "successfulACKCode": "AA",

                "successfulACKMessage": null,

                "errorACKCode": "AE",

                "errorACKMessage": "An Error Occurred Processing Message.",

                "rejectedACKCode": "AR",

                "rejectedACKMessage": "Message Rejected.",

                "msh15ACKAccept": false,

                "dateFormat": "yyyyMMddHHmmss.SSS"

              },

              "responseValidationProperties": {

                "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties",

                "@version": "4.5.1",

                "successfulACKCode": "AA,CA",

                "errorACKCode": "AE,CE",

                "rejectedACKCode": "AR,CR",

                "validateMessageControlId": true,

                "originalMessageControlId": "Destination_Encoded",

                "originalIdMapVariable": null

              }

            }

          },

          "filter": {

            "@version": "4.5.1",

            "elements": {

              "com.mirth.connect.plugins.rulebuilder.RuleBuilderRule": {

                "@version": "4.5.1",

                "name": "Accept message if \"msg['PV1']['PV1.51']['PV1.51.1'].toString()\" does not equal 'H'",

                "sequenceNumber": 0,

                "enabled": true,

                "field": "msg['PV1']['PV1.51']['PV1.51.1'].toString()",

                "condition": "NOT_EQUAL",

                "values": {

                  "string": "'H'"

                }

              }

            }

          },

          "transportName": "TCP Listener",

          "mode": "SOURCE",

          "enabled": true,

          "waitForPrevious": true

        },

        "destinationConnectors": {

          "connector": [

            {

              "@version": "4.5.1",

              "metaDataId": 2,

              "name": "PDMS ICM",

              "properties": {

                "@class": "com.mirth.connect.connectors.tcp.TcpDispatcherProperties",

                "@version": "4.5.1",

                "pluginProperties": null,

                "destinationConnectorProperties": {

                  "@version": "4.5.1",

                  "queueEnabled": true,

                  "sendFirst": true,

                  "retryIntervalMillis": 10000,

                  "regenerateTemplate": true,

                  "retryCount": 0,

                  "rotate": false,

                  "includeFilterTransformer": false,

                  "threadCount": 1,

                  "threadAssignmentVariable": null,

                  "validateResponse": true,

                  "resourceIds": {

                    "@class": "linked-hash-map",

                    "entry": {

                      "string": [

                        "Default Resource",

                        "[Default Resource]"

                      ]

                    }

                  },

                  "queueBufferSize": 1000,

                  "reattachAttachments": true

                },

                "transmissionModeProperties": {

                  "@class": "com.mirth.connect.plugins.mllpmode.MLLPModeProperties",

                  "pluginPointName": "MLLP",

                  "startOfMessageBytes": "0B",

                  "endOfMessageBytes": "1C0D",

                  "useMLLPv2": false,

                  "ackBytes": "06",

                  "nackBytes": 15,

                  "maxRetries": 2

                },

                "serverMode": false,

                "remoteAddress": "172.19.133.5",

                "remotePort": 2375,

                "overrideLocalBinding": false,

                "localAddress": "0.0.0.0",

                "localPort": 0,

                "sendTimeout": 5000,

                "bufferSize": 65536,

                "maxConnections": 10,

                "keepConnectionOpen": true,

                "checkRemoteHost": true,

                "responseTimeout": 5000,

                "ignoreResponse": false,

                "queueOnResponseTimeout": true,

                "dataTypeBinary": false,

                "charsetEncoding": "ISO-8859-15",

                "template": "${message.encodedData}"

              },

              "transformer": {

                "@version": "4.5.1",

                "elements": {

                  "com.mirth.connect.plugins.javascriptstep.JavaScriptStep": [

                    {

                      "@version": "4.5.1",

                      "name": "prepare tmp",

                      "sequenceNumber": 0,

                      "enabled": true,

                      "script": "tmp = msg.copy();"

                    },

                    {

                      "@version": "4.5.1",

                      "name": "delete segments",

                      "sequenceNumber": 1,

                      "enabled": true,

                      "script": "delete tmp['GT1'];\ndelete tmp['ZBE'];\ndelete tmp['OBX'];"

                    },

                    {

                      "@version": "4.5.1",

                      "name": "Map A34  -> A40",

                      "sequenceNumber": 2,

                      "enabled": false,

                      "script": "//26.11.2024 MWE\n//Umwandlung der A34 in eine A40\n\nif( msg['MSH']['MSH.9']['MSH.9.2'].toString() == 'A34' &&\n    msg['PV1']['PV1.19']['PV1.19.1'].toString().length>0)\n   {\n   \ttmp['MSH']['MSH.9']['MSH.9.2'] = 'A40';\n   \ttmp['EVN']['EVN.1']['EVN.1.1'] = 'A40';\n   \ttmp['MRG']['MRG.5']['MRG.5.1'] = msg['PV1']['PV1.19']['PV1.19.1'].toString();\n   }"

                    },

                    {

                      "@version": "4.5.1",

                      "name": "parse or delete AL1 segments",

                      "sequenceNumber": 3,

                      "enabled": true,

                      "script": "for (var i = 0; i < getArrayOrXmlLength(tmp['AL1']); i++) \n{\n\t// Wenn das BIS-Datum nicht dem 31.12.2099 entspricht, lösche das Segment\n\tif(tmp['AL1'][i]['AL1.6']['AL1.6.2'].toString() != '20991231')\n\t{\n\t\tdelete tmp['AL1'][i];\t// lösche das aktuelle AL1 Sgement\n\t\ti--;\t\t\t\t\t// muss gemacht werden, um die Liste zu korrigieren (aktuelles Segments wurde gelöscht, das nächste Segment bekomme nun den Index des aktuellen)\n\t\tcontinue; \t\t\t// Springe zum nächsten Datensatz\n\t}\n\t\n    // Setzen des Allergie Types\n    tmp['AL1'][i]['AL1.2']['AL1.2.1'] = 'MA'\n    tmp['AL1'][i]['AL1.2']['AL1.2.2'] = tmp['AL1'][i]['AL1.3']['AL1.3.2'].toString()\n\n    // Setzen der Allergie \n    tmp['AL1'][i]['AL1.3']['AL1.3.2'] = tmp['AL1'][i]['AL1.3']['AL1.3.9'].toString()\n\n    // Löschen der nicht benötigen Allergie Segmente in AL1.3\n    tmp['AL1'][i]['AL1.3']['AL1.3.3'] = ''\n    tmp['AL1'][i]['AL1.3']['AL1.3.4'] = ''\n    tmp['AL1'][i]['AL1.3']['AL1.3.5'] = ''\n    tmp['AL1'][i]['AL1.3']['AL1.3.6'] = ''\n    tmp['AL1'][i]['AL1.3']['AL1.3.7'] = ''\n    tmp['AL1'][i]['AL1.3']['AL1.3.8'] = ''\n    tmp['AL1'][i]['AL1.3']['AL1.3.9'] = ''\n\n\n    // Setzen der Allergie Schwere\n    tmp['AL1'][i]['AL1.4']['AL1.4.1'] = 'U'\n\n    //Setzen der Allergie Reaktion\n    tmp['AL1'][i]['AL1.5']['AL1.5.1'] = 'Unbekannt'\n\n}"

                    },

                    {

                      "@version": "4.5.1",

                      "name": "adjust MSH.3",

                      "sequenceNumber": 4,

                      "enabled": true,

                      "script": "if( msg['MSH']['MSH.9']['MSH.9.2'].toString() == 'A08')\n   {\n   \ttmp['MSH']['MSH.3']['MSH.3.1'] = 'DPS_Allergy';\n   }"

                    },

                    {

                      "@version": "4.5.1",

                      "name": "adjust sex if not w or m",

                      "sequenceNumber": 5,

                      "enabled": true,

                      "script": "//Adjust Sex to X if not W or M\n\nif (msg['PID']['PID.8']['PID.8.1'].toString() != 'W' &&\n    msg['PID']['PID.8']['PID.8.1'].toString() != 'M')\n{\n   tmp['PID']['PID.8']['PID.8.1'] = 'X';\n}"

                    }

                  ]

                },

                "inboundTemplate": {

                  "@encoding": "base64",

                  "$": "TVNIfF5+XCZ8RFBTfHxNSVJUSHx8MjAyNTAxMTAxMjUwNTN8fEFEVF5BMDh8MzczNzA2MTh8UHwyLjJ8fHxBTHxORQ1FVk58QTA4fDIwMjUwMTEwMTI1MDUzDVBJRHx8MzgwNzYwMnwzODA3NjAyfDQ0MDc2MjUwfFNjaHVsdW5nMDleUFBNLVNvcGhpZXx8MjAwMTA3MDIwMDAwMDB8V3x8fEFsZnJlZHN0cmHDn2UgOV5eSGFtYnVyZ15eMjIwODdeRHwwMDI0MDc0MTZ8fHxkZXV0c2NofHx8fHx8fHx8Tnx8RA1QVjF8fFN8T1BJTlReV0FSVEVCRVJFSUNIXl5VUk98fDQ0MDc2MjUwfHx8fHx8fHx8fHx8fE1LfDQ0MDc2MjUwfHxLfHx8fHx8fHx8fHx8fHx8fHx8OTQzNjExfHx8fHwyMDI0MDgwODA4MzAwMHx8fHx8MHw0NDA3NjI1MA1QVjJ8fHx8fHx8fHwyMDI0MDgxNTA4MzAwMA1ERzF8MXxJQ0QxMF8yMDI0fEUxNC45MF5OaWNodCBuw6RoZXIgYmV6ZWljaG5ldGVyIERpYWJldGVzIG1lbGxpdHVzIG9obmUgS29tcGxpa2F0aW9uZW4sIG5pY2h0IGFscyBlbnRnbGVpc3QgYmV6ZWljaG5ldF5JQ0QxMF8yMDI0XkUxNC45MDBeTmljaHQgbsOkaGVyIGJlemVpY2huZXRlciBEaWFiZXRlcyBtZWxsaXR1cyBvaG5lIEtvbXBsaWthdGlvbmVuLCBuaWNodCBhbHMgZW50Z2xlaXN0IGJlemVpY2huZXReSTEwZXh0fE5pY2h0IG7DpGhlciBiZXplaWNobmV0ZXIgRGlhYmV0ZXMgbWVsbGl0dXMgb2huZSBLb21wbGlrYXRpb25lbiwgbmljaHQgYWxzIGVudGdsZWlzdCBiZXplaWNobmV0fDIwMjQwODA4MDgzMDAwfEJFSA1ERzF8MnxJQ0QxMF8yMDI0fEkyMS4wXkFrdXRlciB0cmFuc211cmFsZXIgTXlva2FyZGluZmFya3QgZGVyIFZvcmRlcndhbmReSUNEMTBfMjAyNF5JMjEuMDBeQWt1dGVyIHRyYW5zbXVyYWxlciBNeW9rYXJkaW5mYXJrdCBkZXIgVm9yZGVyd2FuZF5JMTBleHR8QWt1dGVyIHRyYW5zbXVyYWxlciBNeW9rYXJkaW5mYXJrdCBkZXIgVm9yZGVyd2FuZHwyMDI0MDgwODA4MzAwMHxBVUYN"

                },

                "outboundTemplate": {

                  "@encoding": "base64",

                  "$": "TVNIfF5+XCZ8RFBTfHxNSVJUSHx8MjAyNDAyMjAxNDI4NTR8fEFEVF5BMDh8MzUzOTIxMjh8UHwyLjJ8fHxBTHxORQpFVk58QTA4fDIwMjQwMjIwMTQyODUzfDIwMjQwMjIyMDcwMDAwClBJRHx8MzM0NjMxMHwzMzQ2MzEwfDQ0MDExMTc4fFJlaXNzZmVsZGVyLUdvdHRzY2hhbGteVXRlfEdvdHRzY2hhbGt8MTk0MDA5MjkwMDAwMDB8V3x8fFRhbm5lbndlZyA2NF5eSGFtYnVyZ15eMjI0MTVeRHwwMDI0MTM0MzJ8MDQwLSA1MzEgNzUgMDZ8fGRldXRzY2h8VkgufE9ITnx8fHx8fEthc2VuZG9yZnxOfHxECk5LMXwxfFJlaXNzZmVsZGVyXk1hbmZyZWR8RUhFTUFOTnxUYW5uZW53ZWcgNjReXkhhbWJ1cmdeXjIyNDE1XkR8MDQwLSA1MzEgNzUgMDYKUFYxfHxTfEhOT15eXkhOT3xFfDQ0MDExMTc4fHx8VE9FUEZORVIsTV5Uw7ZwZm5lcl5NYXJncml0Xl5eRHIuIG1lZC5eRF4yMDM1NF5IYW1idXJnXkp1bmdmZXJuc3RpZWcgN15GUl4zNDM1NDN8fHx8fHx8fHx8U3w0NDAxMTE3OHx8S3x8fHx8fHx8fHx8fHx8fHx8fDk1NDAxMHx8fHx8MjAyNDAyMjIwNzAwMDB8fHx8fDF8NDQwMTExNzgKUFYyfHx8MDIwMQpPQlh8MXxDV0V8Q0FWRV5eSEw3LURFVV5DSEVDS15Lb250cm9sbGUgYWRtaW5pc3RyYXRpdmUgRGF0ZW5eRFBTLVgxMTE2QU1BfHxGQUxMREFURU5eUGVycy4tdS5WZXJzLsO8YmVycHLDvGZ0IHVuZCBvawpPQlh8MnxDV0V8Q0FWRV5eSEw3LURFVV5DSEVDS15Lb250cm9sbGUgYWRtaW5pc3RyYXRpdmUgRGF0ZW5eRFBTLVgxMTE2QU1BfHxWRVJUUkFHXmFsbGUgVW50ZXJzY2hyaWZ0ZW4gbGllZ2VuIHZvcgpPQlh8M3xDV0V8Q0FWRV5eSEw3LURFVV5IRUlMTUlUVEVMXkVpbndpbGxpZ3VuZyBIaWxmcy0gdS4gSGVpbG0uXkRQUy1YMTExNkFNQXx8TUstTEVeRW50bC5tYW4uOk1LIHNvbGwgTEUgYXVzd8OkaGxlbgpPQlh8NHxDV0V8Q0FWRV5eSEw3LURFVV5JREVOVF5JZGVudGl0w6R0c25hY2h3ZWlzXkRQUy1YMTExNkFNQXx8SkFeSWRlbnRpdMOkdHNuYWNod2VpcyB2b3JnZWxlZ3QKT0JYfDV8Q1dFfENBVkVeXkhMNy1ERVVeVkVSU15WZXJzaWNoZXJ1bmdzbmFjaHdlaXNeRFBTLVgxMTE2QU1BfHxHS1ZeZ2VzZXR6bC4gS1YtS2FydGUgdm9yZ2VsZWd0CkFMMXwxfHwwMDY1NDhfMV5BbGxlcmdpZSBzdHJ1a3R1cmllcnReSUQtUEhBUk1BXkFMTEVSR0lFXkFsbGVyZ2llIHN0cnVrdHVyaWVydF5TVFJVS0FMTEVSR0leXl5FY2hpbmFjZWF8fHwyMDI0MDEyM14yMDk5MTIzMQpBTDF8Mnx8MDEyNTgwXzFeQWxsZXJnaWUgc3RydWt0dXJpZXJ0XklELVBIQVJNQV5BTExFUkdJRV5BbGxlcmdpZSBzdHJ1a3R1cmllcnReU1RSVUtBTExFUkdJXl5eVGV0cmFjeWNsaW5lfHx8MjAyNDAxMjNeMjA5OTEyMzEKQUwxfDN8fDk4NzExNV8xXkFsbGVyZ2llIHN0cnVrdHVyaWVydF5JRC1QSEFSTUFeQUxMRVJHSUVeQWxsZXJnaWUgc3RydWt0dXJpZXJ0XlNUUlVLQUxMRVJHSV5eXkhlcGFyaW4sIHN5c3RlbWlzY2h8fHwyMDI0MDEyM14yMDk5MTIzMQpBTDF8NHx8QTA2Mjk3XzFeQWxsZXJnaWUgc3RydWt0dXJpZXJ0XklELVBIQVJNQV5BTExFUkdJRV5BbGxlcmdpZSBzdHJ1a3R1cmllcnReU1RSVUtBTExFUkdJXl5eSWJ1cHJvZmVuLCBzeXN0ZW1pc2NofHx8MjAyNDAxMjNeMjA5OTEyMzEKQUwxfDV8fEUwMDIyOENeQWxsZXJnaWUgc3RydWt0dXJpZXJ0XldOQ15BTExFUkdJRV5BbGxlcmdpZSBzdHJ1a3R1cmllcnReU1RSVUtBTExFUkdJXl5eQWNldHlsc2FsaWN5bHPDpHVyZXx8fDIwMjQwMTIzXjIwOTkxMjMxCklOMXwxfFU2MzAyMDU5OTl8MTA1ODMwMDE2fERBSyBHZXN1bmRoZWl0IEZhY2h6ZW50ci4gTm9yZHxFbGxlcm5zdHIuIDQwXl5IYW5ub3Zlcl5eMzAxNzVeRHx8MDUxMSA4OTggNDU2LTExMDd8MXxEQUt8fHx8fDAyMTUwMDA4fE18UmVpc3NmZWxkZXItR290dHNjaGFsa15VdGV8fDE5NDAwOTI5fFRhbm5lbndlZyA2NF5eSGFtYnVyZ15eMjI0MTVeRAo="

                },

                "inboundDataType": "HL7V2",

                "outboundDataType": "HL7V2",

                "inboundProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties",

                  "@version": "4.5.1",

                  "serializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties",

                    "@version": "4.5.1",

                    "handleRepetitions": true,

                    "handleSubcomponents": true,

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "stripNamespaces": false,

                    "segmentDelimiter": "\\r",

                    "convertLineBreaks": true

                  },

                  "deserializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties",

                    "@version": "4.5.1",

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "segmentDelimiter": "\\r"

                  },

                  "batchProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties",

                    "@version": "4.5.1",

                    "splitType": "MSH_Segment",

                    "batchScript": null

                  },

                  "responseGenerationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties",

                    "@version": "4.5.1",

                    "segmentDelimiter": "\\r",

                    "successfulACKCode": "AA",

                    "successfulACKMessage": null,

                    "errorACKCode": "AE",

                    "errorACKMessage": "An Error Occurred Processing Message.",

                    "rejectedACKCode": "AR",

                    "rejectedACKMessage": "Message Rejected.",

                    "msh15ACKAccept": false,

                    "dateFormat": "yyyyMMddHHmmss.SSS"

                  },

                  "responseValidationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties",

                    "@version": "4.5.1",

                   "successfulACKCode": "AA,CA",

                    "errorACKCode": "AE,CE",

                    "rejectedACKCode": "AR,CR",

                    "validateMessageControlId": true,

                    "originalMessageControlId": "Destination_Encoded",

                    "originalIdMapVariable": null

                  }

                },

                "outboundProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties",

                  "@version": "4.5.1",

                  "serializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties",

                    "@version": "4.5.1",

                    "handleRepetitions": true,

                    "handleSubcomponents": true,

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "stripNamespaces": false,

                    "segmentDelimiter": "\\r",

                    "convertLineBreaks": true

                  },

                  "deserializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties",

                    "@version": "4.5.1",

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "segmentDelimiter": "\\r"

                  },

                  "batchProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties",

                    "@version": "4.5.1",

                    "splitType": "MSH_Segment",

                    "batchScript": null

                  },

                  "responseGenerationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties",

                    "@version": "4.5.1",

                    "segmentDelimiter": "\\r",

                    "successfulACKCode": "AA",

                    "successfulACKMessage": null,

                    "errorACKCode": "AE",

                    "errorACKMessage": "An Error Occurred Processing Message.",

                    "rejectedACKCode": "AR",

                    "rejectedACKMessage": "Message Rejected.",

                    "msh15ACKAccept": false,

                    "dateFormat": "yyyyMMddHHmmss.SSS"

                  },

                  "responseValidationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties",

                    "@version": "4.5.1",

                    "successfulACKCode": "AA,CA",

                    "errorACKCode": "AE,CE",

                    "rejectedACKCode": "AR,CR",

                    "validateMessageControlId": true,

                    "originalMessageControlId": "Destination_Encoded",

                    "originalIdMapVariable": null

                  }

                }

              },

              "responseTransformer": {

                "@version": "4.5.1",

                "elements": null,

                "inboundDataType": "HL7V2",

                "outboundDataType": "HL7V2",

                "inboundProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties",

                  "@version": "4.5.1",

                  "serializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties",

                    "@version": "4.5.1",

                    "handleRepetitions": true,

                    "handleSubcomponents": true,

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "stripNamespaces": false,

                    "segmentDelimiter": "\\r",

                    "convertLineBreaks": true

                  },

                  "deserializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties",

                    "@version": "4.5.1",

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "segmentDelimiter": "\\r"

                  },

                  "batchProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties",

                    "@version": "4.5.1",

                    "splitType": "MSH_Segment",

                    "batchScript": null

                  },

                  "responseGenerationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties",

                    "@version": "4.5.1",

                    "segmentDelimiter": "\\r",

                    "successfulACKCode": "AA",

                    "successfulACKMessage": null,

                    "errorACKCode": "AE",

                    "errorACKMessage": "An Error Occurred Processing Message.",

                    "rejectedACKCode": "AR",

                    "rejectedACKMessage": "Message Rejected.",

                    "msh15ACKAccept": false,

                    "dateFormat": "yyyyMMddHHmmss.SSS"

                  },

                  "responseValidationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties",

                    "@version": "4.5.1",

                    "successfulACKCode": "AA,CA",

                    "errorACKCode": "AE,CE",

                    "rejectedACKCode": "AR,CR",

                    "validateMessageControlId": true,

                    "originalMessageControlId": "Destination_Encoded",

                    "originalIdMapVariable": null

                  }

                },

                "outboundProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties",

                  "@version": "4.5.1",

                  "serializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties",

                    "@version": "4.5.1",

                    "handleRepetitions": true,

                    "handleSubcomponents": true,

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "stripNamespaces": false,

                    "segmentDelimiter": "\\r",

                    "convertLineBreaks": true

                  },

                  "deserializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties",

                    "@version": "4.5.1",

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "segmentDelimiter": "\\r"

                  },

                  "batchProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties",

                    "@version": "4.5.1",

                    "splitType": "MSH_Segment",

                    "batchScript": null

                  },

                  "responseGenerationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties",

                    "@version": "4.5.1",

                    "segmentDelimiter": "\\r",

                    "successfulACKCode": "AA",

                    "successfulACKMessage": null,

                    "errorACKCode": "AE",

                    "errorACKMessage": "An Error Occurred Processing Message.",

                    "rejectedACKCode": "AR",

                    "rejectedACKMessage": "Message Rejected.",

                    "msh15ACKAccept": false,

                    "dateFormat": "yyyyMMddHHmmss.SSS"

                  },

                  "responseValidationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties",

                    "@version": "4.5.1",

                    "successfulACKCode": "AA,CA",

                    "errorACKCode": "AE,CE",

                   "rejectedACKCode": "AR,CR",

                    "validateMessageControlId": true,

                    "originalMessageControlId": "Destination_Encoded",

                    "originalIdMapVariable": null

                  }

                }

              },

              "filter": {

                "@version": "4.5.1",

                "elements": null

              },

              "transportName": "TCP Sender",

              "mode": "DESTINATION",

              "enabled": true,

              "waitForPrevious": false

            },

            {

              "@version": "4.5.1",

              "metaDataId": 3,

              "name": "Pathologie DC-Systeme",

              "properties": {

                "@class": "com.mirth.connect.connectors.tcp.TcpDispatcherProperties",

                "@version": "4.5.1",

                "pluginProperties": null,

                "destinationConnectorProperties": {

                  "@version": "4.5.1",

                  "queueEnabled": true,

                  "sendFirst": true,

                  "retryIntervalMillis": 10000,

                  "regenerateTemplate": true,

                  "retryCount": 0,

                  "rotate": false,

                  "includeFilterTransformer": false,

                  "threadCount": 1,

                  "threadAssignmentVariable": null,

                  "validateResponse": true,

                  "resourceIds": {

                    "@class": "linked-hash-map",

                    "entry": {

                      "string": [

                        "Default Resource",

                        "[Default Resource]"

                      ]

                    }

                  },

                  "queueBufferSize": 1000,

                  "reattachAttachments": true

                },

                "transmissionModeProperties": {

                  "@class": "com.mirth.connect.plugins.mllpmode.MLLPModeProperties",

                 "pluginPointName": "MLLP",

                  "startOfMessageBytes": "0B",

                  "endOfMessageBytes": "1C0D",

                  "useMLLPv2": false,

                  "ackBytes": "06",

                  "nackBytes": 15,

                  "maxRetries": 2

                },

                "serverMode": false,

                "remoteAddress": "SRV-DCP-03",

                "remotePort": 22500,

                "overrideLocalBinding": false,

                "localAddress": "0.0.0.0",

                "localPort": 0,

                "sendTimeout": 0,

                "bufferSize": 65536,

                "maxConnections": 10,

                "keepConnectionOpen": true,

                "checkRemoteHost": true,

                "responseTimeout": 5000,

                "ignoreResponse": false,

                "queueOnResponseTimeout": true,

                "dataTypeBinary": false,

                "charsetEncoding": "ISO-8859-15",

                "template": "${message.encodedData}"

              },

              "transformer": {

                "@version": "4.5.1",

                "elements": {

                  "com.mirth.connect.plugins.javascriptstep.JavaScriptStep": [

                    {

                      "@version": "4.5.1",

                      "name": "prepare tmp",

                      "sequenceNumber": 0,

                      "enabled": true,

                      "script": "tmp = msg.copy();"

                    },

                    {

                      "@version": "4.5.1",

                      "name": "delete segments",

                      "sequenceNumber": 1,

                      "enabled": true,

                      "script": "delete tmp['DG1'];\ndelete tmp['PR1'];\ndelete tmp['ZBE'];\ndelete tmp['AL1'];\ndelete tmp['OBX'];"

                    }

                  ]

                },

                "inboundTemplate": {

                  "@encoding": "base64"

                },

                "outboundTemplate": {

                  "@encoding": "base64"

                },

                "inboundDataType": "HL7V2",

                "outboundDataType": "HL7V2",

                "inboundProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties",

                  "@version": "4.5.1",

                  "serializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties",

                    "@version": "4.5.1",

                    "handleRepetitions": true,

                    "handleSubcomponents": true,

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "stripNamespaces": false,

                    "segmentDelimiter": "\\r",

                    "convertLineBreaks": true

                  },

                  "deserializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties",

                    "@version": "4.5.1",

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "segmentDelimiter": "\\r"

                  },

                  "batchProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties",

                    "@version": "4.5.1",

                    "splitType": "MSH_Segment",

                    "batchScript": null

                  },

                  "responseGenerationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties",

                    "@version": "4.5.1",

                    "segmentDelimiter": "\\r",

                    "successfulACKCode": "AA",

                    "successfulACKMessage": null,

                    "errorACKCode": "AE",

                    "errorACKMessage": "An Error Occurred Processing Message.",

                    "rejectedACKCode": "AR",

                    "rejectedACKMessage": "Message Rejected.",

                    "msh15ACKAccept": false,

                   "dateFormat": "yyyyMMddHHmmss.SSS"

                  },

                  "responseValidationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties",

                    "@version": "4.5.1",

                    "successfulACKCode": "AA,CA",

                    "errorACKCode": "AE,CE",

                    "rejectedACKCode": "AR,CR",

                    "validateMessageControlId": true,

                    "originalMessageControlId": "Destination_Encoded",

                    "originalIdMapVariable": null

                  }

                },

                "outboundProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties",

                  "@version": "4.5.1",

                  "serializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties",

                    "@version": "4.5.1",

                    "handleRepetitions": true,

                    "handleSubcomponents": true,

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "stripNamespaces": false,

                    "segmentDelimiter": "\\r",

                    "convertLineBreaks": true

                  },

                  "deserializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties",

                    "@version": "4.5.1",

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "segmentDelimiter": "\\r"

                  },

                  "batchProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties",

                    "@version": "4.5.1",

                    "splitType": "MSH_Segment",

                    "batchScript": null

                  },

                  "responseGenerationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties",

                    "@version": "4.5.1",

                    "segmentDelimiter": "\\r",

                    "successfulACKCode": "AA",

                    "successfulACKMessage": null,

                    "errorACKCode": "AE",

                    "errorACKMessage": "An Error Occurred Processing Message.",

                    "rejectedACKCode": "AR",

                    "rejectedACKMessage": "Message Rejected.",

                    "msh15ACKAccept": false,

                    "dateFormat": "yyyyMMddHHmmss.SSS"

                  },

                  "responseValidationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties",

                    "@version": "4.5.1",

                    "successfulACKCode": "AA,CA",

                    "errorACKCode": "AE,CE",

                    "rejectedACKCode": "AR,CR",

                    "validateMessageControlId": true,

                    "originalMessageControlId": "Destination_Encoded",

                    "originalIdMapVariable": null

                  }

                }

              },

              "responseTransformer": {

                "@version": "4.5.1",

                "elements": null,

                "inboundDataType": "HL7V2",

                "outboundDataType": "HL7V2",

                "inboundProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties",

                  "@version": "4.5.1",

                  "serializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties",

                    "@version": "4.5.1",

                    "handleRepetitions": true,

                    "handleSubcomponents": true,

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "stripNamespaces": false,

                    "segmentDelimiter": "\\r",

                    "convertLineBreaks": true

                  },

                  "deserializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties",

                    "@version": "4.5.1",

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "segmentDelimiter": "\\r"

                  },

                  "batchProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties",

                    "@version": "4.5.1",

                    "splitType": "MSH_Segment",

                    "batchScript": null

                  },

                  "responseGenerationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties",

                    "@version": "4.5.1",

                    "segmentDelimiter": "\\r",

                    "successfulACKCode": "AA",

                    "successfulACKMessage": null,

                    "errorACKCode": "AE",

                    "errorACKMessage": "An Error Occurred Processing Message.",

                    "rejectedACKCode": "AR",

                    "rejectedACKMessage": "Message Rejected.",

                    "msh15ACKAccept": false,

                    "dateFormat": "yyyyMMddHHmmss.SSS"

                  },

                  "responseValidationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties",

                    "@version": "4.5.1",

                    "successfulACKCode": "AA,CA",

                    "errorACKCode": "AE,CE",

                    "rejectedACKCode": "AR,CR",

                    "validateMessageControlId": true,

                    "originalMessageControlId": "Destination_Encoded",

                    "originalIdMapVariable": null

                  }

                },

                "outboundProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties",

                  "@version": "4.5.1",

                  "serializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties",

                    "@version": "4.5.1",

                    "handleRepetitions": true,

                    "handleSubcomponents": true,

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "stripNamespaces": false,

                    "segmentDelimiter": "\\r",

                    "convertLineBreaks": true

                  },

                  "deserializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties",

                    "@version": "4.5.1",

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "segmentDelimiter": "\\r"

                  },

                  "batchProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties",

                    "@version": "4.5.1",

                    "splitType": "MSH_Segment",

                    "batchScript": null

                  },

                  "responseGenerationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties",

                    "@version": "4.5.1",

                    "segmentDelimiter": "\\r",

                    "successfulACKCode": "AA",

                    "successfulACKMessage": null,

                    "errorACKCode": "AE",

                    "errorACKMessage": "An Error Occurred Processing Message.",

                    "rejectedACKCode": "AR",

                    "rejectedACKMessage": "Message Rejected.",

                    "msh15ACKAccept": false,

                    "dateFormat": "yyyyMMddHHmmss.SSS"

                  },

                  "responseValidationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties",

                    "@version": "4.5.1",

                    "successfulACKCode": "AA,CA",

                    "errorACKCode": "AE,CE",

                    "rejectedACKCode": "AR,CR",

                    "validateMessageControlId": true,

                    "originalMessageControlId": "Destination_Encoded",

                    "originalIdMapVariable": null

                  }

                }

              },

              "filter": {

                "@version": "4.5.1",

                "elements": null

              },

              "transportName": "TCP Sender",

              "mode": "DESTINATION",

              "enabled": true,

              "waitForPrevious": false

            },

            {

              "@version": "4.5.1",

              "metaDataId": 4,

              "name": "Draeger Infinity Gateway 3",

              "properties": {

                "@class": "com.mirth.connect.connectors.tcp.TcpDispatcherProperties",

                "@version": "4.5.1",

                "pluginProperties": null,

                "destinationConnectorProperties": {

                  "@version": "4.5.1",

                  "queueEnabled": true,

                  "sendFirst": true,

                  "retryIntervalMillis": 10000,

                  "regenerateTemplate": true,

                  "retryCount": 0,

                  "rotate": false,

                  "includeFilterTransformer": false,

                  "threadCount": 1,

                  "threadAssignmentVariable": null,

                  "validateResponse": true,

                  "resourceIds": {

                    "@class": "linked-hash-map",

                    "entry": {

                      "string": [

                        "Default Resource",

                        "[Default Resource]"

                      ]

                    }

                  },

                  "queueBufferSize": 1000,

                  "reattachAttachments": true

                },

                "transmissionModeProperties": {

                  "@class": "com.mirth.connect.plugins.mllpmode.MLLPModeProperties",

                  "pluginPointName": "MLLP",

                  "startOfMessageBytes": "0B",

                  "endOfMessageBytes": "1C0D",

                  "useMLLPv2": false,

                  "ackBytes": "06",

                  "nackBytes": 15,

                  "maxRetries": 2

                },

                "serverMode": false,

                "remoteAddress": "172.19.2.101",

                "remotePort": 2250,

                "overrideLocalBinding": false,

                "localAddress": "0.0.0.0",

                "localPort": 0,

                "sendTimeout": 0,

                "bufferSize": 65536,

                "maxConnections": 10,

                "keepConnectionOpen": true,

                "checkRemoteHost": true,

                "responseTimeout": 5000,

                "ignoreResponse": false,

                "queueOnResponseTimeout": true,

                "dataTypeBinary": false,

                "charsetEncoding": "ISO-8859-15",

                "template": "${message.encodedData}"

              },

              "transformer": {

                "@version": "4.5.1",

                "elements": {

                  "com.mirth.connect.plugins.javascriptstep.JavaScriptStep": [

                    {

                      "@version": "4.5.1",

                      "name": "prepare tmp",

                      "sequenceNumber": 0,

                      "enabled": true,

                      "script": "tmp = msg.copy();"

                    },

                    {

                      "@version": "4.5.1",

                      "name": "set receiving application",

                      "sequenceNumber": 1,

                      "enabled": true,

                      "script": "tmp['MSH']['MSH.5']['MSH.5.1'] = 'INFINITY';"

                    },

                    {

                      "@version": "4.5.1",

                      "name": "delete segments",

                      "sequenceNumber": 2,

                      "enabled": true,

                      "script": "delete tmp['DG1'];\ndelete tmp['PR1'];\ndelete tmp['ZBE'];\ndelete tmp['AL1'];\ndelete tmp['OBX'];"

                    }

                  ]

                },

                "inboundTemplate": {

                  "@encoding": "base64",

                  "$": "TVNIfF5+XCZ8RFBTfHxNSVJUSHx8MjAyNTAzMjcxMjEyNDV8fEFEVF5BMDJ8Mzc4NjY5Nzd8UHwyLjJ8fHxBTHxORQ1FVk58QTAyfDIwMjUwMzI2MjIwOTAwDVBJRHx8MzYzNDQxNHwzNjM0NDE0fDQ1MDM0MjQ1fFdpbGxlXkpvYWNoaW18fDE5NDkwMjIwMDAwMDAwfE18fHxIaXJzY2hncmFiZW4gNTdeXkhhbWJ1cmdeXjIyMDg5XkR8MDAyMTA4MTIxfDY5NzkwNzc5fHxkZXV0c2NofFZILnx8fHx8fHxQYXBlbmJ1cmd8Tnx8RA1QVjF8fFN8R0VSSTJeMi4wMC41MTdeR0VSSTItMDNeR0FTVFJPfEV8NDUwMzQyNDV8R0VSSTJeXl5IQUVNT05LT3x8RUJFUkxFLVdBTFRFXkViZXJsZS1XYWx0ZXJeTmljb2xldHRlXl5eRHIuIG1lZC5eRF4yMjA4OV5IYW1idXJnXlBhcGVuc3RyLiAxM15GUl4wNDAyMDQzODheMjA5Nzg3OTB8RUJFUkxFLVdBTFRFXkViZXJsZS1XYWx0ZXJeTmljb2xldHRlXl5eRHIuIG1lZC5eRF4yMjA4OV5IYW1idXJnXlBhcGVuc3RyLiAxM15GUl4wNDAyMDQzODheMjA5Nzg3OTB8fHx8fHx8fHxTfDQ1MDM0MjQ1fHxLfHx8fHx8fHx8fHx8fHx8fHx8OTM5MzMyfHx8fHwyMDI1MDMyNjEwNTQwMHx8fHx8MHw0NTAzNDI0NQ1QVjJ8fHwwMTA3fHx8fHx8MjAyNTA0MDUxMDU0MDANWkJFfDEzNjY0NzUxXk1FRElDT3wyMDI1MDMyNjIyMDkwMHx8VVBEQVRFDQ=="

                },

                "outboundTemplate": {

                  "@encoding": "base64",

                  "$": "TVNIfF5+XCZ8RFBTfHxNSVJUSHx8MjAyNTAzMjcxMjEyNDV8fEFEVF5BMDJ8Mzc4NjY5Nzd8UHwyLjJ8fHxBTHxORQ1FVk58QTAyfDIwMjUwMzI2MjIwOTAwDVBJRHx8MzYzNDQxNHwzNjM0NDE0fDQ1MDM0MjQ1fFdpbGxlXkpvYWNoaW18fDE5NDkwMjIwMDAwMDAwfE18fHxIaXJzY2hncmFiZW4gNTdeXkhhbWJ1cmdeXjIyMDg5XkR8MDAyMTA4MTIxfDY5NzkwNzc5fHxkZXV0c2NofFZILnx8fHx8fHxQYXBlbmJ1cmd8Tnx8RA1QVjF8fFN8R0VSSTJeMi4wMC41MTdeR0VSSTItMDNeR0FTVFJPfEV8NDUwMzQyNDV8R0VSSTJeXl5IQUVNT05LT3x8RUJFUkxFLVdBTFRFXkViZXJsZS1XYWx0ZXJeTmljb2xldHRlXl5eRHIuIG1lZC5eRF4yMjA4OV5IYW1idXJnXlBhcGVuc3RyLiAxM15GUl4wNDAyMDQzODheMjA5Nzg3OTB8RUJFUkxFLVdBTFRFXkViZXJsZS1XYWx0ZXJeTmljb2xldHRlXl5eRHIuIG1lZC5eRF4yMjA4OV5IYW1idXJnXlBhcGVuc3RyLiAxM15GUl4wNDAyMDQzODheMjA5Nzg3OTB8fHx8fHx8fHxTfDQ1MDM0MjQ1fHxLfHx8fHx8fHx8fHx8fHx8fHx8OTM5MzMyfHx8fHwyMDI1MDMyNjEwNTQwMHx8fHx8MHw0NTAzNDI0NQ1QVjJ8fHwwMTA3fHx8fHx8MjAyNTA0MDUxMDU0MDANWkJFfDEzNjY0NzUxXk1FRElDT3wyMDI1MDMyNjIyMDkwMHx8VVBEQVRFDQ=="

                },

                "inboundDataType": "HL7V2",

                "outboundDataType": "HL7V2",

                "inboundProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties",

                  "@version": "4.5.1",

                  "serializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties",

                    "@version": "4.5.1",

                    "handleRepetitions": true,

                    "handleSubcomponents": true,

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "stripNamespaces": false,

                    "segmentDelimiter": "\\r",

                    "convertLineBreaks": true

                  },

                  "deserializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties",

                    "@version": "4.5.1",

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "segmentDelimiter": "\\r"

                  },

                  "batchProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties",

                    "@version": "4.5.1",

                    "splitType": "MSH_Segment",

                    "batchScript": null

                  },

                  "responseGenerationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties",

                    "@version": "4.5.1",

                    "segmentDelimiter": "\\r",

                    "successfulACKCode": "AA",

                    "successfulACKMessage": null,

                    "errorACKCode": "AE",

                    "errorACKMessage": "An Error Occurred Processing Message.",

                    "rejectedACKCode": "AR",

                    "rejectedACKMessage": "Message Rejected.",

                    "msh15ACKAccept": false,

                   "dateFormat": "yyyyMMddHHmmss.SSS"

                  },

                  "responseValidationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties",

                    "@version": "4.5.1",

                    "successfulACKCode": "AA,CA",

                    "errorACKCode": "AE,CE",

                    "rejectedACKCode": "AR,CR",

                    "validateMessageControlId": true,

                    "originalMessageControlId": "Destination_Encoded",

                    "originalIdMapVariable": null

                  }

                },

                "outboundProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties",

                  "@version": "4.5.1",

                  "serializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties",

                    "@version": "4.5.1",

                    "handleRepetitions": true,

                    "handleSubcomponents": true,

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "stripNamespaces": false,

                    "segmentDelimiter": "\\r",

                    "convertLineBreaks": true

                  },

                  "deserializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties",

                    "@version": "4.5.1",

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "segmentDelimiter": "\\r"

                  },

                  "batchProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties",

                    "@version": "4.5.1",

                    "splitType": "MSH_Segment",

                    "batchScript": null

                  },

                  "responseGenerationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties",

                    "@version": "4.5.1",

                    "segmentDelimiter": "\\r",

                    "successfulACKCode": "AA",

                    "successfulACKMessage": null,

                    "errorACKCode": "AE",

                    "errorACKMessage": "An Error Occurred Processing Message.",

                    "rejectedACKCode": "AR",

                    "rejectedACKMessage": "Message Rejected.",

                    "msh15ACKAccept": false,

                    "dateFormat": "yyyyMMddHHmmss.SSS"

                  },

                  "responseValidationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties",

                    "@version": "4.5.1",

                    "successfulACKCode": "AA,CA",

                    "errorACKCode": "AE,CE",

                    "rejectedACKCode": "AR,CR",

                    "validateMessageControlId": true,

                    "originalMessageControlId": "Destination_Encoded",

                    "originalIdMapVariable": null

                  }

                }

              },

              "responseTransformer": {

                "@version": "4.5.1",

                "elements": null,

                "inboundDataType": "HL7V2",

                "outboundDataType": "HL7V2",

                "inboundProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties",

                  "@version": "4.5.1",

                  "serializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties",

                    "@version": "4.5.1",

                    "handleRepetitions": true,

                    "handleSubcomponents": true,

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "stripNamespaces": false,

                    "segmentDelimiter": "\\r",

                    "convertLineBreaks": true

                  },

                  "deserializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties",

                    "@version": "4.5.1",

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "segmentDelimiter": "\\r"

                  },

                  "batchProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties",

                    "@version": "4.5.1",

                    "splitType": "MSH_Segment",

                    "batchScript": null

                  },

                  "responseGenerationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties",

                    "@version": "4.5.1",

                    "segmentDelimiter": "\\r",

                    "successfulACKCode": "AA",

                    "successfulACKMessage": null,

                    "errorACKCode": "AE",

                    "errorACKMessage": "An Error Occurred Processing Message.",

                    "rejectedACKCode": "AR",

                    "rejectedACKMessage": "Message Rejected.",

                    "msh15ACKAccept": false,

                    "dateFormat": "yyyyMMddHHmmss.SSS"

                  },

                  "responseValidationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties",

                    "@version": "4.5.1",

                    "successfulACKCode": "AA,CA",

                    "errorACKCode": "AE,CE",

                    "rejectedACKCode": "AR,CR",

                    "validateMessageControlId": true,

                    "originalMessageControlId": "Destination_Encoded",

                    "originalIdMapVariable": null

                  }

                },

                "outboundProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties",

                  "@version": "4.5.1",

                  "serializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties",

                    "@version": "4.5.1",

                    "handleRepetitions": true,

                    "handleSubcomponents": true,

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "stripNamespaces": false,

                    "segmentDelimiter": "\\r",

                    "convertLineBreaks": true

                  },

                  "deserializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties",

                    "@version": "4.5.1",

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "segmentDelimiter": "\\r"

                  },

                  "batchProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties",

                    "@version": "4.5.1",

                    "splitType": "MSH_Segment",

                    "batchScript": null

                  },

                  "responseGenerationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties",

                    "@version": "4.5.1",

                    "segmentDelimiter": "\\r",

                    "successfulACKCode": "AA",

                    "successfulACKMessage": null,

                    "errorACKCode": "AE",

                    "errorACKMessage": "An Error Occurred Processing Message.",

                    "rejectedACKCode": "AR",

                    "rejectedACKMessage": "Message Rejected.",

                    "msh15ACKAccept": false,

                    "dateFormat": "yyyyMMddHHmmss.SSS"

                  },

                  "responseValidationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties",

                    "@version": "4.5.1",

                    "successfulACKCode": "AA,CA",

                    "errorACKCode": "AE,CE",

                    "rejectedACKCode": "AR,CR",

                    "validateMessageControlId": true,

                    "originalMessageControlId": "Destination_Encoded",

                    "originalIdMapVariable": null

                  }

                }

              },

              "filter": {

                "@version": "4.5.1",

                "elements": {

                  "com.mirth.connect.plugins.rulebuilder.RuleBuilderRule": [

                    {

                      "@version": "4.5.1",

                      "name": "Accept message if \"msg['MSH']['MSH.9']['MSH.9.2'].toString()\" equals 'A01' or 'A02' or 'A03' or 'A06' or 'A07' or 'A08' or 'A11' or 'A12' or 'A13' or 'A35' or 'A36'",

                      "sequenceNumber": 0,

                      "enabled": true,

                      "field": "msg['MSH']['MSH.9']['MSH.9.2'].toString()",

                      "condition": "EQUALS",

                      "values": {

                        "string": [

                          "'A01'",

                          "'A02'",

                          "'A03'",

                          "'A06'",

                         "'A07'",

                          "'A08'",

                          "'A11'",

                          "'A12'",

                          "'A13'",

                          "'A35'",

                          "'A36'"

                        ]

                      }

                    },

                    {

                      "@version": "4.5.1",

                      "name": "Accept message if \"msg['PV1']['PV1.51']['PV1.51.1'].toString()\" does not equal 'H'",

                      "sequenceNumber": 1,

                      "enabled": true,

                      "operator": "AND",

                      "field": "msg['PV1']['PV1.51']['PV1.51.1'].toString()",

                      "condition": "NOT_EQUAL",

                      "values": {

                        "string": "'H'"

                      }

                    }

                  ]

                }

              },

              "transportName": "TCP Sender",

              "mode": "DESTINATION",

              "enabled": true,

              "waitForPrevious": false

            },

            {

              "@version": "4.5.1",

              "metaDataId": 5,

              "name": "Getemed Channelwriter",

              "properties": {

                "@class": "com.mirth.connect.connectors.vm.VmDispatcherProperties",

                "@version": "4.5.1",

                "pluginProperties": null,

                "destinationConnectorProperties": {

                  "@version": "4.5.1",

                  "queueEnabled": true,

                  "sendFirst": true,

                  "retryIntervalMillis": 10000,

                  "regenerateTemplate": true,

                  "retryCount": 0,

                  "rotate": false,

                  "includeFilterTransformer": false,

                  "threadCount": 1,

                  "threadAssignmentVariable": null,

                  "validateResponse": false,

                  "resourceIds": {

                    "@class": "linked-hash-map",

                    "entry": {

                      "string": [

                        "Default Resource",

                        "[Default Resource]"

                      ]

                    }

                  },

                  "queueBufferSize": 1000,

                  "reattachAttachments": true

                },

                "channelId": "e1dadbd7-6fb5-437a-a6ef-5b44b6850c72",

                "channelTemplate": "${message.encodedData}",

                "mapVariables": null

              },

              "transformer": {

                "@version": "4.5.1",

                "elements": {

                  "com.mirth.connect.plugins.javascriptstep.JavaScriptStep": [

                    {

                      "@version": "4.5.1",

                      "name": "prepare tmp",

                      "sequenceNumber": 0,

                      "enabled": true,

                      "script": "tmp = msg.copy();"

                    },

                    {

                      "@version": "4.5.1",

                      "name": "delete segments",

                      "sequenceNumber": 1,

                      "enabled": true,

                      "script": "delete tmp['DG1'];\ndelete tmp['PR1'];\ndelete tmp['ZBE'];\ndelete tmp['AL1'];\ndelete tmp['OBX'];"

                    }

                  ]

                },

                "inboundTemplate": {

                  "@encoding": "base64",

                  "$": "TVNIfF5+XCZ8RFBTfHxNSVJUSHx8MjAyNTAzMjcxMjEyNDV8fEFEVF5BMDJ8Mzc4NjY5Nzd8UHwyLjJ8fHxBTHxORQ1FVk58QTAyfDIwMjUwMzI2MjIwOTAwDVBJRHx8MzYzNDQxNHwzNjM0NDE0fDQ1MDM0MjQ1fFdpbGxlXkpvYWNoaW18fDE5NDkwMjIwMDAwMDAwfE18fHxIaXJzY2hncmFiZW4gNTdeXkhhbWJ1cmdeXjIyMDg5XkR8MDAyMTA4MTIxfDY5NzkwNzc5fHxkZXV0c2NofFZILnx8fHx8fHxQYXBlbmJ1cmd8Tnx8RA1QVjF8fFN8R0VSSTJeMi4wMC41MTdeR0VSSTItMDNeR0FTVFJPfEV8NDUwMzQyNDV8R0VSSTJeXl5IQUVNT05LT3x8RUJFUkxFLVdBTFRFXkViZXJsZS1XYWx0ZXJeTmljb2xldHRlXl5eRHIuIG1lZC5eRF4yMjA4OV5IYW1idXJnXlBhcGVuc3RyLiAxM15GUl4wNDAyMDQzODheMjA5Nzg3OTB8RUJFUkxFLVdBTFRFXkViZXJsZS1XYWx0ZXJeTmljb2xldHRlXl5eRHIuIG1lZC5eRF4yMjA4OV5IYW1idXJnXlBhcGVuc3RyLiAxM15GUl4wNDAyMDQzODheMjA5Nzg3OTB8fHx8fHx8fHxTfDQ1MDM0MjQ1fHxLfHx8fHx8fHx8fHx8fHx8fHx8OTM5MzMyfHx8fHwyMDI1MDMyNjEwNTQwMHx8fHx8MHw0NTAzNDI0NQ1QVjJ8fHwwMTA3fHx8fHx8MjAyNTA0MDUxMDU0MDANWkJFfDEzNjY0NzUxXk1FRElDT3wyMDI1MDMyNjIyMDkwMHx8VVBEQVRFDQ=="

                },

                "outboundTemplate": {

                  "@encoding": "base64",

                  "$": "TVNIfF5+XCZ8RFBTfHxNSVJUSHx8MjAyNTAzMjcxMjEyNDV8fEFEVF5BMDJ8Mzc4NjY5Nzd8UHwyLjJ8fHxBTHxORQ1FVk58QTAyfDIwMjUwMzI2MjIwOTAwDVBJRHx8MzYzNDQxNHwzNjM0NDE0fDQ1MDM0MjQ1fFdpbGxlXkpvYWNoaW18fDE5NDkwMjIwMDAwMDAwfE18fHxIaXJzY2hncmFiZW4gNTdeXkhhbWJ1cmdeXjIyMDg5XkR8MDAyMTA4MTIxfDY5NzkwNzc5fHxkZXV0c2NofFZILnx8fHx8fHxQYXBlbmJ1cmd8Tnx8RA1QVjF8fFN8R0VSSTJeMi4wMC41MTdeR0VSSTItMDNeR0FTVFJPfEV8NDUwMzQyNDV8R0VSSTJeXl5IQUVNT05LT3x8RUJFUkxFLVdBTFRFXkViZXJsZS1XYWx0ZXJeTmljb2xldHRlXl5eRHIuIG1lZC5eRF4yMjA4OV5IYW1idXJnXlBhcGVuc3RyLiAxM15GUl4wNDAyMDQzODheMjA5Nzg3OTB8RUJFUkxFLVdBTFRFXkViZXJsZS1XYWx0ZXJeTmljb2xldHRlXl5eRHIuIG1lZC5eRF4yMjA4OV5IYW1idXJnXlBhcGVuc3RyLiAxM15GUl4wNDAyMDQzODheMjA5Nzg3OTB8fHx8fHx8fHxTfDQ1MDM0MjQ1fHxLfHx8fHx8fHx8fHx8fHx8fHx8OTM5MzMyfHx8fHwyMDI1MDMyNjEwNTQwMHx8fHx8MHw0NTAzNDI0NQ1QVjJ8fHwwMTA3fHx8fHx8MjAyNTA0MDUxMDU0MDANWkJFfDEzNjY0NzUxXk1FRElDT3wyMDI1MDMyNjIyMDkwMHx8VVBEQVRFDQ=="

                },

                "inboundDataType": "HL7V2",

                "outboundDataType": "HL7V2",

                "inboundProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties",

                  "@version": "4.5.1",

                  "serializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties",

                    "@version": "4.5.1",

                    "handleRepetitions": true,

                    "handleSubcomponents": true,

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "stripNamespaces": false,

                    "segmentDelimiter": "\\r",

                    "convertLineBreaks": true

                  },

                  "deserializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties",

                    "@version": "4.5.1",

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "segmentDelimiter": "\\r"

                  },

                  "batchProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties",

                    "@version": "4.5.1",

                    "splitType": "MSH_Segment",

                    "batchScript": null

                  },

                  "responseGenerationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties",

                    "@version": "4.5.1",

                    "segmentDelimiter": "\\r",

                    "successfulACKCode": "AA",

                    "successfulACKMessage": null,

                    "errorACKCode": "AE",

                    "errorACKMessage": "An Error Occurred Processing Message.",

                    "rejectedACKCode": "AR",

                    "rejectedACKMessage": "Message Rejected.",

                    "msh15ACKAccept": false,

                    "dateFormat": "yyyyMMddHHmmss.SSS"

                  },

                  "responseValidationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties",

                    "@version": "4.5.1",

                    "successfulACKCode": "AA,CA",

                    "errorACKCode": "AE,CE",

                    "rejectedACKCode": "AR,CR",

                    "validateMessageControlId": true,

                    "originalMessageControlId": "Destination_Encoded",

                    "originalIdMapVariable": null

                  }

                },

                "outboundProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties",

                  "@version": "4.5.1",

                  "serializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties",

                    "@version": "4.5.1",

                    "handleRepetitions": true,

                    "handleSubcomponents": true,

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "stripNamespaces": false,

                    "segmentDelimiter": "\\r",

                    "convertLineBreaks": true

                  },

                  "deserializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties",

                    "@version": "4.5.1",

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "segmentDelimiter": "\\r"

                  },

                  "batchProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties",

                    "@version": "4.5.1",

                    "splitType": "MSH_Segment",

                    "batchScript": null

                  },

                  "responseGenerationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties",

                    "@version": "4.5.1",

                    "segmentDelimiter": "\\r",

                    "successfulACKCode": "AA",

                    "successfulACKMessage": null,

                    "errorACKCode": "AE",

                    "errorACKMessage": "An Error Occurred Processing Message.",

                    "rejectedACKCode": "AR",

                    "rejectedACKMessage": "Message Rejected.",

                    "msh15ACKAccept": false,

                    "dateFormat": "yyyyMMddHHmmss.SSS"

                  },

                  "responseValidationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties",

                    "@version": "4.5.1",

                    "successfulACKCode": "AA,CA",

                    "errorACKCode": "AE,CE",

                   "rejectedACKCode": "AR,CR",

                    "validateMessageControlId": true,

                    "originalMessageControlId": "Destination_Encoded",

                    "originalIdMapVariable": null

                  }

                }

              },

              "responseTransformer": {

                "@version": "4.5.1",

                "elements": null,

                "inboundDataType": "HL7V2",

                "outboundDataType": "HL7V2",

                "inboundProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties",

                  "@version": "4.5.1",

                  "serializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties",

                    "@version": "4.5.1",

                    "handleRepetitions": true,

                    "handleSubcomponents": true,

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "stripNamespaces": false,

                    "segmentDelimiter": "\\r",

                    "convertLineBreaks": true

                  },

                  "deserializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties",

                    "@version": "4.5.1",

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "segmentDelimiter": "\\r"

                  },

                  "batchProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties",

                    "@version": "4.5.1",

                    "splitType": "MSH_Segment",

                    "batchScript": null

                  },

                  "responseGenerationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties",

                    "@version": "4.5.1",

                    "segmentDelimiter": "\\r",

                    "successfulACKCode": "AA",

                    "successfulACKMessage": null,

                    "errorACKCode": "AE",

                    "errorACKMessage": "An Error Occurred Processing Message.",

                    "rejectedACKCode": "AR",

                    "rejectedACKMessage": "Message Rejected.",

                    "msh15ACKAccept": false,

                    "dateFormat": "yyyyMMddHHmmss.SSS"

                  },

                  "responseValidationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties",

                    "@version": "4.5.1",

                    "successfulACKCode": "AA,CA",

                    "errorACKCode": "AE,CE",

                    "rejectedACKCode": "AR,CR",

                    "validateMessageControlId": true,

                    "originalMessageControlId": "Destination_Encoded",

                    "originalIdMapVariable": null

                  }

                },

                "outboundProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties",

                  "@version": "4.5.1",

                  "serializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties",

                    "@version": "4.5.1",

                    "handleRepetitions": true,

                    "handleSubcomponents": true,

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "stripNamespaces": false,

                    "segmentDelimiter": "\\r",

                    "convertLineBreaks": true

                  },

                  "deserializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties",

                    "@version": "4.5.1",

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "segmentDelimiter": "\\r"

                  },

                  "batchProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties",

                    "@version": "4.5.1",

                    "splitType": "MSH_Segment",

                    "batchScript": null

                  },

                  "responseGenerationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties",

                    "@version": "4.5.1",

                    "segmentDelimiter": "\\r",

                    "successfulACKCode": "AA",

                    "successfulACKMessage": null,

                    "errorACKCode": "AE",

                    "errorACKMessage": "An Error Occurred Processing Message.",

                    "rejectedACKCode": "AR",

                    "rejectedACKMessage": "Message Rejected.",

                    "msh15ACKAccept": false,

                    "dateFormat": "yyyyMMddHHmmss.SSS"

                  },

                  "responseValidationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties",

                    "@version": "4.5.1",

                    "successfulACKCode": "AA,CA",

                    "errorACKCode": "AE,CE",

                    "rejectedACKCode": "AR,CR",

                    "validateMessageControlId": true,

                    "originalMessageControlId": "Destination_Encoded",

                    "originalIdMapVariable": null

                  }

                }

              },

              "filter": {

                "@version": "4.5.1",

                "elements": {

                  "com.mirth.connect.plugins.rulebuilder.RuleBuilderRule": [

                    {

                      "@version": "4.5.1",

                      "name": "Accept message if \"msg['MSH']['MSH.9']['MSH.9.2'].toString()\" does not equal 'A23' or 'A34'",

                      "sequenceNumber": 0,

                      "enabled": true,

                      "field": "msg['MSH']['MSH.9']['MSH.9.2'].toString()",

                      "condition": "NOT_EQUAL",

                      "values": {

                        "string": [

                          "'A23'",

                          "'A34'"

                        ]

                      }

                    },

                    {

                      "@version": "4.5.1",

                      "name": "Accept message if \"msg['PV1']['PV1.51']['PV1.51.1'].toString()\" does not equal 'H'",

                      "sequenceNumber": 1,

                      "enabled": true,

                      "operator": "AND",

                      "field": "msg['PV1']['PV1.51']['PV1.51.1'].toString()",

                      "condition": "NOT_EQUAL",

                      "values": {

                        "string": "'H'"

                      }

                    }

                  ]

                }

              },

              "transportName": "Channel Writer",

              "mode": "DESTINATION",

              "enabled": true,

              "waitForPrevious": false

            },

            {

              "@version": "4.5.1",

              "metaDataId": 6,

              "name": "Centricity RIS",

              "properties": {

                "@class": "com.mirth.connect.connectors.tcp.TcpDispatcherProperties",

                "@version": "4.5.1",

                "pluginProperties": null,

                "destinationConnectorProperties": {

                  "@version": "4.5.1",

                  "queueEnabled": true,

                  "sendFirst": true,

                  "retryIntervalMillis": 10000,

                  "regenerateTemplate": true,

                  "retryCount": 0,

                  "rotate": false,

                  "includeFilterTransformer": false,

                  "threadCount": 1,

                  "threadAssignmentVariable": null,

                  "validateResponse": true,

                  "resourceIds": {

                    "@class": "linked-hash-map",

                    "entry": {

                      "string": [

                        "Default Resource",

                        "[Default Resource]"

                      ]

                    }

                  },

                  "queueBufferSize": 1000,

                  "reattachAttachments": true

                },

                "transmissionModeProperties": {

                  "@class": "com.mirth.connect.plugins.mllpmode.MLLPModeProperties",

                  "pluginPointName": "MLLP",

                  "startOfMessageBytes": "0B",

                  "endOfMessageBytes": "1C0D",

                  "useMLLPv2": false,

                  "ackBytes": "06",

                  "nackBytes": 15,

                  "maxRetries": 2

                },

                "serverMode": false,

                "remoteAddress": "172.19.3.20",

                "remotePort": 19019,

                "overrideLocalBinding": false,

                "localAddress": "0.0.0.0",

                "localPort": 0,

                "sendTimeout": 0,

                "bufferSize": 65536,

                "maxConnections": 10,

                "keepConnectionOpen": true,

                "checkRemoteHost": true,

                "responseTimeout": 5000,

                "ignoreResponse": false,

                "queueOnResponseTimeout": true,

                "dataTypeBinary": false,

                "charsetEncoding": "ISO-8859-15",

                "template": "${message.encodedData}"

              },

              "transformer": {

                "@version": "4.5.1",

                "elements": {

                  "com.mirth.connect.plugins.javascriptstep.JavaScriptStep": [

                    {

                      "@version": "4.5.1",

                      "name": "prepare tmp",

                      "sequenceNumber": 0,

                      "enabled": true,

                      "script": "tmp = msg.copy();"

                    },

                    {

                      "@version": "4.5.1",

                      "name": "adjust message",

                      "sequenceNumber": 1,

                      "enabled": true,

                      "script": "tmp['MSH']['MSH.12']['MSH.12.1'] = '2.3';\n\n/*\nSiemens schickt für Patientenmerge und Fallumhängung jeweils eine A34\nUnterscheidung anhand von PV1, welches bei Patientenmerge nicht vorhanden!\n*/\nif(msg['MSH']['MSH.9']['MSH.9.2']=='A34'\n\t&& msg['PV1']['PV1.19']['PV1.19.1'].toString().length>0){\n\ttmp['MSH']['MSH.9']['MSH.9.2']='A45';\n\ttmp['EVN']['EVN.1']['EVN.1.1']='A45';\n\ttmp['MRG']['MRG.5']['MRG.5.1']=msg['PV1']['PV1.19']['PV1.19.1'].toString();\n}\n\nif(msg['MSH']['MSH.9']['MSH.9.2']=='A23'){\n\ttmp['MSH']['MSH.9']['MSH.9.2']='A11';\n\ttmp['EVN']['EVN.1']['EVN.1.1']='A11';\n\tif(msg['IN1'].length>0){\n\t\tdelete tmp['IN1'];\n\t}\n}\n\ntmp['PID']['PID.5']['PID.5.4'] = msg['PID']['PID.9']['PID.9.1'].toString();\ntmp['PID']['PID.5']['PID.5.6'] = msg['PID']['PID.5']['PID.5.5'].toString();\ntmp['PID']['PID.5']['PID.5.5'] = '';\ntmp['PID']['PID.9']['PID.9.1'] = '';\n\nif(msg['PV1'].length()>0){\n\t//Anpassung Aufnahmearten\n\tif(msg['PV1']['PV1.2']['PV1.2.1'].toString()=='SV'){\n\t\ttmp['PV1']['PV1.2']['PV1.2.1']='V';\n\t}else if(msg['PV1']['PV1.2']['PV1.2.1'].toString()=='SN'){\n\t\ttmp['PV1']['PV1.2']['PV1.2.1']='N';\n\t}else if(msg['PV1']['PV1.2']['PV1.2.1'].toString()=='ST'){\n\t\ttmp['PV1']['PV1.2']['PV1.2.1']='X';\n\t}else{\n\t\ttmp['PV1']['PV1.2']['PV1.2.1']=msg['PV1']['PV1.2']['PV1.2.1'].toString();\n\t}\n\n\tif(msg['PV1']['PV1.3']['PV1.3.1'].toString() == 'MVZ RAD' || msg['PV1']['PV1.3']['PV1.3.1'].toString() == 'RAD'){\n\t\ttmp['PV1']['PV1.3']['PV1.3.1'] = msg['PV1']['PV1.8']['PV1.8.1'].toString();\n\t\ttmp['PV1']['PV1.27']['PV1.27.1'] = msg['PV1']['PV1.3']['PV1.3.1'].toString();\n\t}\n\n\n\t//Mapping für Abrechnungsarten\n\t/*\n\tif(msg['PV1']['PV1.18'].toString().length>0){\n\t\ttmp['PV1']['PV1.11']['PV1.11.1']=\n\t\t\tPackages.de.osm.mirth.connect.osmext.utils.TransformerUtils.dataMap('/srv/mirth/data/convert/abr.map', msg['PV1']['PV1.18']['PV1.18.1'].toString());\n\t}\n\t*/\n\tif(msg['PV1']['PV1.18'].toString().length>0)\n\t{\n\t\tvar abrMapping = configurationMap.get(msg['PV1']['PV1.18']['PV1.18.1'].toString());\n\t\tif(null == abrMapping)\n\t\t\tabrMapping = '';\n\t\t\t\n\t\ttmp['PV1']['PV1.11']['PV1.11.1']= abrMapping;\n\t}\n\n\tif(msg['PV1']['PV1.21']['PV1.21.1'].toString()=='P'){\n\t\ttmp['PV1']['PV1.21']['PV1.21.1']='j';\n\t}else{\n\t\ttmp['PV1']['PV1.21']['PV1.21.1']='n';\n\t}\n\n\tif(msg['MSH']['MSH.9']['MSH.9.2'].toString()=='A06'){\n\t\ttmp['PV1']['PV1.45']['PV1.45.1']='\"\"';\n\t}\n}"

                    },

                    {

                      "@version": "4.5.1",

                      "name": "adjust IN1",

                      "sequenceNumber": 2,

                      "enabled": true,

                      "script": "var day;\nvar month;\nvar year;\nvar containSegment;\n\nif(msg['GT1'].length()>0){\n\tcontainSegment = true;\n}else{\n \tcontainSegment = false;\n}\n\nfor(var i=0;i<msg['IN1'].length();i++){\n\ttmp['PID']['PID.4']['PID.4.1'] = msg['IN1'][0]['IN1.35']['IN1.35.2'].toString();\n\n\tif(containSegment){\n\t\ttmp['IN1'][i]['IN1.2']['IN1.2.1']='SELBST';\n\t\ttmp['IN1'][i]['IN1.3']['IN1.3.1']='';\t\n\t}else if(msg['IN1'][i]['IN1.9']['IN1.9.1'].toString()=='priv'\n\t\t\t|| msg['IN1'][i]['IN1.9']['IN1.9.1'].toString()=='PRIV'){\n\t\ttmp['IN1'][i]['IN1.2']['IN1.2.1']='GOAE';\n\t\ttmp['IN1'][i]['IN1.3']['IN1.3.1']='';\n\t}\n\n\tif(msg['IN1'][i]['IN1.9']['IN1.9.1'].toString()=='OFFKV'\n\t\t\t&& msg['IN1'][i]['IN1.3']['IN1.3.1'].toString().length==7){\n\t\ttmp['IN1'][i]['IN1.3']['IN1.3.1']='10'+msg['IN1'][i]['IN1.3']['IN1.3.1'].toString()\n\t}\n\n\n\ttmp['IN1'][i]['IN1.35']['IN1.35.1']='';\n\ttmp['IN1'][i]['IN1.35']['IN1.35.2']='';\n\ttmp['IN1'][i]['IN1.35']['IN1.35.3']='';\n\ttmp['IN1'][i]['IN1.35']['IN1.35.4']='';\n\ttmp['IN1'][i]['IN1.35']['IN1.35.5']='';\n\n\t/*\n\tCentricityRis braucht komplettes Datum für Ablauf der Karte. Geliefert wird aber nur MMyy\n\tKarte immer bis Ende des angegebenen Monats gültig\n\t*/\n\tif( msg['IN1'][i]['IN1.35']['IN1.35.3'].toString().length>0){\n\t\tmonth = msg['IN1'][i]['IN1.35']['IN1.35.3'].toString().substr(0,2);\n\t\tyear = '20'+msg['IN1'][i]['IN1.35']['IN1.35.3'].toString().substr(2,3);\n\t\tday = daysOfMonth(month, year);\n\t\ttmp['IN1'][i]['IN1.42']['IN1.42.3']=year+month+day;\n\t}\n\n\ttmp['IN1'][i]['IN1.42']['IN1.42.1']=msg['IN1'][i]['IN1.35']['IN1.35.1'].toString();\n\ttmp['IN1'][i]['IN1.42']['IN1.42.2']=msg['IN1'][i]['IN1.35']['IN1.35.2'].toString();\t\n\ttmp['IN1'][i]['IN1.42']['IN1.42.4']=msg['IN1'][i]['IN1.35']['IN1.35.4'].toString();\n\ttmp['IN1'][i]['IN1.42']['IN1.42.5']=msg['IN1'][i]['IN1.35']['IN1.35.5'].toString();\n}\n\nsortAndFillMessage(tmp);\n\nfunction daysOfMonth(month, year) {\n    if(month != 2) {\n        if(month == 9 ||\n           month == 4 ||\n           month == 6 ||\n           month == 11) {\n            return 30;\n        } else {\n            return 31;\n        }\n    } else {\n        return (year % 4) == \"\" && (year % 100) !=\"\" ? 29 : 28;\n    }\n}"

                    },

                    {

                      "@version": "4.5.1",

                      "name": "delete segments",

                      "sequenceNumber": 3,

                      "enabled": true,

                      "script": "delete tmp['PR1'];\ndelete tmp['DG1'];\ndelete tmp['ZBE'];\ndelete tmp['AL1'];\ndelete tmp['OBX'];"

                    }

                  ]

                },

                "inboundTemplate": {

                  "@encoding": "base64",

                  "$": "TVNIfF5+XCZ8RFBTfHxNSVJUSHx8MjAyNDEyMTIxMDI4Mjd8fEFEVF5BMDh8MzcyMTExODR8UHwyLjJ8fHxBTHxORQ1FVk58QTA4fDIwMjQxMjEyMTAyODI2DVBJRHx8Mzg3MzE2MHwzODczMTYwfDQ0MTE0NzYyfE5hc2VyaV5aYWhyYXx8MTk0NTA1MDIwMDAwMDB8V3x8fFNldW1lc3RyLiA0MV5eSGFtYnVyZ15eMjIwODleRHwwMDI1MDE1MDR8MDE3NiAyMDU1MTA2M3x8QUZHfHx8fHxudXNlcml0YWhlcjYzMEBnbWFpbC5jb218fHxIZXJhdHxOfHxBRkcNTksxfDF8TmFzZXJpXlRhaGVyfFNPSE58Xl5IYW1idXJnXl5eRHwwMTc2IDIwNTUxMDYzDVBWMXx8QXxBTUJaTkFeXl5VTkZPUlRIT3x8NDQxMTQ3NjJ8fHx8fHx8fHx8fHx8QU5PVHw0NDExNDc2Mnx8S3x8fHx8fHx8fHx8fHx8fHx8fDk4MDI5MHx8fHx8MjAyNDEyMTIxMDI3MDB8MjAyNDEyMTIyMDI3MDB8fHx8MHw0NDExNDc2Mg1PQlh8MXxDV0V8Q0FWRV5eSEw3LURFVV5QRVJTSU5GT15QZXJzb25lbmJlem9nZW5lIEluZm9ybWF0aW9uZW5eRFBTLVgxMDA2UFhUfHxDT1ZJREdFSU1QRlReQ09WSUQtMTkgMnggZ2VpbXBmdHx8fHx8fHx8fDIwMjIwOTE0XjIwOTkxMjMxDU9CWHwyfENXRXxDQVZFXl5ITDctREVVXlBFUlNJTkZPXlBlcnNvbmVuYmV6b2dlbmUgSW5mb3JtYXRpb25lbl5EUFMtWDEwMDZQWFR8fERTR1ZPTVZaXkRTR1ZPIE1WWiBFaW53LiB1bnRlcnNjaHJpZWJlbnx8fHx8fHx8fDIwMjIwODI5XjIwOTkxMjMxDUlOMXwxfFA0NjY4NzE3MTJ8MTA0MjEyNTA1fEFPSyBSaGVpbmxhbmQvSGFtYnVyZ3xLYXNlcm5lbnN0ci4gNjFeXkTDvHNzZWxkb3JmXl40MDIxM3x8MTk3NS8zfDR8T0ZGS1Z8fHx8MjAyNjA2MzB8fFJ8TmFzZXJpXlphaHJhfHwxOTQ1MDUwMnxTZXVtZXN0ci4gNDFeXkhhbWJ1cmdeXjIyMDg5XkR8fHx8fHx8fHx8MjAyNDEyMTIwMDAwMDB8fHx8fHw0MjEyNTA1XjI0MTAxXjA2MjZeNTAwMF40DQ=="

                },

                "outboundTemplate": {

                  "@encoding": "base64",

                  "$": "TVNIfF5+XCZ8RFBTfHxNSVJUSHx8MjAyNDEyMTIxMDI4Mjd8fEFEVF5BMDh8MzcyMTExODR8UHwyLjJ8fHxBTHxORQ1FVk58QTA4fDIwMjQxMjEyMTAyODI2DVBJRHx8Mzg3MzE2MHwzODczMTYwfDQ0MTE0NzYyfE5hc2VyaV5aYWhyYXx8MTk0NTA1MDIwMDAwMDB8V3x8fFNldW1lc3RyLiA0MV5eSGFtYnVyZ15eMjIwODleRHwwMDI1MDE1MDR8MDE3NiAyMDU1MTA2M3x8QUZHfHx8fHxudXNlcml0YWhlcjYzMEBnbWFpbC5jb218fHxIZXJhdHxOfHxBRkcNTksxfDF8TmFzZXJpXlRhaGVyfFNPSE58Xl5IYW1idXJnXl5eRHwwMTc2IDIwNTUxMDYzDVBWMXx8QXxBTUJaTkFeXl5VTkZPUlRIT3x8NDQxMTQ3NjJ8fHx8fHx8fHx8fHx8QU5PVHw0NDExNDc2Mnx8S3x8fHx8fHx8fHx8fHx8fHx8fDk4MDI5MHx8fHx8MjAyNDEyMTIxMDI3MDB8MjAyNDEyMTIyMDI3MDB8fHx8MHw0NDExNDc2Mg1PQlh8MXxDV0V8Q0FWRV5eSEw3LURFVV5QRVJTSU5GT15QZXJzb25lbmJlem9nZW5lIEluZm9ybWF0aW9uZW5eRFBTLVgxMDA2UFhUfHxDT1ZJREdFSU1QRlReQ09WSUQtMTkgMnggZ2VpbXBmdHx8fHx8fHx8fDIwMjIwOTE0XjIwOTkxMjMxDU9CWHwyfENXRXxDQVZFXl5ITDctREVVXlBFUlNJTkZPXlBlcnNvbmVuYmV6b2dlbmUgSW5mb3JtYXRpb25lbl5EUFMtWDEwMDZQWFR8fERTR1ZPTVZaXkRTR1ZPIE1WWiBFaW53LiB1bnRlcnNjaHJpZWJlbnx8fHx8fHx8fDIwMjIwODI5XjIwOTkxMjMxDUlOMXwxfFA0NjY4NzE3MTJ8MTA0MjEyNTA1fEFPSyBSaGVpbmxhbmQvSGFtYnVyZ3xLYXNlcm5lbnN0ci4gNjFeXkTDvHNzZWxkb3JmXl40MDIxM3x8MTk3NS8zfDR8T0ZGS1Z8fHx8MjAyNjA2MzB8fFJ8TmFzZXJpXlphaHJhfHwxOTQ1MDUwMnxTZXVtZXN0ci4gNDFeXkhhbWJ1cmdeXjIyMDg5XkR8fHx8fHx8fHx8MjAyNDEyMTIwMDAwMDB8fHx8fHw0MjEyNTA1XjI0MTAxXjA2MjZeNTAwMF40DQ=="

                },

                "inboundDataType": "HL7V2",

                "outboundDataType": "HL7V2",

                "inboundProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties",

                  "@version": "4.5.1",

                  "serializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties",

                    "@version": "4.5.1",

                    "handleRepetitions": true,

                    "handleSubcomponents": true,

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "stripNamespaces": false,

                    "segmentDelimiter": "\\r",

                    "convertLineBreaks": true

                  },

                  "deserializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties",

                    "@version": "4.5.1",

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "segmentDelimiter": "\\r"

                  },

                  "batchProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties",

                    "@version": "4.5.1",

                    "splitType": "MSH_Segment",

                    "batchScript": null

                  },

                  "responseGenerationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties",

                    "@version": "4.5.1",

                    "segmentDelimiter": "\\r",

                    "successfulACKCode": "AA",

                    "successfulACKMessage": null,

                    "errorACKCode": "AE",

                    "errorACKMessage": "An Error Occurred Processing Message.",

                    "rejectedACKCode": "AR",

                    "rejectedACKMessage": "Message Rejected.",

                    "msh15ACKAccept": false,

                    "dateFormat": "yyyyMMddHHmmss.SSS"

                  },

                  "responseValidationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties",

                    "@version": "4.5.1",

                    "successfulACKCode": "AA,CA",

                    "errorACKCode": "AE,CE",

                    "rejectedACKCode": "AR,CR",

                    "validateMessageControlId": true,

                    "originalMessageControlId": "Destination_Encoded",

                    "originalIdMapVariable": null

                  }

                },

                "outboundProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties",

                  "@version": "4.5.1",

                  "serializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties",

                    "@version": "4.5.1",

                    "handleRepetitions": true,

                    "handleSubcomponents": true,

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "stripNamespaces": false,

                    "segmentDelimiter": "\\r",

                    "convertLineBreaks": true

                  },

                  "deserializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties",

                    "@version": "4.5.1",

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "segmentDelimiter": "\\r"

                  },

                  "batchProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties",

                    "@version": "4.5.1",

                    "splitType": "MSH_Segment",

                    "batchScript": null

                  },

                  "responseGenerationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties",

                    "@version": "4.5.1",

                    "segmentDelimiter": "\\r",

                    "successfulACKCode": "AA",

                    "successfulACKMessage": null,

                    "errorACKCode": "AE",

                    "errorACKMessage": "An Error Occurred Processing Message.",

                    "rejectedACKCode": "AR",

                    "rejectedACKMessage": "Message Rejected.",

                    "msh15ACKAccept": false,

                    "dateFormat": "yyyyMMddHHmmss.SSS"

                  },

                  "responseValidationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties",

                    "@version": "4.5.1",

                    "successfulACKCode": "AA,CA",

                    "errorACKCode": "AE,CE",

                    "rejectedACKCode": "AR,CR",

                    "validateMessageControlId": true,

                    "originalMessageControlId": "Destination_Encoded",

                    "originalIdMapVariable": null

                  }

                }

              },

              "responseTransformer": {

                "@version": "4.5.1",

                "elements": null,

                "inboundDataType": "HL7V2",

                "outboundDataType": "HL7V2",

                "inboundProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties",

                 "@version": "4.5.1",

                  "serializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties",

                    "@version": "4.5.1",

                    "handleRepetitions": true,

                    "handleSubcomponents": true,

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "stripNamespaces": false,

                    "segmentDelimiter": "\\r",

                    "convertLineBreaks": true

                  },

                  "deserializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties",

                    "@version": "4.5.1",

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "segmentDelimiter": "\\r"

                  },

                  "batchProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties",

                    "@version": "4.5.1",

                    "splitType": "MSH_Segment",

                    "batchScript": null

                  },

                  "responseGenerationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties",

                    "@version": "4.5.1",

                    "segmentDelimiter": "\\r",

                    "successfulACKCode": "AA",

                    "successfulACKMessage": null,

                    "errorACKCode": "AE",

                    "errorACKMessage": "An Error Occurred Processing Message.",

                    "rejectedACKCode": "AR",

                    "rejectedACKMessage": "Message Rejected.",

                    "msh15ACKAccept": false,

                    "dateFormat": "yyyyMMddHHmmss.SSS"

                  },

                  "responseValidationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties",

                    "@version": "4.5.1",

                    "successfulACKCode": "AA,CA",

                    "errorACKCode": "AE,CE",

                    "rejectedACKCode": "AR,CR",

                    "validateMessageControlId": true,

                    "originalMessageControlId": "Destination_Encoded",

                    "originalIdMapVariable": null

                  }

                },

                "outboundProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties",

                  "@version": "4.5.1",

                  "serializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties",

                    "@version": "4.5.1",

                    "handleRepetitions": true,

                    "handleSubcomponents": true,

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "stripNamespaces": false,

                    "segmentDelimiter": "\\r",

                    "convertLineBreaks": true

                  },

                  "deserializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties",

                    "@version": "4.5.1",

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "segmentDelimiter": "\\r"

                  },

                  "batchProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties",

                    "@version": "4.5.1",

                    "splitType": "MSH_Segment",

                    "batchScript": null

                  },

                  "responseGenerationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties",

                    "@version": "4.5.1",

                    "segmentDelimiter": "\\r",

                    "successfulACKCode": "AA",

                    "successfulACKMessage": null,

                    "errorACKCode": "AE",

                    "errorACKMessage": "An Error Occurred Processing Message.",

                    "rejectedACKCode": "AR",

                    "rejectedACKMessage": "Message Rejected.",

                    "msh15ACKAccept": false,

                    "dateFormat": "yyyyMMddHHmmss.SSS"

                  },

                  "responseValidationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties",

                    "@version": "4.5.1",

                    "successfulACKCode": "AA,CA",

                    "errorACKCode": "AE,CE",

                    "rejectedACKCode": "AR,CR",

                    "validateMessageControlId": true,

                    "originalMessageControlId": "Destination_Encoded",

                    "originalIdMapVariable": null

                  }

                }

              },

              "filter": {

                "@version": "4.5.1",

                "elements": {

                  "com.mirth.connect.plugins.rulebuilder.RuleBuilderRule": {

                    "@version": "4.5.1",

                    "name": "Accept message if \"msg['MSH']['MSH.9']['MSH.9.2'].toString()\" equals 'A01' or 'A02' or 'A03' or 'A04' or 'A05' or 'A06' or 'A07' or 'A08' or 'A11' or 'A12' or 'A13' or 'A18' or 'A23' or 'A28' or 'A29' or 'A31' or 'A34' or 'A38' or 'A40' or 'A45'",

                    "sequenceNumber": 0,

                    "enabled": true,

                    "field": "msg['MSH']['MSH.9']['MSH.9.2'].toString()",

                    "condition": "EQUALS",

                    "values": {

                      "string": [

                        "'A01'",

                        "'A02'",

                        "'A03'",

                        "'A04'",

                        "'A05'",

                        "'A06'",

                        "'A07'",

                        "'A08'",

                        "'A11'",

                        "'A12'",

                        "'A13'",

                        "'A18'",

                        "'A23'",

                        "'A28'",

                        "'A29'",

                        "'A31'",

                        "'A34'",

                        "'A38'",

                        "'A40'",

                        "'A45'"

                      ]

                    }

                  }

                }

              },

              "transportName": "TCP Sender",

              "mode": "DESTINATION",

              "enabled": true,

              "waitForPrevious": false

            },

            {

              "@version": "4.5.1",

              "metaDataId": 7,

              "name": "C37",

              "properties": {

                "@class": "com.mirth.connect.connectors.tcp.TcpDispatcherProperties",

                "@version": "4.5.1",

                "pluginProperties": null,

                "destinationConnectorProperties": {

                  "@version": "4.5.1",

                  "queueEnabled": true,

                  "sendFirst": true,

                  "retryIntervalMillis": 10000,

                  "regenerateTemplate": true,

                  "retryCount": 0,

                  "rotate": false,

                  "includeFilterTransformer": false,

                  "threadCount": 1,

                  "threadAssignmentVariable": null,

                  "validateResponse": true,

                  "resourceIds": {

                    "@class": "linked-hash-map",

                    "entry": {

                      "string": [

                        "Default Resource",

                        "[Default Resource]"

                      ]

                    }

                  },

                  "queueBufferSize": 1000,

                  "reattachAttachments": true

                },

                "transmissionModeProperties": {

                  "@class": "com.mirth.connect.plugins.mllpmode.MLLPModeProperties",

                  "pluginPointName": "MLLP",

                  "startOfMessageBytes": "0B",

                  "endOfMessageBytes": "1C0D",

                  "useMLLPv2": false,

                  "ackBytes": "06",

                  "nackBytes": 15,

                  "maxRetries": 2

                },

                "serverMode": false,

                "remoteAddress": "172.19.2.169",

                "remotePort": 30000,

                "overrideLocalBinding": false,

                "localAddress": "0.0.0.0",

                "localPort": 0,

                "sendTimeout": 0,

                "bufferSize": 65536,

                "maxConnections": 10,

                "keepConnectionOpen": true,

                "checkRemoteHost": true,

                "responseTimeout": 5000,

                "ignoreResponse": false,

                "queueOnResponseTimeout": true,

                "dataTypeBinary": false,

                "charsetEncoding": "ISO-8859-15",

                "template": "${message.encodedData}"

              },

              "transformer": {

                "@version": "4.5.1",

                "elements": {

                  "com.mirth.connect.plugins.javascriptstep.JavaScriptStep": [

                    {

                      "@version": "4.5.1",

                      "name": "prepare tmp",

                      "sequenceNumber": 0,

                      "enabled": true,

                      "script": "tmp = msg.copy();"

                    },

                    {

                      "@version": "4.5.1",

                      "name": "delete segments",

                      "sequenceNumber": 1,

                      "enabled": true,

                      "script": "delete tmp['PR1'];\ndelete tmp['DG1'];\ndelete tmp['ZBE'];\ndelete tmp['AL1'];\ndelete tmp['OBX'];"

                    }

                  ]

                },

                "inboundTemplate": {

                  "@encoding": "base64",

                  "$": "TVNIfF5+XCZ8RFBTfHxNSVJUSHx8MjAyNDEyMTIxMDI4Mjd8fEFEVF5BMDh8MzcyMTExODR8UHwyLjJ8fHxBTHxORQ1FVk58QTA4fDIwMjQxMjEyMTAyODI2DVBJRHx8Mzg3MzE2MHwzODczMTYwfDQ0MTE0NzYyfE5hc2VyaV5aYWhyYXx8MTk0NTA1MDIwMDAwMDB8V3x8fFNldW1lc3RyLiA0MV5eSGFtYnVyZ15eMjIwODleRHwwMDI1MDE1MDR8MDE3NiAyMDU1MTA2M3x8QUZHfHx8fHxudXNlcml0YWhlcjYzMEBnbWFpbC5jb218fHxIZXJhdHxOfHxBRkcNTksxfDF8TmFzZXJpXlRhaGVyfFNPSE58Xl5IYW1idXJnXl5eRHwwMTc2IDIwNTUxMDYzDVBWMXx8QXxBTUJaTkFeXl5VTkZPUlRIT3x8NDQxMTQ3NjJ8fHx8fHx8fHx8fHx8QU5PVHw0NDExNDc2Mnx8S3x8fHx8fHx8fHx8fHx8fHx8fDk4MDI5MHx8fHx8MjAyNDEyMTIxMDI3MDB8MjAyNDEyMTIyMDI3MDB8fHx8MHw0NDExNDc2Mg1PQlh8MXxDV0V8Q0FWRV5eSEw3LURFVV5QRVJTSU5GT15QZXJzb25lbmJlem9nZW5lIEluZm9ybWF0aW9uZW5eRFBTLVgxMDA2UFhUfHxDT1ZJREdFSU1QRlReQ09WSUQtMTkgMnggZ2VpbXBmdHx8fHx8fHx8fDIwMjIwOTE0XjIwOTkxMjMxDU9CWHwyfENXRXxDQVZFXl5ITDctREVVXlBFUlNJTkZPXlBlcnNvbmVuYmV6b2dlbmUgSW5mb3JtYXRpb25lbl5EUFMtWDEwMDZQWFR8fERTR1ZPTVZaXkRTR1ZPIE1WWiBFaW53LiB1bnRlcnNjaHJpZWJlbnx8fHx8fHx8fDIwMjIwODI5XjIwOTkxMjMxDUlOMXwxfFA0NjY4NzE3MTJ8MTA0MjEyNTA1fEFPSyBSaGVpbmxhbmQvSGFtYnVyZ3xLYXNlcm5lbnN0ci4gNjFeXkTDvHNzZWxkb3JmXl40MDIxM3x8MTk3NS8zfDR8T0ZGS1Z8fHx8MjAyNjA2MzB8fFJ8TmFzZXJpXlphaHJhfHwxOTQ1MDUwMnxTZXVtZXN0ci4gNDFeXkhhbWJ1cmdeXjIyMDg5XkR8fHx8fHx8fHx8MjAyNDEyMTIwMDAwMDB8fHx8fHw0MjEyNTA1XjI0MTAxXjA2MjZeNTAwMF40DQ=="

                },

                "outboundTemplate": {

                  "@encoding": "base64",

                  "$": "TVNIfF5+XCZ8RFBTfHxNSVJUSHx8MjAyNDEyMTIxMDI4Mjd8fEFEVF5BMDh8MzcyMTExODR8UHwyLjJ8fHxBTHxORQ1FVk58QTA4fDIwMjQxMjEyMTAyODI2DVBJRHx8Mzg3MzE2MHwzODczMTYwfDQ0MTE0NzYyfE5hc2VyaV5aYWhyYXx8MTk0NTA1MDIwMDAwMDB8V3x8fFNldW1lc3RyLiA0MV5eSGFtYnVyZ15eMjIwODleRHwwMDI1MDE1MDR8MDE3NiAyMDU1MTA2M3x8QUZHfHx8fHxudXNlcml0YWhlcjYzMEBnbWFpbC5jb218fHxIZXJhdHxOfHxBRkcNTksxfDF8TmFzZXJpXlRhaGVyfFNPSE58Xl5IYW1idXJnXl5eRHwwMTc2IDIwNTUxMDYzDVBWMXx8QXxBTUJaTkFeXl5VTkZPUlRIT3x8NDQxMTQ3NjJ8fHx8fHx8fHx8fHx8QU5PVHw0NDExNDc2Mnx8S3x8fHx8fHx8fHx8fHx8fHx8fDk4MDI5MHx8fHx8MjAyNDEyMTIxMDI3MDB8MjAyNDEyMTIyMDI3MDB8fHx8MHw0NDExNDc2Mg1PQlh8MXxDV0V8Q0FWRV5eSEw3LURFVV5QRVJTSU5GT15QZXJzb25lbmJlem9nZW5lIEluZm9ybWF0aW9uZW5eRFBTLVgxMDA2UFhUfHxDT1ZJREdFSU1QRlReQ09WSUQtMTkgMnggZ2VpbXBmdHx8fHx8fHx8fDIwMjIwOTE0XjIwOTkxMjMxDU9CWHwyfENXRXxDQVZFXl5ITDctREVVXlBFUlNJTkZPXlBlcnNvbmVuYmV6b2dlbmUgSW5mb3JtYXRpb25lbl5EUFMtWDEwMDZQWFR8fERTR1ZPTVZaXkRTR1ZPIE1WWiBFaW53LiB1bnRlcnNjaHJpZWJlbnx8fHx8fHx8fDIwMjIwODI5XjIwOTkxMjMxDUlOMXwxfFA0NjY4NzE3MTJ8MTA0MjEyNTA1fEFPSyBSaGVpbmxhbmQvSGFtYnVyZ3xLYXNlcm5lbnN0ci4gNjFeXkTDvHNzZWxkb3JmXl40MDIxM3x8MTk3NS8zfDR8T0ZGS1Z8fHx8MjAyNjA2MzB8fFJ8TmFzZXJpXlphaHJhfHwxOTQ1MDUwMnxTZXVtZXN0ci4gNDFeXkhhbWJ1cmdeXjIyMDg5XkR8fHx8fHx8fHx8MjAyNDEyMTIwMDAwMDB8fHx8fHw0MjEyNTA1XjI0MTAxXjA2MjZeNTAwMF40DQ=="

                },

                "inboundDataType": "HL7V2",

                "outboundDataType": "HL7V2",

                "inboundProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties",

                  "@version": "4.5.1",

                  "serializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties",

                    "@version": "4.5.1",

                    "handleRepetitions": true,

                    "handleSubcomponents": true,

                    "useStrictParser": false,

                   "useStrictValidation": false,

                    "stripNamespaces": false,

                    "segmentDelimiter": "\\r",

                    "convertLineBreaks": true

                  },

                  "deserializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties",

                    "@version": "4.5.1",

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "segmentDelimiter": "\\r"

                  },

                  "batchProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties",

                    "@version": "4.5.1",

                    "splitType": "MSH_Segment",

                    "batchScript": null

                  },

                  "responseGenerationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties",

                    "@version": "4.5.1",

                    "segmentDelimiter": "\\r",

                    "successfulACKCode": "AA",

                    "successfulACKMessage": null,

                    "errorACKCode": "AE",

                    "errorACKMessage": "An Error Occurred Processing Message.",

                    "rejectedACKCode": "AR",

                    "rejectedACKMessage": "Message Rejected.",

                    "msh15ACKAccept": false,

                    "dateFormat": "yyyyMMddHHmmss.SSS"

                  },

                  "responseValidationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties",

                    "@version": "4.5.1",

                    "successfulACKCode": "AA,CA",

                    "errorACKCode": "AE,CE",

                    "rejectedACKCode": "AR,CR",

                    "validateMessageControlId": true,

                    "originalMessageControlId": "Destination_Encoded",

                    "originalIdMapVariable": null

                  }

                },

                "outboundProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties",

                  "@version": "4.5.1",

                  "serializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties",

                    "@version": "4.5.1",

                    "handleRepetitions": true,

                    "handleSubcomponents": true,

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "stripNamespaces": false,

                    "segmentDelimiter": "\\r",

                    "convertLineBreaks": true

                  },

                  "deserializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties",

                    "@version": "4.5.1",

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "segmentDelimiter": "\\r"

                  },

                  "batchProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties",

                    "@version": "4.5.1",

                    "splitType": "MSH_Segment",

                    "batchScript": null

                  },

                  "responseGenerationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties",

                    "@version": "4.5.1",

                    "segmentDelimiter": "\\r",

                    "successfulACKCode": "AA",

                    "successfulACKMessage": null,

                    "errorACKCode": "AE",

                    "errorACKMessage": "An Error Occurred Processing Message.",

                    "rejectedACKCode": "AR",

                    "rejectedACKMessage": "Message Rejected.",

                    "msh15ACKAccept": false,

                    "dateFormat": "yyyyMMddHHmmss.SSS"

                  },

                  "responseValidationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties",

                    "@version": "4.5.1",

                    "successfulACKCode": "AA,CA",

                    "errorACKCode": "AE,CE",

                   "rejectedACKCode": "AR,CR",

                    "validateMessageControlId": true,

                    "originalMessageControlId": "Destination_Encoded",

                    "originalIdMapVariable": null

                  }

                }

              },

              "responseTransformer": {

                "@version": "4.5.1",

                "elements": null,

                "inboundDataType": "HL7V2",

                "outboundDataType": "HL7V2",

                "inboundProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties",

                  "@version": "4.5.1",

                  "serializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties",

                    "@version": "4.5.1",

                    "handleRepetitions": true,

                    "handleSubcomponents": true,

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "stripNamespaces": false,

                    "segmentDelimiter": "\\r",

                    "convertLineBreaks": true

                  },

                  "deserializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties",

                    "@version": "4.5.1",

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "segmentDelimiter": "\\r"

                  },

                  "batchProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties",

                    "@version": "4.5.1",

                    "splitType": "MSH_Segment",

                    "batchScript": null

                  },

                  "responseGenerationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties",

                    "@version": "4.5.1",

                    "segmentDelimiter": "\\r",

                    "successfulACKCode": "AA",

                    "successfulACKMessage": null,

                    "errorACKCode": "AE",

                    "errorACKMessage": "An Error Occurred Processing Message.",

                    "rejectedACKCode": "AR",

                    "rejectedACKMessage": "Message Rejected.",

                    "msh15ACKAccept": false,

                    "dateFormat": "yyyyMMddHHmmss.SSS"

                  },

                  "responseValidationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties",

                    "@version": "4.5.1",

                    "successfulACKCode": "AA,CA",

                    "errorACKCode": "AE,CE",

                    "rejectedACKCode": "AR,CR",

                    "validateMessageControlId": true,

                    "originalMessageControlId": "Destination_Encoded",

                    "originalIdMapVariable": null

                  }

                },

                "outboundProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties",

                  "@version": "4.5.1",

                  "serializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties",

                    "@version": "4.5.1",

                    "handleRepetitions": true,

                    "handleSubcomponents": true,

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "stripNamespaces": false,

                    "segmentDelimiter": "\\r",

                    "convertLineBreaks": true

                  },

                  "deserializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties",

                    "@version": "4.5.1",

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "segmentDelimiter": "\\r"

                  },

                  "batchProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties",

                    "@version": "4.5.1",

                    "splitType": "MSH_Segment",

                    "batchScript": null

                  },

                  "responseGenerationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties",

                    "@version": "4.5.1",

                    "segmentDelimiter": "\\r",

                    "successfulACKCode": "AA",

                    "successfulACKMessage": null,

                    "errorACKCode": "AE",

                    "errorACKMessage": "An Error Occurred Processing Message.",

                    "rejectedACKCode": "AR",

                    "rejectedACKMessage": "Message Rejected.",

                    "msh15ACKAccept": false,

                    "dateFormat": "yyyyMMddHHmmss.SSS"

                  },

                  "responseValidationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties",

                    "@version": "4.5.1",

                    "successfulACKCode": "AA,CA",

                    "errorACKCode": "AE,CE",

                    "rejectedACKCode": "AR,CR",

                    "validateMessageControlId": true,

                    "originalMessageControlId": "Destination_Encoded",

                    "originalIdMapVariable": null

                  }

                }

              },

              "filter": {

                "@version": "4.5.1",

                "elements": null

              },

              "transportName": "TCP Sender",

              "mode": "DESTINATION",

              "enabled": true,

              "waitForPrevious": false

            },

            {

              "@version": "4.5.1",

              "metaDataId": 8,

              "name": "Telepaxx",

              "properties": {

                "@class": "com.mirth.connect.connectors.tcp.TcpDispatcherProperties",

                "@version": "4.5.1",

                "pluginProperties": null,

                "destinationConnectorProperties": {

                  "@version": "4.5.1",

                  "queueEnabled": true,

                  "sendFirst": true,

                  "retryIntervalMillis": 10000,

                 "regenerateTemplate": true,

                  "retryCount": 0,

                  "rotate": false,

                  "includeFilterTransformer": false,

                  "threadCount": 1,

                  "threadAssignmentVariable": null,

                  "validateResponse": true,

                  "resourceIds": {

                    "@class": "linked-hash-map",

                    "entry": {

                      "string": [

                        "Default Resource",

                        "[Default Resource]"

                      ]

                    }

                  },

                  "queueBufferSize": 1000,

                  "reattachAttachments": true

                },

                "transmissionModeProperties": {

                  "@class": "com.mirth.connect.plugins.mllpmode.MLLPModeProperties",

                  "pluginPointName": "MLLP",

                  "startOfMessageBytes": "0B",

                  "endOfMessageBytes": "1C0D",

                  "useMLLPv2": false,

                  "ackBytes": "06",

                  "nackBytes": 15,

                  "maxRetries": 2

                },

                "serverMode": false,

                "remoteAddress": "172.19.2.163",

                "remotePort": 18015,

                "overrideLocalBinding": false,

                "localAddress": "0.0.0.0",

                "localPort": 0,

                "sendTimeout": 0,

                "bufferSize": 65536,

                "maxConnections": 10,

                "keepConnectionOpen": true,

                "checkRemoteHost": true,

                "responseTimeout": 5000,

                "ignoreResponse": false,

                "queueOnResponseTimeout": true,

                "dataTypeBinary": false,

                "charsetEncoding": "ISO-8859-15",

                "template": "${message.encodedData}"

              },

              "transformer": {

                "@version": "4.5.1",

                "elements": {

                  "com.mirth.connect.plugins.javascriptstep.JavaScriptStep": [

                    {

                      "@version": "4.5.1",

                      "name": "prepare tmp",

                      "sequenceNumber": 0,

                      "enabled": true,

                      "script": "tmp = msg.copy();"

                    },

                    {

                      "@version": "4.5.1",

                      "name": "adjust A34 to A40",

                      "sequenceNumber": 1,

                      "enabled": true,

                      "script": "tmp['MSH']['MSH.12']['MSH.12.1'] = '2.3';\n\nif(msg['MSH']['MSH.9']['MSH.9.2'].toString()=='A34'){\n\ttmp['MSH']['MSH.9']['MSH.9.2']='A40';\n}"

                    },

                    {

                      "@version": "4.5.1",

                      "name": "delete segments",

                      "sequenceNumber": 2,

                      "enabled": true,

                      "script": "delete tmp['PR1'];\ndelete tmp['DG1'];\ndelete tmp['ZBE'];\ndelete tmp['AL1'];\ndelete tmp['OBX'];"

                    }

                  ]

                },

                "inboundTemplate": {

                  "@encoding": "base64",

                  "$": "TVNIfF5+XCZ8RFBTfHxNSVJUSHx8MjAyNDEyMTIxMDI4Mjd8fEFEVF5BMDh8MzcyMTExODR8UHwyLjJ8fHxBTHxORQ1FVk58QTA4fDIwMjQxMjEyMTAyODI2DVBJRHx8Mzg3MzE2MHwzODczMTYwfDQ0MTE0NzYyfE5hc2VyaV5aYWhyYXx8MTk0NTA1MDIwMDAwMDB8V3x8fFNldW1lc3RyLiA0MV5eSGFtYnVyZ15eMjIwODleRHwwMDI1MDE1MDR8MDE3NiAyMDU1MTA2M3x8QUZHfHx8fHxudXNlcml0YWhlcjYzMEBnbWFpbC5jb218fHxIZXJhdHxOfHxBRkcNTksxfDF8TmFzZXJpXlRhaGVyfFNPSE58Xl5IYW1idXJnXl5eRHwwMTc2IDIwNTUxMDYzDVBWMXx8QXxBTUJaTkFeXl5VTkZPUlRIT3x8NDQxMTQ3NjJ8fHx8fHx8fHx8fHx8QU5PVHw0NDExNDc2Mnx8S3x8fHx8fHx8fHx8fHx8fHx8fDk4MDI5MHx8fHx8MjAyNDEyMTIxMDI3MDB8MjAyNDEyMTIyMDI3MDB8fHx8MHw0NDExNDc2Mg1PQlh8MXxDV0V8Q0FWRV5eSEw3LURFVV5QRVJTSU5GT15QZXJzb25lbmJlem9nZW5lIEluZm9ybWF0aW9uZW5eRFBTLVgxMDA2UFhUfHxDT1ZJREdFSU1QRlReQ09WSUQtMTkgMnggZ2VpbXBmdHx8fHx8fHx8fDIwMjIwOTE0XjIwOTkxMjMxDU9CWHwyfENXRXxDQVZFXl5ITDctREVVXlBFUlNJTkZPXlBlcnNvbmVuYmV6b2dlbmUgSW5mb3JtYXRpb25lbl5EUFMtWDEwMDZQWFR8fERTR1ZPTVZaXkRTR1ZPIE1WWiBFaW53LiB1bnRlcnNjaHJpZWJlbnx8fHx8fHx8fDIwMjIwODI5XjIwOTkxMjMxDUlOMXwxfFA0NjY4NzE3MTJ8MTA0MjEyNTA1fEFPSyBSaGVpbmxhbmQvSGFtYnVyZ3xLYXNlcm5lbnN0ci4gNjFeXkTDvHNzZWxkb3JmXl40MDIxM3x8MTk3NS8zfDR8T0ZGS1Z8fHx8MjAyNjA2MzB8fFJ8TmFzZXJpXlphaHJhfHwxOTQ1MDUwMnxTZXVtZXN0ci4gNDFeXkhhbWJ1cmdeXjIyMDg5XkR8fHx8fHx8fHx8MjAyNDEyMTIwMDAwMDB8fHx8fHw0MjEyNTA1XjI0MTAxXjA2MjZeNTAwMF40DQ=="

                },

                "outboundTemplate": {

                  "@encoding": "base64",

                  "$": "TVNIfF5+XCZ8RFBTfHxNSVJUSHx8MjAyNDEyMTIxMDI4Mjd8fEFEVF5BMDh8MzcyMTExODR8UHwyLjJ8fHxBTHxORQ1FVk58QTA4fDIwMjQxMjEyMTAyODI2DVBJRHx8Mzg3MzE2MHwzODczMTYwfDQ0MTE0NzYyfE5hc2VyaV5aYWhyYXx8MTk0NTA1MDIwMDAwMDB8V3x8fFNldW1lc3RyLiA0MV5eSGFtYnVyZ15eMjIwODleRHwwMDI1MDE1MDR8MDE3NiAyMDU1MTA2M3x8QUZHfHx8fHxudXNlcml0YWhlcjYzMEBnbWFpbC5jb218fHxIZXJhdHxOfHxBRkcNTksxfDF8TmFzZXJpXlRhaGVyfFNPSE58Xl5IYW1idXJnXl5eRHwwMTc2IDIwNTUxMDYzDVBWMXx8QXxBTUJaTkFeXl5VTkZPUlRIT3x8NDQxMTQ3NjJ8fHx8fHx8fHx8fHx8QU5PVHw0NDExNDc2Mnx8S3x8fHx8fHx8fHx8fHx8fHx8fDk4MDI5MHx8fHx8MjAyNDEyMTIxMDI3MDB8MjAyNDEyMTIyMDI3MDB8fHx8MHw0NDExNDc2Mg1PQlh8MXxDV0V8Q0FWRV5eSEw3LURFVV5QRVJTSU5GT15QZXJzb25lbmJlem9nZW5lIEluZm9ybWF0aW9uZW5eRFBTLVgxMDA2UFhUfHxDT1ZJREdFSU1QRlReQ09WSUQtMTkgMnggZ2VpbXBmdHx8fHx8fHx8fDIwMjIwOTE0XjIwOTkxMjMxDU9CWHwyfENXRXxDQVZFXl5ITDctREVVXlBFUlNJTkZPXlBlcnNvbmVuYmV6b2dlbmUgSW5mb3JtYXRpb25lbl5EUFMtWDEwMDZQWFR8fERTR1ZPTVZaXkRTR1ZPIE1WWiBFaW53LiB1bnRlcnNjaHJpZWJlbnx8fHx8fHx8fDIwMjIwODI5XjIwOTkxMjMxDUlOMXwxfFA0NjY4NzE3MTJ8MTA0MjEyNTA1fEFPSyBSaGVpbmxhbmQvSGFtYnVyZ3xLYXNlcm5lbnN0ci4gNjFeXkTDvHNzZWxkb3JmXl40MDIxM3x8MTk3NS8zfDR8T0ZGS1Z8fHx8MjAyNjA2MzB8fFJ8TmFzZXJpXlphaHJhfHwxOTQ1MDUwMnxTZXVtZXN0ci4gNDFeXkhhbWJ1cmdeXjIyMDg5XkR8fHx8fHx8fHx8MjAyNDEyMTIwMDAwMDB8fHx8fHw0MjEyNTA1XjI0MTAxXjA2MjZeNTAwMF40DQ=="

                },

                "inboundDataType": "HL7V2",

                "outboundDataType": "HL7V2",

                "inboundProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties",

                  "@version": "4.5.1",

                  "serializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties",

                    "@version": "4.5.1",

                    "handleRepetitions": true,

                    "handleSubcomponents": true,

                    "useStrictParser": false,

                   "useStrictValidation": false,

                    "stripNamespaces": false,

                    "segmentDelimiter": "\\r",

                    "convertLineBreaks": true

                  },

                  "deserializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties",

                    "@version": "4.5.1",

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "segmentDelimiter": "\\r"

                  },

                  "batchProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties",

                    "@version": "4.5.1",

                    "splitType": "MSH_Segment",

                    "batchScript": null

                  },

                  "responseGenerationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties",

                    "@version": "4.5.1",

                    "segmentDelimiter": "\\r",

                    "successfulACKCode": "AA",

                    "successfulACKMessage": null,

                    "errorACKCode": "AE",

                    "errorACKMessage": "An Error Occurred Processing Message.",

                    "rejectedACKCode": "AR",

                    "rejectedACKMessage": "Message Rejected.",

                    "msh15ACKAccept": false,

                   "dateFormat": "yyyyMMddHHmmss.SSS"

                  },

                  "responseValidationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties",

                    "@version": "4.5.1",

                    "successfulACKCode": "AA,CA",

                    "errorACKCode": "AE,CE",

                    "rejectedACKCode": "AR,CR",

                    "validateMessageControlId": true,

                    "originalMessageControlId": "Destination_Encoded",

                    "originalIdMapVariable": null

                  }

                },

                "outboundProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties",

                  "@version": "4.5.1",

                  "serializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties",

                    "@version": "4.5.1",

                    "handleRepetitions": true,

                    "handleSubcomponents": true,

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "stripNamespaces": false,

                    "segmentDelimiter": "\\r",

                    "convertLineBreaks": true

                  },

                  "deserializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties",

                    "@version": "4.5.1",

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "segmentDelimiter": "\\r"

                  },

                  "batchProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties",

                    "@version": "4.5.1",

                    "splitType": "MSH_Segment",

                    "batchScript": null

                  },

                  "responseGenerationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties",

                    "@version": "4.5.1",

                    "segmentDelimiter": "\\r",

                    "successfulACKCode": "AA",

                    "successfulACKMessage": null,

                    "errorACKCode": "AE",

                    "errorACKMessage": "An Error Occurred Processing Message.",

                    "rejectedACKCode": "AR",

                    "rejectedACKMessage": "Message Rejected.",

                    "msh15ACKAccept": false,

                    "dateFormat": "yyyyMMddHHmmss.SSS"

                  },

                  "responseValidationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties",

                    "@version": "4.5.1",

                    "successfulACKCode": "AA,CA",

                    "errorACKCode": "AE,CE",

                    "rejectedACKCode": "AR,CR",

                    "validateMessageControlId": true,

                    "originalMessageControlId": "Destination_Encoded",

                    "originalIdMapVariable": null

                  }

                }

              },

              "responseTransformer": {

                "@version": "4.5.1",

                "elements": null,

                "inboundDataType": "HL7V2",

                "outboundDataType": "HL7V2",

                "inboundProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties",

                  "@version": "4.5.1",

                  "serializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties",

                    "@version": "4.5.1",

                    "handleRepetitions": true,

                    "handleSubcomponents": true,

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "stripNamespaces": false,

                    "segmentDelimiter": "\\r",

                    "convertLineBreaks": true

                  },

                  "deserializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties",

                    "@version": "4.5.1",

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "segmentDelimiter": "\\r"

                  },

                  "batchProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties",

                    "@version": "4.5.1",

                    "splitType": "MSH_Segment",

                    "batchScript": null

                  },

                  "responseGenerationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties",

                    "@version": "4.5.1",

                    "segmentDelimiter": "\\r",

                    "successfulACKCode": "AA",

                    "successfulACKMessage": null,

                    "errorACKCode": "AE",

                    "errorACKMessage": "An Error Occurred Processing Message.",

                    "rejectedACKCode": "AR",

                    "rejectedACKMessage": "Message Rejected.",

                    "msh15ACKAccept": false,

                    "dateFormat": "yyyyMMddHHmmss.SSS"

                  },

                  "responseValidationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties",

                    "@version": "4.5.1",

                    "successfulACKCode": "AA,CA",

                    "errorACKCode": "AE,CE",

                    "rejectedACKCode": "AR,CR",

                    "validateMessageControlId": true,

                    "originalMessageControlId": "Destination_Encoded",

                    "originalIdMapVariable": null

                  }

                },

                "outboundProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties",

                  "@version": "4.5.1",

                  "serializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties",

                    "@version": "4.5.1",

                    "handleRepetitions": true,

                    "handleSubcomponents": true,

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "stripNamespaces": false,

                    "segmentDelimiter": "\\r",

                    "convertLineBreaks": true

                  },

                  "deserializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties",

                    "@version": "4.5.1",

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "segmentDelimiter": "\\r"

                  },

                  "batchProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties",

                    "@version": "4.5.1",

                    "splitType": "MSH_Segment",

                    "batchScript": null

                  },

                  "responseGenerationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties",

                    "@version": "4.5.1",

                    "segmentDelimiter": "\\r",

                    "successfulACKCode": "AA",

                    "successfulACKMessage": null,

                    "errorACKCode": "AE",

                    "errorACKMessage": "An Error Occurred Processing Message.",

                    "rejectedACKCode": "AR",

                    "rejectedACKMessage": "Message Rejected.",

                    "msh15ACKAccept": false,

                    "dateFormat": "yyyyMMddHHmmss.SSS"

                  },

                  "responseValidationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties",

                    "@version": "4.5.1",

                    "successfulACKCode": "AA,CA",

                    "errorACKCode": "AE,CE",

                    "rejectedACKCode": "AR,CR",

                    "validateMessageControlId": true,

                    "originalMessageControlId": "Destination_Encoded",

                    "originalIdMapVariable": null

                  }

                }

              },

              "filter": {

                "@version": "4.5.1",

                "elements": {

                  "com.mirth.connect.plugins.rulebuilder.RuleBuilderRule": {

                    "@version": "4.5.1",

                    "name": "Accept message if \"msg['MSH']['MSH.9']['MSH.9.2'].toString()\" equals 'A02' or 'A03' or 'A08'",

                    "sequenceNumber": 0,

                    "enabled": true,

                    "field": "msg['MSH']['MSH.9']['MSH.9.2'].toString()",

                    "condition": "EQUALS",

                    "values": {

                      "string": [

                        "'A02'",

                        "'A03'",

                        "'A08'"

                      ]

                    }

                  },

                  "com.mirth.connect.plugins.javascriptrule.JavaScriptRule": {

                    "@version": "4.5.1",

                    "name": "Accept message if patient merge",

                    "sequenceNumber": 1,

                    "enabled": true,

                    "operator": "OR",

                    "script": "if(msg['MSH']['MSH.9']['MSH.9.2'].toString()=='A34' &&\n\tmsg['PV1']['PV1.19']['PV1.19.1'].toString()==''){\n\treturn true;\n}"

                  }

                }

              },

              "transportName": "TCP Sender",

              "mode": "DESTINATION",

              "enabled": true,

              "waitForPrevious": false

            },

            {

              "@version": "4.5.1",

              "metaDataId": 9,

              "name": "Sanalogic",

              "properties": {

                "@class": "com.mirth.connect.connectors.tcp.TcpDispatcherProperties",

                "@version": "4.5.1",

                "pluginProperties": null,

                "destinationConnectorProperties": {

                  "@version": "4.5.1",

                  "queueEnabled": true,

                  "sendFirst": true,

                  "retryIntervalMillis": 10000,

                  "regenerateTemplate": true,

                  "retryCount": 0,

                  "rotate": false,

                  "includeFilterTransformer": false,

                  "threadCount": 1,

                  "threadAssignmentVariable": null,

                  "validateResponse": true,

                  "resourceIds": {

                    "@class": "linked-hash-map",

                    "entry": {

                      "string": [

                        "Default Resource",

                        "[Default Resource]"

                      ]

                    }

                  },

                  "queueBufferSize": 1000,

                  "reattachAttachments": true

                },

                "transmissionModeProperties": {

                  "@class": "com.mirth.connect.plugins.mllpmode.MLLPModeProperties",

                  "pluginPointName": "MLLP",

                  "startOfMessageBytes": "0B",

                  "endOfMessageBytes": "1C0D",

                  "useMLLPv2": false,

                  "ackBytes": "06",

                  "nackBytes": 15,

                  "maxRetries": 2

                },

                "serverMode": false,

                "remoteAddress": "SRV-SALO-01",

                "remotePort": 9000,

                "overrideLocalBinding": false,

                "localAddress": "0.0.0.0",

                "localPort": 0,

                "sendTimeout": 5000,

                "bufferSize": 65536,

                "maxConnections": 10,

                "keepConnectionOpen": false,

                "checkRemoteHost": true,

                "responseTimeout": 5000,

                "ignoreResponse": false,

                "queueOnResponseTimeout": true,

                "dataTypeBinary": false,

                "charsetEncoding": "ISO-8859-15",

                "template": "${message.encodedData}"

              },

              "transformer": {

                "@version": "4.5.1",

                "elements": {

                  "com.mirth.connect.plugins.javascriptstep.JavaScriptStep": [

                    {

                      "@version": "4.5.1",

                      "name": "prepare tmp",

                      "sequenceNumber": 0,

                      "enabled": true,

                      "script": "tmp = msg.copy();"

                    },

                    {

                      "@version": "4.5.1",

                      "name": "adjust outgoing msg",

                      "sequenceNumber": 1,

                      "enabled": true,

                      "script": "tmp['MSH']['MSH.5']['MSH.5.1'] = 'SANALOGIC';\nvar searchIn = msg['PV1']['PV1.15']['PV1.15.1'].toString();\nvar searchFor = 'PW';\nif(searchIn.indexOf(searchFor) != -1)\n\t{\n\t\ttmp['PV1']['PV1.21']['PV1.21.1']=\"P\";\n\t}\nelse\n\t{\t\n\t\ttmp['PV1']['PV1.21']['PV1.21.1']=\"A\";\n\t}"

                    },

                    {

                      "@version": "4.5.1",

                      "name": "delete segments",

                      "sequenceNumber": 2,

                      "enabled": true,

                      "script": "delete tmp['DG1'];\ndelete tmp['PR1'];\ndelete tmp['NK1'];\ndelete tmp['PV2'];\ndelete tmp['GT1'];\ndelete tmp['IN1'];\ndelete tmp['ZBE'];\ndelete tmp['AL1'];\ndelete tmp['OBX'];"

                    },

                    {

                      "@version": "4.5.1",

                      "name": "room-bed merge intensivstation",

                      "sequenceNumber": 3,

                      "enabled": true,

                      "script": "if(msg['PV1']['PV1.3']['PV1.3.1'].toString()=='MEDINTENSIV' || msg['PV1']['PV1.3']['PV1.3.1'].toString()=='OPINT')\n{\n\ttmp['PV1']['PV1.3']['PV1.3.2']=msg['PV1']['PV1.3']['PV1.3.2'].toString()+msg['PV1']['PV1.3']['PV1.3.3'].toString();\n}"

                    }

                  ]

                },

                "inboundTemplate": {

                  "@encoding": "base64",

                  "$": "TVNIfF5+XCZ8RFBTfHxNSVJUSHx8MjAyNDEyMTIxMDI4Mjd8fEFEVF5BMDh8MzcyMTExODR8UHwyLjJ8fHxBTHxORQ1FVk58QTA4fDIwMjQxMjEyMTAyODI2DVBJRHx8Mzg3MzE2MHwzODczMTYwfDQ0MTE0NzYyfE5hc2VyaV5aYWhyYXx8MTk0NTA1MDIwMDAwMDB8V3x8fFNldW1lc3RyLiA0MV5eSGFtYnVyZ15eMjIwODleRHwwMDI1MDE1MDR8MDE3NiAyMDU1MTA2M3x8QUZHfHx8fHxudXNlcml0YWhlcjYzMEBnbWFpbC5jb218fHxIZXJhdHxOfHxBRkcNTksxfDF8TmFzZXJpXlRhaGVyfFNPSE58Xl5IYW1idXJnXl5eRHwwMTc2IDIwNTUxMDYzDVBWMXx8QXxBTUJaTkFeXl5VTkZPUlRIT3x8NDQxMTQ3NjJ8fHx8fHx8fHx8fHx8QU5PVHw0NDExNDc2Mnx8S3x8fHx8fHx8fHx8fHx8fHx8fDk4MDI5MHx8fHx8MjAyNDEyMTIxMDI3MDB8MjAyNDEyMTIyMDI3MDB8fHx8MHw0NDExNDc2Mg1PQlh8MXxDV0V8Q0FWRV5eSEw3LURFVV5QRVJTSU5GT15QZXJzb25lbmJlem9nZW5lIEluZm9ybWF0aW9uZW5eRFBTLVgxMDA2UFhUfHxDT1ZJREdFSU1QRlReQ09WSUQtMTkgMnggZ2VpbXBmdHx8fHx8fHx8fDIwMjIwOTE0XjIwOTkxMjMxDU9CWHwyfENXRXxDQVZFXl5ITDctREVVXlBFUlNJTkZPXlBlcnNvbmVuYmV6b2dlbmUgSW5mb3JtYXRpb25lbl5EUFMtWDEwMDZQWFR8fERTR1ZPTVZaXkRTR1ZPIE1WWiBFaW53LiB1bnRlcnNjaHJpZWJlbnx8fHx8fHx8fDIwMjIwODI5XjIwOTkxMjMxDUlOMXwxfFA0NjY4NzE3MTJ8MTA0MjEyNTA1fEFPSyBSaGVpbmxhbmQvSGFtYnVyZ3xLYXNlcm5lbnN0ci4gNjFeXkTDvHNzZWxkb3JmXl40MDIxM3x8MTk3NS8zfDR8T0ZGS1Z8fHx8MjAyNjA2MzB8fFJ8TmFzZXJpXlphaHJhfHwxOTQ1MDUwMnxTZXVtZXN0ci4gNDFeXkhhbWJ1cmdeXjIyMDg5XkR8fHx8fHx8fHx8MjAyNDEyMTIwMDAwMDB8fHx8fHw0MjEyNTA1XjI0MTAxXjA2MjZeNTAwMF40DQ=="

                },

                "outboundTemplate": {

                  "@encoding": "base64",

                  "$": "TVNIfF5+XCZ8RFBTfHxNSVJUSHx8MjAyNDEyMTIxMDI4Mjd8fEFEVF5BMDh8MzcyMTExODR8UHwyLjJ8fHxBTHxORQ1FVk58QTA4fDIwMjQxMjEyMTAyODI2DVBJRHx8Mzg3MzE2MHwzODczMTYwfDQ0MTE0NzYyfE5hc2VyaV5aYWhyYXx8MTk0NTA1MDIwMDAwMDB8V3x8fFNldW1lc3RyLiA0MV5eSGFtYnVyZ15eMjIwODleRHwwMDI1MDE1MDR8MDE3NiAyMDU1MTA2M3x8QUZHfHx8fHxudXNlcml0YWhlcjYzMEBnbWFpbC5jb218fHxIZXJhdHxOfHxBRkcNTksxfDF8TmFzZXJpXlRhaGVyfFNPSE58Xl5IYW1idXJnXl5eRHwwMTc2IDIwNTUxMDYzDVBWMXx8QXxBTUJaTkFeXl5VTkZPUlRIT3x8NDQxMTQ3NjJ8fHx8fHx8fHx8fHx8QU5PVHw0NDExNDc2Mnx8S3x8fHx8fHx8fHx8fHx8fHx8fDk4MDI5MHx8fHx8MjAyNDEyMTIxMDI3MDB8MjAyNDEyMTIyMDI3MDB8fHx8MHw0NDExNDc2Mg1PQlh8MXxDV0V8Q0FWRV5eSEw3LURFVV5QRVJTSU5GT15QZXJzb25lbmJlem9nZW5lIEluZm9ybWF0aW9uZW5eRFBTLVgxMDA2UFhUfHxDT1ZJREdFSU1QRlReQ09WSUQtMTkgMnggZ2VpbXBmdHx8fHx8fHx8fDIwMjIwOTE0XjIwOTkxMjMxDU9CWHwyfENXRXxDQVZFXl5ITDctREVVXlBFUlNJTkZPXlBlcnNvbmVuYmV6b2dlbmUgSW5mb3JtYXRpb25lbl5EUFMtWDEwMDZQWFR8fERTR1ZPTVZaXkRTR1ZPIE1WWiBFaW53LiB1bnRlcnNjaHJpZWJlbnx8fHx8fHx8fDIwMjIwODI5XjIwOTkxMjMxDUlOMXwxfFA0NjY4NzE3MTJ8MTA0MjEyNTA1fEFPSyBSaGVpbmxhbmQvSGFtYnVyZ3xLYXNlcm5lbnN0ci4gNjFeXkTDvHNzZWxkb3JmXl40MDIxM3x8MTk3NS8zfDR8T0ZGS1Z8fHx8MjAyNjA2MzB8fFJ8TmFzZXJpXlphaHJhfHwxOTQ1MDUwMnxTZXVtZXN0ci4gNDFeXkhhbWJ1cmdeXjIyMDg5XkR8fHx8fHx8fHx8MjAyNDEyMTIwMDAwMDB8fHx8fHw0MjEyNTA1XjI0MTAxXjA2MjZeNTAwMF40DQ=="

                },

                "inboundDataType": "HL7V2",

                "outboundDataType": "HL7V2",

                "inboundProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties",

                  "@version": "4.5.1",

                  "serializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties",

                    "@version": "4.5.1",

                    "handleRepetitions": true,

                    "handleSubcomponents": true,

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "stripNamespaces": false,

                    "segmentDelimiter": "\\r",

                    "convertLineBreaks": true

                  },

                  "deserializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties",

                    "@version": "4.5.1",

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "segmentDelimiter": "\\r"

                  },

                  "batchProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties",

                    "@version": "4.5.1",

                    "splitType": "MSH_Segment",

                    "batchScript": null

                  },

                  "responseGenerationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties",

                    "@version": "4.5.1",

                    "segmentDelimiter": "\\r",

                    "successfulACKCode": "AA",

                    "successfulACKMessage": null,

                    "errorACKCode": "AE",

                    "errorACKMessage": "An Error Occurred Processing Message.",

                    "rejectedACKCode": "AR",

                    "rejectedACKMessage": "Message Rejected.",

                    "msh15ACKAccept": false,

                    "dateFormat": "yyyyMMddHHmmss.SSS"

                  },

                  "responseValidationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties",

                    "@version": "4.5.1",

                    "successfulACKCode": "AA,CA",

                    "errorACKCode": "AE,CE",

                    "rejectedACKCode": "AR,CR",

                    "validateMessageControlId": true,

                    "originalMessageControlId": "Destination_Encoded",

                    "originalIdMapVariable": null

                  }

                },

                "outboundProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties",

                  "@version": "4.5.1",

                  "serializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties",

                    "@version": "4.5.1",

                    "handleRepetitions": true,

                    "handleSubcomponents": true,

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "stripNamespaces": false,

                    "segmentDelimiter": "\\r",

                    "convertLineBreaks": true

                  },

                  "deserializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties",

                    "@version": "4.5.1",

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "segmentDelimiter": "\\r"

                  },

                  "batchProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties",

                    "@version": "4.5.1",

                    "splitType": "MSH_Segment",

                    "batchScript": null

                  },

                  "responseGenerationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties",

                    "@version": "4.5.1",

                    "segmentDelimiter": "\\r",

                    "successfulACKCode": "AA",

                    "successfulACKMessage": null,

                    "errorACKCode": "AE",

                    "errorACKMessage": "An Error Occurred Processing Message.",

                    "rejectedACKCode": "AR",

                    "rejectedACKMessage": "Message Rejected.",

                    "msh15ACKAccept": false,

                    "dateFormat": "yyyyMMddHHmmss.SSS"

                  },

                  "responseValidationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties",

                    "@version": "4.5.1",

                    "successfulACKCode": "AA,CA",

                    "errorACKCode": "AE,CE",

                    "rejectedACKCode": "AR,CR",

                    "validateMessageControlId": true,

                    "originalMessageControlId": "Destination_Encoded",

                    "originalIdMapVariable": null

                  }

                }

              },

              "responseTransformer": {

                "@version": "4.5.1",

                "elements": null,

                "inboundDataType": "HL7V2",

                "outboundDataType": "HL7V2",

                "inboundProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties",

                  "@version": "4.5.1",

                  "serializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties",

                    "@version": "4.5.1",

                    "handleRepetitions": true,

                    "handleSubcomponents": true,

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "stripNamespaces": false,

                    "segmentDelimiter": "\\r",

                    "convertLineBreaks": true

                  },

                  "deserializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties",

                    "@version": "4.5.1",

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "segmentDelimiter": "\\r"

                  },

                  "batchProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties",

                    "@version": "4.5.1",

                    "splitType": "MSH_Segment",

                    "batchScript": null

                  },

                  "responseGenerationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties",

                    "@version": "4.5.1",

                    "segmentDelimiter": "\\r",

                    "successfulACKCode": "AA",

                    "successfulACKMessage": null,

                    "errorACKCode": "AE",

                    "errorACKMessage": "An Error Occurred Processing Message.",

                    "rejectedACKCode": "AR",

                    "rejectedACKMessage": "Message Rejected.",

                    "msh15ACKAccept": false,

                    "dateFormat": "yyyyMMddHHmmss.SSS"

                  },

                  "responseValidationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties",

                    "@version": "4.5.1",

                    "successfulACKCode": "AA,CA",

                    "errorACKCode": "AE,CE",

                    "rejectedACKCode": "AR,CR",

                    "validateMessageControlId": true,

                    "originalMessageControlId": "Destination_Encoded",

                    "originalIdMapVariable": null

                  }

                },

                "outboundProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties",

                  "@version": "4.5.1",

                  "serializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties",

                    "@version": "4.5.1",

                    "handleRepetitions": true,

                    "handleSubcomponents": true,

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "stripNamespaces": false,

                    "segmentDelimiter": "\\r",

                    "convertLineBreaks": true

                  },

                  "deserializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties",

                    "@version": "4.5.1",

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "segmentDelimiter": "\\r"

                  },

                  "batchProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties",

                    "@version": "4.5.1",

                    "splitType": "MSH_Segment",

                    "batchScript": null

                  },

                  "responseGenerationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties",

                    "@version": "4.5.1",

                    "segmentDelimiter": "\\r",

                    "successfulACKCode": "AA",

                    "successfulACKMessage": null,

                    "errorACKCode": "AE",

                    "errorACKMessage": "An Error Occurred Processing Message.",

                    "rejectedACKCode": "AR",

                    "rejectedACKMessage": "Message Rejected.",

                    "msh15ACKAccept": false,

                    "dateFormat": "yyyyMMddHHmmss.SSS"

                  },

                  "responseValidationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties",

                    "@version": "4.5.1",

                    "successfulACKCode": "AA,CA",

                    "errorACKCode": "AE,CE",

                    "rejectedACKCode": "AR,CR",

                    "validateMessageControlId": true,

                    "originalMessageControlId": "Destination_Encoded",

                    "originalIdMapVariable": null

                  }

                }

              },

              "filter": {

                "@version": "4.5.1",

                "elements": {

                  "com.mirth.connect.plugins.javascriptrule.JavaScriptRule": {

                    "@version": "4.5.1",

                    "name": "Filter PV1.2.1 == 'A' except for EVN.1.1 != 'A07'",

                    "sequenceNumber": 0,

                    "enabled": true,

                    "script": "if(msg['PV1']['PV1.49']['PV1.49.1'].toString() == 0)\n{\n\tif(msg['PV1']['PV1.2']['PV1.2.1'].toString()=='A')\n\t{\n\t\tif(msg['EVN']['EVN.1']['EVN.1.1'].toString()=='A07')\n\t\t{\n\t\t\treturn true;\n\t\t}\n\t\telse\n\t\t{\n\t\t\treturn false;\n\t\t}\n\t}\n\telse\n\t{\n\t\treturn true;\n\t}\n}\nelse{\n\treturn false;\n}"

                  },

                  "com.mirth.connect.plugins.rulebuilder.RuleBuilderRule": {

                    "@version": "4.5.1",

                    "name": "Accept message if \"msg['PV1']['PV1.3']['PV1.3.1'].toString()\" does not equal 'CHIR5'",

                    "sequenceNumber": 1,

                    "enabled": true,

                    "operator": "AND",

                    "field": "msg['PV1']['PV1.3']['PV1.3.1'].toString()",

                    "condition": "NOT_EQUAL",

                    "values": {

                      "string": "'CHIR5'"

                    }

                  }

                }

              },

              "transportName": "TCP Sender",

              "mode": "DESTINATION",

              "enabled": true,

              "waitForPrevious": false

            },

            {

              "@version": "4.5.1",

              "metaDataId": 10,

              "name": "Visus Jivex",

              "properties": {

                "@class": "com.mirth.connect.connectors.tcp.TcpDispatcherProperties",

                "@version": "4.5.1",

                "pluginProperties": null,

                "destinationConnectorProperties": {

                  "@version": "4.5.1",

                  "queueEnabled": true,

                  "sendFirst": true,

                  "retryIntervalMillis": 10000,

                  "regenerateTemplate": true,

                  "retryCount": 0,

                  "rotate": false,

                  "includeFilterTransformer": false,

                  "threadCount": 1,

                  "threadAssignmentVariable": null,

                  "validateResponse": true,

                  "resourceIds": {

                    "@class": "linked-hash-map",

                    "entry": {

                      "string": [

                        "Default Resource",

                        "[Default Resource]"

                      ]

                    }

                  },

                  "queueBufferSize": 1000,

                  "reattachAttachments": true

                },

                "transmissionModeProperties": {

                  "@class": "com.mirth.connect.plugins.mllpmode.MLLPModeProperties",

                  "pluginPointName": "MLLP",

                  "startOfMessageBytes": "0B",

                  "endOfMessageBytes": "1C0D",

                  "useMLLPv2": false,

                  "ackBytes": "06",

                  "nackBytes": 15,

                  "maxRetries": 2

                },

                "serverMode": false,

                "remoteAddress": "172.19.2.207",

                "remotePort": 3380,

                "overrideLocalBinding": false,

                "localAddress": "0.0.0.0",

                "localPort": 0,

                "sendTimeout": 0,

                "bufferSize": 65536,

                "maxConnections": 10,

                "keepConnectionOpen": true,

                "checkRemoteHost": true,

                "responseTimeout": 5000,

                "ignoreResponse": false,

                "queueOnResponseTimeout": true,

                "dataTypeBinary": false,

                "charsetEncoding": "ISO-8859-15",

                "template": "${message.encodedData}"

              },

              "transformer": {

                "@version": "4.5.1",

                "elements": {

                  "com.mirth.connect.plugins.javascriptstep.JavaScriptStep": [

                    {

                      "@version": "4.5.1",

                      "name": "prepare tmp",

                      "sequenceNumber": 0,

                      "enabled": true,

                      "script": "tmp = msg.copy();"

                    },

                    {

                      "@version": "4.5.1",

                      "name": "Map A34 to A40 and A23 to A11",

                      "sequenceNumber": 1,

                      "enabled": true,

                      "script": "//26.11.2024 MWE\n//Umwandlung der A34 in eine A40\n\nif( msg['MSH']['MSH.9']['MSH.9.2'].toString() == 'A34' &&\n    msg['PV1']['PV1.19']['PV1.19.1'].toString().length>0)\n   {\n   \ttmp['MSH']['MSH.9']['MSH.9.2'] = 'A40';\n   \ttmp['EVN']['EVN.1']['EVN.1.1'] = 'A40';\n   \ttmp['MRG']['MRG.5']['MRG.5.1'] = msg['PV1']['PV1.19']['PV1.19.1'].toString();\n   }\n   \n   \n/* if(msg['MSH']['MSH.9']['MSH.9.2']=='A34'\n\t&& msg['PV1']['PV1.19']['PV1.19.1'].toString().length>0){\n\ttmp['MSH']['MSH.9']['MSH.9.2']='A40';\n\ttmp['EVN']['EVN.1']['EVN.1.1']='A40';\n\ttmp['MRG']['MRG.5']['MRG.5.1']=msg['PV1']['PV1.19']['PV1.19.1'].toString();\n} */\n\nif(msg['MSH']['MSH.9']['MSH.9.2']=='A23'){\n\ttmp['MSH']['MSH.9']['MSH.9.2']='A11';\n\ttmp['EVN']['EVN.1']['EVN.1.1']='A11';\n\t\n}"

                    },

                    {

                      "@version": "4.5.1",

                      "name": "delete segments",

                      "sequenceNumber": 2,

                      "enabled": true,

                      "script": "delete tmp['PR1'];\ndelete tmp['DG1'];\ndelete tmp['ZBE'];\ndelete tmp['AL1'];\ndelete tmp['OBX'];"

                    }

                  ]

                },

                "inboundTemplate": {

                  "@encoding": "base64",

                  "$": "TVNIfF5+XCZ8RFBTfHxNSVJUSHx8MjAyNDEyMTcwODQxMjZ8fEFEVF5BMDh8MzcyMzkwMjF8UHwyLjJ8fHxBTHxORQ1FVk58QTA4fDIwMjQxMjE3MDg0MTI1fDIwMjQxMjE3MDkwMDAwDVBJRHx8MzE3OTQzMXwzMTc5NDMxfDQ0MTE1OTM5fEVnZ2VydF5LYXJpbnx8MTk1NjAzMDgwMDAwMDB8V3x8fEjDpHVzbGVyc3RyLiAyY15eSGFtYnVyZ15eMjEwMzFeRHwwMDI2MDE2MDF8NzE4OTkyMDB8MDE3NzMxMjE5Mzl8ZGV1dHNjaHxWV3xFVkF8fHxrYXJpbmhvZXJnZXJ0QGdhbWlsLmNvbXx8fDk4NDY3NTU2SGFtYnVyZ3xOfHxEDVBWMXx8U1Z8QU1CVUNISVJeXl5VTkZPUlRIT3x8NDQxMTU5Mzl8fHx8fHx8fHx8fHx8U1ZBfDQ0MTE1OTM5fHxLfHx8fHx8fHx8fHx8fHx8fHx8OTQyMjAwfHx8fHwyMDI0MTIxNzA5MDAwMHwyMDI0MTIxNzIzNTkwMHx8fHwwfDQ0MTE1OTM5DU9CWHwxfENXRXxDQVZFXl5ITDctREVVXlBFUlNJTkZPXlBlcnNvbmVuYmV6b2dlbmUgSW5mb3JtYXRpb25lbl5EUFMtWDEwMDZQWFR8fENPVklER0VJTVBGVF5DT1ZJRC0xOSAyeCBnZWltcGZ0XjV4IGdlaW1wZnQvIDF4IGdlbmVzZW58fHx8fHx8fHwyMDIxMTAwNV4yMDk5MTIzMQ1BTDF8MXx8QTE5OTMzXzFeQWxsZXJnaWUgc3RydWt0dXJpZXJ0XklELVBIQVJNQV5BTExFUkdJRV5BbGxlcmdpZSBzdHJ1a3R1cmllcnReU1RSVUtBTExFUkdJXl5eSGF1c3N0YXVibWlsYmVuLUFsbGVyZ2VuZXh0cmFrdHx8fDIwMjExMDA1XjIwOTkxMjMxDUlOMXwxfFg5OTU2OTU0NzV8MjAwNDAwMDB8Vm9ybMOkdWZpZ2VyIEtvc3RlbnRyw6RnZXJ8fHx8MXxVTUJ8fHx8fHxSfEVnZ2VydF5LYXJpbnx8MTk1NjAzMDh8SMOkdXNsZXJzdHIuIDJjXl5IYW1idXJnXl4yMTAzMV5EfHx8fHx8fHx8fDIwMjQxMjE3MDAwMDAwfHx8fHx8NTgzMDAxNl4yNjAyXl41MDAwDQ=="

                },

                "outboundTemplate": {

                  "@encoding": "base64",

                  "$": "TVNIfF5+XCZ8RFBTfHxNSVJUSHx8MjAyNDEyMTIxMDI4Mjd8fEFEVF5BMDh8MzcyMTExODR8UHwyLjJ8fHxBTHxORQ1FVk58QTA4fDIwMjQxMjEyMTAyODI2DVBJRHx8Mzg3MzE2MHwzODczMTYwfDQ0MTE0NzYyfE5hc2VyaV5aYWhyYXx8MTk0NTA1MDIwMDAwMDB8V3x8fFNldW1lc3RyLiA0MV5eSGFtYnVyZ15eMjIwODleRHwwMDI1MDE1MDR8MDE3NiAyMDU1MTA2M3x8QUZHfHx8fHxudXNlcml0YWhlcjYzMEBnbWFpbC5jb218fHxIZXJhdHxOfHxBRkcNTksxfDF8TmFzZXJpXlRhaGVyfFNPSE58Xl5IYW1idXJnXl5eRHwwMTc2IDIwNTUxMDYzDVBWMXx8QXxBTUJaTkFeXl5VTkZPUlRIT3x8NDQxMTQ3NjJ8fHx8fHx8fHx8fHx8QU5PVHw0NDExNDc2Mnx8S3x8fHx8fHx8fHx8fHx8fHx8fDk4MDI5MHx8fHx8MjAyNDEyMTIxMDI3MDB8MjAyNDEyMTIyMDI3MDB8fHx8MHw0NDExNDc2Mg1PQlh8MXxDV0V8Q0FWRV5eSEw3LURFVV5QRVJTSU5GT15QZXJzb25lbmJlem9nZW5lIEluZm9ybWF0aW9uZW5eRFBTLVgxMDA2UFhUfHxDT1ZJREdFSU1QRlReQ09WSUQtMTkgMnggZ2VpbXBmdHx8fHx8fHx8fDIwMjIwOTE0XjIwOTkxMjMxDU9CWHwyfENXRXxDQVZFXl5ITDctREVVXlBFUlNJTkZPXlBlcnNvbmVuYmV6b2dlbmUgSW5mb3JtYXRpb25lbl5EUFMtWDEwMDZQWFR8fERTR1ZPTVZaXkRTR1ZPIE1WWiBFaW53LiB1bnRlcnNjaHJpZWJlbnx8fHx8fHx8fDIwMjIwODI5XjIwOTkxMjMxDUlOMXwxfFA0NjY4NzE3MTJ8MTA0MjEyNTA1fEFPSyBSaGVpbmxhbmQvSGFtYnVyZ3xLYXNlcm5lbnN0ci4gNjFeXkTDvHNzZWxkb3JmXl40MDIxM3x8MTk3NS8zfDR8T0ZGS1Z8fHx8MjAyNjA2MzB8fFJ8TmFzZXJpXlphaHJhfHwxOTQ1MDUwMnxTZXVtZXN0ci4gNDFeXkhhbWJ1cmdeXjIyMDg5XkR8fHx8fHx8fHx8MjAyNDEyMTIwMDAwMDB8fHx8fHw0MjEyNTA1XjI0MTAxXjA2MjZeNTAwMF40DQ=="

                },

                "inboundDataType": "HL7V2",

                "outboundDataType": "HL7V2",

                "inboundProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties",

                  "@version": "4.5.1",

                  "serializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties",

                    "@version": "4.5.1",

                    "handleRepetitions": true,

                    "handleSubcomponents": true,

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "stripNamespaces": false,

                    "segmentDelimiter": "\\r",

                    "convertLineBreaks": true

                  },

                  "deserializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties",

                    "@version": "4.5.1",

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "segmentDelimiter": "\\r"

                  },

                  "batchProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties",

                    "@version": "4.5.1",

                    "splitType": "MSH_Segment",

                    "batchScript": null

                  },

                  "responseGenerationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties",

                    "@version": "4.5.1",

                    "segmentDelimiter": "\\r",

                    "successfulACKCode": "AA",

                    "successfulACKMessage": null,

                    "errorACKCode": "AE",

                    "errorACKMessage": "An Error Occurred Processing Message.",

                    "rejectedACKCode": "AR",

                    "rejectedACKMessage": "Message Rejected.",

                    "msh15ACKAccept": false,

                    "dateFormat": "yyyyMMddHHmmss.SSS"

                  },

                  "responseValidationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties",

                    "@version": "4.5.1",

                    "successfulACKCode": "AA,CA",

                    "errorACKCode": "AE,CE",

                    "rejectedACKCode": "AR,CR",

                    "validateMessageControlId": true,

                    "originalMessageControlId": "Destination_Encoded",

                    "originalIdMapVariable": null

                  }

                },

                "outboundProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties",

                  "@version": "4.5.1",

                  "serializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties",

                    "@version": "4.5.1",

                    "handleRepetitions": true,

                    "handleSubcomponents": true,

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "stripNamespaces": false,

                    "segmentDelimiter": "\\r",

                    "convertLineBreaks": true

                  },

                  "deserializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties",

                    "@version": "4.5.1",

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "segmentDelimiter": "\\r"

                  },

                  "batchProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties",

                    "@version": "4.5.1",

                    "splitType": "MSH_Segment",

                    "batchScript": null

                  },

                  "responseGenerationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties",

                    "@version": "4.5.1",

                    "segmentDelimiter": "\\r",

                    "successfulACKCode": "AA",

                    "successfulACKMessage": null,

                    "errorACKCode": "AE",

                    "errorACKMessage": "An Error Occurred Processing Message.",

                    "rejectedACKCode": "AR",

                    "rejectedACKMessage": "Message Rejected.",

                    "msh15ACKAccept": false,

                    "dateFormat": "yyyyMMddHHmmss.SSS"

                  },

                  "responseValidationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties",

                    "@version": "4.5.1",

                    "successfulACKCode": "AA,CA",

                    "errorACKCode": "AE,CE",

                    "rejectedACKCode": "AR,CR",

                    "validateMessageControlId": true,

                    "originalMessageControlId": "Destination_Encoded",

                    "originalIdMapVariable": null

                  }

                }

              },

              "responseTransformer": {

                "@version": "4.5.1",

                "elements": null,

                "inboundDataType": "HL7V2",

                "outboundDataType": "HL7V2",

                "inboundProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties",

                  "@version": "4.5.1",

                  "serializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties",

                    "@version": "4.5.1",

                    "handleRepetitions": true,

                    "handleSubcomponents": true,

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "stripNamespaces": false,

                    "segmentDelimiter": "\\r",

                    "convertLineBreaks": true

                  },

                  "deserializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties",

                    "@version": "4.5.1",

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "segmentDelimiter": "\\r"

                  },

                  "batchProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties",

                    "@version": "4.5.1",

                    "splitType": "MSH_Segment",

                    "batchScript": null

                  },

                  "responseGenerationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties",

                    "@version": "4.5.1",

                    "segmentDelimiter": "\\r",

                    "successfulACKCode": "AA",

                    "successfulACKMessage": null,

                    "errorACKCode": "AE",

                    "errorACKMessage": "An Error Occurred Processing Message.",

                    "rejectedACKCode": "AR",

                    "rejectedACKMessage": "Message Rejected.",

                    "msh15ACKAccept": false,

                    "dateFormat": "yyyyMMddHHmmss.SSS"

                  },

                  "responseValidationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties",

                    "@version": "4.5.1",

                   "successfulACKCode": "AA,CA",

                    "errorACKCode": "AE,CE",

                    "rejectedACKCode": "AR,CR",

                    "validateMessageControlId": true,

                    "originalMessageControlId": "Destination_Encoded",

                    "originalIdMapVariable": null

                  }

                },

                "outboundProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties",

                  "@version": "4.5.1",

                  "serializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties",

                    "@version": "4.5.1",

                    "handleRepetitions": true,

                    "handleSubcomponents": true,

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "stripNamespaces": false,

                    "segmentDelimiter": "\\r",

                    "convertLineBreaks": true

                  },

                  "deserializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties",

                    "@version": "4.5.1",

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "segmentDelimiter": "\\r"

                  },

                  "batchProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties",

                    "@version": "4.5.1",

                    "splitType": "MSH_Segment",

                    "batchScript": null

                  },

                  "responseGenerationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties",

                    "@version": "4.5.1",

                    "segmentDelimiter": "\\r",

                    "successfulACKCode": "AA",

                    "successfulACKMessage": null,

                    "errorACKCode": "AE",

                    "errorACKMessage": "An Error Occurred Processing Message.",

                    "rejectedACKCode": "AR",

                    "rejectedACKMessage": "Message Rejected.",

                    "msh15ACKAccept": false,

                    "dateFormat": "yyyyMMddHHmmss.SSS"

                  },

                  "responseValidationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties",

                    "@version": "4.5.1",

                    "successfulACKCode": "AA,CA",

                    "errorACKCode": "AE,CE",

                    "rejectedACKCode": "AR,CR",

                    "validateMessageControlId": true,

                    "originalMessageControlId": "Destination_Encoded",

                    "originalIdMapVariable": null

                  }

                }

              },

              "filter": {

                "@version": "4.5.1",

                "elements": {

                  "com.mirth.connect.plugins.rulebuilder.RuleBuilderRule": [

                    {

                      "@version": "4.5.1",

                      "name": "Accept message if \"msg['PV1']['PV1.2']['PV1.2.1'].toString()\" does not equal 'U'",

                      "sequenceNumber": 0,

                      "enabled": true,

                      "field": "msg['PV1']['PV1.2']['PV1.2.1'].toString()",

                      "condition": "NOT_EQUAL",

                      "values": {

                        "string": "'U'"

                      }

                    },

                    {

                      "@version": "4.5.1",

                      "name": "Accept message if \"msg['MSH']['MSH.9']['MSH.9.2'].toString()\" does not equal 'A23'",

                      "sequenceNumber": 1,

                      "enabled": true,

                      "operator": "AND",

                      "field": "msg['MSH']['MSH.9']['MSH.9.2'].toString()",

                      "condition": "NOT_EQUAL",

                      "values": {

                        "string": "'A23'"

                      }

                    }

                  ]

                }

              },

              "transportName": "TCP Sender",

              "mode": "DESTINATION",

              "enabled": true,

              "waitForPrevious": false

            },

            {

              "@version": "4.5.1",

              "metaDataId": 11,

              "name": "Clinpath Channel Writer",

              "properties": {

                "@class": "com.mirth.connect.connectors.vm.VmDispatcherProperties",

                "@version": "4.5.1",

                "pluginProperties": null,

                "destinationConnectorProperties": {

                  "@version": "4.5.1",

                  "queueEnabled": true,

                  "sendFirst": true,

                  "retryIntervalMillis": 10000,

                  "regenerateTemplate": true,

                  "retryCount": 0,

                  "rotate": false,

                  "includeFilterTransformer": false,

                  "threadCount": 1,

                  "threadAssignmentVariable": null,

                  "validateResponse": true,

                  "resourceIds": {

                    "@class": "linked-hash-map",

                    "entry": {

                      "string": [

                        "Default Resource",

                        "[Default Resource]"

                      ]

                    }

                  },

                  "queueBufferSize": 1000,

                  "reattachAttachments": true

                },

                "channelId": "2a613bab-579c-4284-9d7e-0383ba8c016b",

                "channelTemplate": "${message.encodedData}",

                "mapVariables": null

              },

              "transformer": {

                "@version": "4.5.1",

                "elements": {

                  "com.mirth.connect.plugins.javascriptstep.JavaScriptStep": [

                    {

                      "@version": "4.5.1",

                      "name": "prepare tmp",

                      "sequenceNumber": 0,

                      "enabled": true,

                      "script": "tmp = msg.copy();"

                    },

                    {

                      "@version": "4.5.1",

                      "name": "adjust outgoing msg",

                      "sequenceNumber": 1,

                      "enabled": true,

                      "script": "tmp['MSH']['MSH.12']['MSH.12.1'] = '2.3';\ntmp['MSH']['MSH.4']['MSH.4.1'] = 'MKH';\ntmp['MSH']['MSH.6']['MSH.6.1'] = 'MKH';"

                    },

                    {

                      "@version": "4.5.1",

                      "name": "delete segments",

                      "sequenceNumber": 2,

                      "enabled": true,

                      "script": "delete tmp['PR1'];\ndelete tmp['DG1'];\ndelete tmp['ZBE'];\ndelete tmp['OBX'];"

                    }

                  ]

                },

                "inboundTemplate": {

                  "@encoding": "base64",

                  "$": "TVNIfF5+XCZ8RFBTfHxNSVJUSHx8MjAxNDExMjcwODM5MzF8fEFEVF5BMDh8MTY0MTI4Mzh8UHwyLjJ8fHxBTHxORQ1FVk58QTA4fDIwMTQxMTI3MDgzOTMxDVBJRHx8MzI0MjQ0MXwzMjQyNDQxfDM0MTE1MjE2fENlcm93c2thXkJlYXRhfFp3YXJhfDE5NjkwNzMxMDAwMDAwfFd8fHxNb3JzdW1lciBXZWcgM15eSGFtYnVyZ15eMjIxMTdeRHwwMDIwMDEwMTJ8NzEzODIxM3x8ZGV1dHNjaHxWSC58Ukt8fHx8fHxTdGFyZ2FyZHxOfHxEDU5LMXwxfENlcm93c2thXlNlcmdpdcOffEVIRU1BTk58VGlubnVtZXIgV2VnIDheXkhhbWJ1cmdeXjIyMTE3XkR8NzEzODIxMw1QVjF8fEF8QU1CWk5BXl5eVU5GQ0hJUnxOfDM0MTE1MjE2fHx8fEJPUkcsIEdeQm9yZ15HcmFjaW5hXjAyODUyOTcyOV5eRHIuIG1lZC5eRF4yMjExOV5IYW1idXJnXlNjaGlmZmJla2VyIFdlZyAyMzBeRlJeNjU0OTI2NzReNjU0OTI2NzV8fHx8fHx8fHxBTk9UfDM0MTE1MjE2fHxLfHx8fHx8fHx8fHx8fHx8fHx8OTgwMjkwfHx8fHwyMDE0MTEyNzA4MzcwMHwyMDE0MTEyNzE4MzcwMHx8fHwwfDM0MTE1MjE2DUlOMXwxfFgxMTc0MjczNjF8MTAxNTE5MjEzfEFPSyBSaGVpbmxhbmQvSGFtYnVyZ3xQYXBwZWxhbGxlZSAyMi0yNl5eSGFtYnVyZ15eMjIwODleRHx8MDQwIDIwMjMtMDB8MXxBT0t8fHx8MjAxNTA2MzB8fE18V29qZHlsYV5DaHJpc3RhfHwxOTQ5MDkyNXxCb3JzdGVsZXIgQ2hhdXNzZWUgMjcwIEJeXkhhbWJ1cmdeXjIyNDUzXkR8fHx8fHx8fHx8MjAxNTAxMjYwMDAwMDB8fHx8fHwxNTE5MjEzXjIxMDFeMDYxNV4xMDAwXjE="

                },

                "outboundTemplate": {

                  "@encoding": "base64",

                  "$": "TVNIfF5+XCZ8RFBTfHxNSVJUSHx8MjAxNDExMjcwODM5MzF8fEFEVF5BMDh8MTY0MTI4Mzh8UHwyLjJ8fHxBTHxORQ=="

                },

                "inboundDataType": "HL7V2",

                "outboundDataType": "HL7V2",

                "inboundProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties",

                  "@version": "4.5.1",

                  "serializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties",

                    "@version": "4.5.1",

                    "handleRepetitions": true,

                    "handleSubcomponents": true,

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "stripNamespaces": false,

                    "segmentDelimiter": "\\r",

                    "convertLineBreaks": true

                  },

                  "deserializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties",

                    "@version": "4.5.1",

                   "useStrictParser": false,

                    "useStrictValidation": false,

                    "segmentDelimiter": "\\r"

                  },

                  "batchProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties",

                    "@version": "4.5.1",

                    "splitType": "MSH_Segment",

                    "batchScript": null

                  },

                  "responseGenerationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties",

                    "@version": "4.5.1",

                    "segmentDelimiter": "\\r",

                    "successfulACKCode": "AA",

                    "successfulACKMessage": null,

                    "errorACKCode": "AE",

                    "errorACKMessage": "An Error Occurred Processing Message.",

                    "rejectedACKCode": "AR",

                    "rejectedACKMessage": "Message Rejected.",

                    "msh15ACKAccept": false,

                    "dateFormat": "yyyyMMddHHmmss.SSS"

                  },

                  "responseValidationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties",

                    "@version": "4.5.1",

                    "successfulACKCode": "AA,CA",

                    "errorACKCode": "AE,CE",

                    "rejectedACKCode": "AR,CR",

                    "validateMessageControlId": true,

                    "originalMessageControlId": "Destination_Encoded",

                    "originalIdMapVariable": null

                  }

                },

                "outboundProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties",

                  "@version": "4.5.1",

                  "serializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties",

                    "@version": "4.5.1",

                    "handleRepetitions": true,

                    "handleSubcomponents": true,

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "stripNamespaces": false,

                    "segmentDelimiter": "\\r",

                    "convertLineBreaks": true

                  },

                  "deserializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties",

                    "@version": "4.5.1",

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "segmentDelimiter": "\\r"

                  },

                  "batchProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties",

                    "@version": "4.5.1",

                    "splitType": "MSH_Segment",

                    "batchScript": null

                  },

                  "responseGenerationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties",

                    "@version": "4.5.1",

                    "segmentDelimiter": "\\r",

                    "successfulACKCode": "AA",

                    "successfulACKMessage": null,

                    "errorACKCode": "AE",

                    "errorACKMessage": "An Error Occurred Processing Message.",

                    "rejectedACKCode": "AR",

                    "rejectedACKMessage": "Message Rejected.",

                    "msh15ACKAccept": false,

                    "dateFormat": "yyyyMMddHHmmss.SSS"

                  },

                  "responseValidationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties",

                    "@version": "4.5.1",

                    "successfulACKCode": "AA,CA",

                    "errorACKCode": "AE,CE",

                    "rejectedACKCode": "AR,CR",

                    "validateMessageControlId": true,

                    "originalMessageControlId": "Destination_Encoded",

                    "originalIdMapVariable": null

                  }

                }

              },

              "responseTransformer": {

                "@version": "4.5.1",

                "elements": null,

                "inboundDataType": "HL7V2",

                "outboundDataType": "HL7V2",

                "inboundProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties",

                  "@version": "4.5.1",

                  "serializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties",

                    "@version": "4.5.1",

                    "handleRepetitions": true,

                    "handleSubcomponents": true,

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "stripNamespaces": false,

                    "segmentDelimiter": "\\r",

                    "convertLineBreaks": true

                  },

                  "deserializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties",

                    "@version": "4.5.1",

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "segmentDelimiter": "\\r"

                  },

                  "batchProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties",

                    "@version": "4.5.1",

                    "splitType": "MSH_Segment",

                    "batchScript": null

                  },

                  "responseGenerationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties",

                    "@version": "4.5.1",

                    "segmentDelimiter": "\\r",

                    "successfulACKCode": "AA",

                    "successfulACKMessage": null,

                    "errorACKCode": "AE",

                    "errorACKMessage": "An Error Occurred Processing Message.",

                    "rejectedACKCode": "AR",

                    "rejectedACKMessage": "Message Rejected.",

                    "msh15ACKAccept": false,

                    "dateFormat": "yyyyMMddHHmmss.SSS"

                  },

                  "responseValidationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties",

                    "@version": "4.5.1",

                   "successfulACKCode": "AA,CA",

                    "errorACKCode": "AE,CE",

                    "rejectedACKCode": "AR,CR",

                    "validateMessageControlId": true,

                    "originalMessageControlId": "Destination_Encoded",

                    "originalIdMapVariable": null

                  }

                },

                "outboundProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties",

                  "@version": "4.5.1",

                  "serializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties",

                    "@version": "4.5.1",

                    "handleRepetitions": true,

                    "handleSubcomponents": true,

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "stripNamespaces": false,

                    "segmentDelimiter": "\\r",

                    "convertLineBreaks": true

                  },

                  "deserializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties",

                    "@version": "4.5.1",

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "segmentDelimiter": "\\r"

                  },

                  "batchProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties",

                    "@version": "4.5.1",

                    "splitType": "MSH_Segment",

                    "batchScript": null

                  },

                  "responseGenerationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties",

                    "@version": "4.5.1",

                    "segmentDelimiter": "\\r",

                    "successfulACKCode": "AA",

                    "successfulACKMessage": null,

                    "errorACKCode": "AE",

                    "errorACKMessage": "An Error Occurred Processing Message.",

                    "rejectedACKCode": "AR",

                    "rejectedACKMessage": "Message Rejected.",

                    "msh15ACKAccept": false,

                    "dateFormat": "yyyyMMddHHmmss.SSS"

                  },

                  "responseValidationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties",

                    "@version": "4.5.1",

                    "successfulACKCode": "AA,CA",

                    "errorACKCode": "AE,CE",

                    "rejectedACKCode": "AR,CR",

                    "validateMessageControlId": true,

                    "originalMessageControlId": "Destination_Encoded",

                    "originalIdMapVariable": null

                  }

                }

              },

              "filter": {

                "@version": "4.5.1",

                "elements": null

              },

              "transportName": "Channel Writer",

              "mode": "DESTINATION",

              "enabled": true,

              "waitForPrevious": false

            },

            {

              "@version": "4.5.1",

              "metaDataId": 12,

              "name": "Auritec",

              "properties": {

                "@class": "com.mirth.connect.connectors.tcp.TcpDispatcherProperties",

                "@version": "4.5.1",

                "pluginProperties": null,

                "destinationConnectorProperties": {

                  "@version": "4.5.1",

                  "queueEnabled": true,

                  "sendFirst": true,

                  "retryIntervalMillis": 10000,

                  "regenerateTemplate": true,

                  "retryCount": 0,

                  "rotate": false,

                  "includeFilterTransformer": false,

                  "threadCount": 1,

                  "threadAssignmentVariable": null,

                  "validateResponse": true,

                  "resourceIds": {

                    "@class": "linked-hash-map",

                    "entry": {

                      "string": [

                        "Default Resource",

                        "[Default Resource]"

                      ]

                    }

                  },

                  "queueBufferSize": 1000,

                  "reattachAttachments": true

                },

                "transmissionModeProperties": {

                  "@class": "com.mirth.connect.plugins.mllpmode.MLLPModeProperties",

                  "pluginPointName": "MLLP",

                  "startOfMessageBytes": "0B",

                  "endOfMessageBytes": "1C0D",

                  "useMLLPv2": false,

                  "ackBytes": "06",

                  "nackBytes": 15,

                  "maxRetries": 2

                },

                "serverMode": false,

                "remoteAddress": "172.19.2.220",

                "remotePort": 6300,

                "overrideLocalBinding": false,

                "localAddress": "0.0.0.0",

                "localPort": 0,

                "sendTimeout": 0,

                "bufferSize": 65536,

                "maxConnections": 10,

                "keepConnectionOpen": true,

                "checkRemoteHost": true,

                "responseTimeout": 5000,

                "ignoreResponse": false,

                "queueOnResponseTimeout": true,

                "dataTypeBinary": false,

                "charsetEncoding": "ISO-8859-15",

                "template": "${message.encodedData}"

              },

              "transformer": {

                "@version": "4.5.1",

                "elements": {

                  "com.mirth.connect.plugins.javascriptstep.JavaScriptStep": [

                    {

                      "@version": "4.5.1",

                      "name": "prepare tmp",

                      "sequenceNumber": 0,

                      "enabled": true,

                      "script": "tmp = msg.copy();"

                    },

                    {

                      "@version": "4.5.1",

                      "name": "delete segments",

                      "sequenceNumber": 1,

                      "enabled": true,

                      "script": "delete tmp['DG1'];\ndelete tmp['PR1'];\ndelete tmp['ZBE'];"

                    }

                  ]

                },

                "inboundTemplate": {

                  "@encoding": "base64",

                  "$": "TVNIfF5+XCZ8RFBTfHxNSVJUSHx8MjAyNDEyMTIxMDI4Mjd8fEFEVF5BMDh8MzcyMTExODR8UHwyLjJ8fHxBTHxORQ1FVk58QTA4fDIwMjQxMjEyMTAyODI2DVBJRHx8Mzg3MzE2MHwzODczMTYwfDQ0MTE0NzYyfE5hc2VyaV5aYWhyYXx8MTk0NTA1MDIwMDAwMDB8V3x8fFNldW1lc3RyLiA0MV5eSGFtYnVyZ15eMjIwODleRHwwMDI1MDE1MDR8MDE3NiAyMDU1MTA2M3x8QUZHfHx8fHxudXNlcml0YWhlcjYzMEBnbWFpbC5jb218fHxIZXJhdHxOfHxBRkcNTksxfDF8TmFzZXJpXlRhaGVyfFNPSE58Xl5IYW1idXJnXl5eRHwwMTc2IDIwNTUxMDYzDVBWMXx8QXxBTUJaTkFeXl5VTkZPUlRIT3x8NDQxMTQ3NjJ8fHx8fHx8fHx8fHx8QU5PVHw0NDExNDc2Mnx8S3x8fHx8fHx8fHx8fHx8fHx8fDk4MDI5MHx8fHx8MjAyNDEyMTIxMDI3MDB8MjAyNDEyMTIyMDI3MDB8fHx8MHw0NDExNDc2Mg1PQlh8MXxDV0V8Q0FWRV5eSEw3LURFVV5QRVJTSU5GT15QZXJzb25lbmJlem9nZW5lIEluZm9ybWF0aW9uZW5eRFBTLVgxMDA2UFhUfHxDT1ZJREdFSU1QRlReQ09WSUQtMTkgMnggZ2VpbXBmdHx8fHx8fHx8fDIwMjIwOTE0XjIwOTkxMjMxDU9CWHwyfENXRXxDQVZFXl5ITDctREVVXlBFUlNJTkZPXlBlcnNvbmVuYmV6b2dlbmUgSW5mb3JtYXRpb25lbl5EUFMtWDEwMDZQWFR8fERTR1ZPTVZaXkRTR1ZPIE1WWiBFaW53LiB1bnRlcnNjaHJpZWJlbnx8fHx8fHx8fDIwMjIwODI5XjIwOTkxMjMxDUlOMXwxfFA0NjY4NzE3MTJ8MTA0MjEyNTA1fEFPSyBSaGVpbmxhbmQvSGFtYnVyZ3xLYXNlcm5lbnN0ci4gNjFeXkTDvHNzZWxkb3JmXl40MDIxM3x8MTk3NS8zfDR8T0ZGS1Z8fHx8MjAyNjA2MzB8fFJ8TmFzZXJpXlphaHJhfHwxOTQ1MDUwMnxTZXVtZXN0ci4gNDFeXkhhbWJ1cmdeXjIyMDg5XkR8fHx8fHx8fHx8MjAyNDEyMTIwMDAwMDB8fHx8fHw0MjEyNTA1XjI0MTAxXjA2MjZeNTAwMF40DQ=="

                },

                "outboundTemplate": {

                  "@encoding": "base64",

                  "$": "TVNIfF5+XCZ8RFBTfHxNSVJUSHx8MjAyNDEyMTIxMDI4Mjd8fEFEVF5BMDh8MzcyMTExODR8UHwyLjJ8fHxBTHxORQ1FVk58QTA4fDIwMjQxMjEyMTAyODI2DVBJRHx8Mzg3MzE2MHwzODczMTYwfDQ0MTE0NzYyfE5hc2VyaV5aYWhyYXx8MTk0NTA1MDIwMDAwMDB8V3x8fFNldW1lc3RyLiA0MV5eSGFtYnVyZ15eMjIwODleRHwwMDI1MDE1MDR8MDE3NiAyMDU1MTA2M3x8QUZHfHx8fHxudXNlcml0YWhlcjYzMEBnbWFpbC5jb218fHxIZXJhdHxOfHxBRkcNTksxfDF8TmFzZXJpXlRhaGVyfFNPSE58Xl5IYW1idXJnXl5eRHwwMTc2IDIwNTUxMDYzDVBWMXx8QXxBTUJaTkFeXl5VTkZPUlRIT3x8NDQxMTQ3NjJ8fHx8fHx8fHx8fHx8QU5PVHw0NDExNDc2Mnx8S3x8fHx8fHx8fHx8fHx8fHx8fDk4MDI5MHx8fHx8MjAyNDEyMTIxMDI3MDB8MjAyNDEyMTIyMDI3MDB8fHx8MHw0NDExNDc2Mg1PQlh8MXxDV0V8Q0FWRV5eSEw3LURFVV5QRVJTSU5GT15QZXJzb25lbmJlem9nZW5lIEluZm9ybWF0aW9uZW5eRFBTLVgxMDA2UFhUfHxDT1ZJREdFSU1QRlReQ09WSUQtMTkgMnggZ2VpbXBmdHx8fHx8fHx8fDIwMjIwOTE0XjIwOTkxMjMxDU9CWHwyfENXRXxDQVZFXl5ITDctREVVXlBFUlNJTkZPXlBlcnNvbmVuYmV6b2dlbmUgSW5mb3JtYXRpb25lbl5EUFMtWDEwMDZQWFR8fERTR1ZPTVZaXkRTR1ZPIE1WWiBFaW53LiB1bnRlcnNjaHJpZWJlbnx8fHx8fHx8fDIwMjIwODI5XjIwOTkxMjMxDUlOMXwxfFA0NjY4NzE3MTJ8MTA0MjEyNTA1fEFPSyBSaGVpbmxhbmQvSGFtYnVyZ3xLYXNlcm5lbnN0ci4gNjFeXkTDvHNzZWxkb3JmXl40MDIxM3x8MTk3NS8zfDR8T0ZGS1Z8fHx8MjAyNjA2MzB8fFJ8TmFzZXJpXlphaHJhfHwxOTQ1MDUwMnxTZXVtZXN0ci4gNDFeXkhhbWJ1cmdeXjIyMDg5XkR8fHx8fHx8fHx8MjAyNDEyMTIwMDAwMDB8fHx8fHw0MjEyNTA1XjI0MTAxXjA2MjZeNTAwMF40DQ=="

                },

                "inboundDataType": "HL7V2",

                "outboundDataType": "HL7V2",

                "inboundProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties",

                  "@version": "4.5.1",

                  "serializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties",

                    "@version": "4.5.1",

                    "handleRepetitions": true,

                    "handleSubcomponents": true,

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "stripNamespaces": false,

                    "segmentDelimiter": "\\r",

                    "convertLineBreaks": true

                  },

                  "deserializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties",

                    "@version": "4.5.1",

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "segmentDelimiter": "\\r"

                  },

                  "batchProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties",

                    "@version": "4.5.1",

                    "splitType": "MSH_Segment",

                    "batchScript": null

                  },

                  "responseGenerationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties",

                    "@version": "4.5.1",

                    "segmentDelimiter": "\\r",

                    "successfulACKCode": "AA",

                    "successfulACKMessage": null,

                    "errorACKCode": "AE",

                    "errorACKMessage": "An Error Occurred Processing Message.",

                    "rejectedACKCode": "AR",

                    "rejectedACKMessage": "Message Rejected.",

                    "msh15ACKAccept": false,

                    "dateFormat": "yyyyMMddHHmmss.SSS"

                  },

                  "responseValidationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties",

                    "@version": "4.5.1",

                    "successfulACKCode": "AA,CA",

                    "errorACKCode": "AE,CE",

                    "rejectedACKCode": "AR,CR",

                    "validateMessageControlId": true,

                    "originalMessageControlId": "Destination_Encoded",

                    "originalIdMapVariable": null

                  }

                },

                "outboundProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties",

                  "@version": "4.5.1",

                  "serializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties",

                    "@version": "4.5.1",

                    "handleRepetitions": true,

                    "handleSubcomponents": true,

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "stripNamespaces": false,

                    "segmentDelimiter": "\\r",

                    "convertLineBreaks": true

                  },

                  "deserializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties",

                    "@version": "4.5.1",

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "segmentDelimiter": "\\r"

                  },

                  "batchProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties",

                    "@version": "4.5.1",

                    "splitType": "MSH_Segment",

                    "batchScript": null

                  },

                  "responseGenerationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties",

                    "@version": "4.5.1",

                    "segmentDelimiter": "\\r",

                    "successfulACKCode": "AA",

                    "successfulACKMessage": null,

                    "errorACKCode": "AE",

                    "errorACKMessage": "An Error Occurred Processing Message.",

                    "rejectedACKCode": "AR",

                    "rejectedACKMessage": "Message Rejected.",

                    "msh15ACKAccept": false,

                    "dateFormat": "yyyyMMddHHmmss.SSS"

                  },

                  "responseValidationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties",

                    "@version": "4.5.1",

                    "successfulACKCode": "AA,CA",

                    "errorACKCode": "AE,CE",

                    "rejectedACKCode": "AR,CR",

                    "validateMessageControlId": true,

                    "originalMessageControlId": "Destination_Encoded",

                    "originalIdMapVariable": null

                  }

                }

              },

              "responseTransformer": {

                "@version": "4.5.1",

                "elements": null,

                "inboundDataType": "HL7V2",

                "outboundDataType": "HL7V2",

                "inboundProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties",

                  "@version": "4.5.1",

                  "serializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties",

                    "@version": "4.5.1",

                    "handleRepetitions": true,

                    "handleSubcomponents": true,

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "stripNamespaces": false,

                    "segmentDelimiter": "\\r",

                    "convertLineBreaks": true

                  },

                  "deserializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties",

                    "@version": "4.5.1",

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "segmentDelimiter": "\\r"

                  },

                  "batchProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties",

                    "@version": "4.5.1",

                    "splitType": "MSH_Segment",

                    "batchScript": null

                  },

                  "responseGenerationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties",

                    "@version": "4.5.1",

                    "segmentDelimiter": "\\r",

                    "successfulACKCode": "AA",

                    "successfulACKMessage": null,

                    "errorACKCode": "AE",

                    "errorACKMessage": "An Error Occurred Processing Message.",

                    "rejectedACKCode": "AR",

                    "rejectedACKMessage": "Message Rejected.",

                    "msh15ACKAccept": false,

                    "dateFormat": "yyyyMMddHHmmss.SSS"

                  },

                  "responseValidationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties",

                    "@version": "4.5.1",

                    "successfulACKCode": "AA,CA",

                    "errorACKCode": "AE,CE",

                    "rejectedACKCode": "AR,CR",

                    "validateMessageControlId": true,

                    "originalMessageControlId": "Destination_Encoded",

                    "originalIdMapVariable": null

                  }

                },

                "outboundProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties",

                  "@version": "4.5.1",

                  "serializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties",

                    "@version": "4.5.1",

                    "handleRepetitions": true,

                    "handleSubcomponents": true,

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "stripNamespaces": false,

                    "segmentDelimiter": "\\r",

                    "convertLineBreaks": true

                  },

                  "deserializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties",

                    "@version": "4.5.1",

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "segmentDelimiter": "\\r"

                  },

                  "batchProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties",

                    "@version": "4.5.1",

                    "splitType": "MSH_Segment",

                    "batchScript": null

                  },

                  "responseGenerationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties",

                    "@version": "4.5.1",

                    "segmentDelimiter": "\\r",

                    "successfulACKCode": "AA",

                    "successfulACKMessage": null,

                    "errorACKCode": "AE",

                    "errorACKMessage": "An Error Occurred Processing Message.",

                    "rejectedACKCode": "AR",

                    "rejectedACKMessage": "Message Rejected.",

                    "msh15ACKAccept": false,

                    "dateFormat": "yyyyMMddHHmmss.SSS"

                  },

                  "responseValidationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties",

                    "@version": "4.5.1",

                    "successfulACKCode": "AA,CA",

                    "errorACKCode": "AE,CE",

                    "rejectedACKCode": "AR,CR",

                    "validateMessageControlId": true,

                    "originalMessageControlId": "Destination_Encoded",

                    "originalIdMapVariable": null

                  }

                }

              },

              "filter": {

                "@version": "4.5.1",

                "elements": {

                  "com.mirth.connect.plugins.rulebuilder.RuleBuilderRule": {

                    "@version": "4.5.1",

                    "name": "Accept message if \"msg['MSH']['MSH.9']['MSH.9.2'].toString()\" equals 'A01' or 'A04' or 'A08' or 'A11' or 'A28' or 'A31' or 'A34' or 'A40'",

                    "sequenceNumber": 0,

                    "enabled": true,

                    "field": "msg['MSH']['MSH.9']['MSH.9.2'].toString()",

                    "condition": "EQUALS",

                    "values": {

                      "string": [

                        "'A01'",

                        "'A04'",

                        "'A08'",

                        "'A11'",

                        "'A28'",

                        "'A31'",

                        "'A34'",

                        "'A40'"

                      ]

                    }

                  }

                }

              },

              "transportName": "TCP Sender",

              "mode": "DESTINATION",

              "enabled": true,

              "waitForPrevious": false

            },

            {

              "@version": "4.5.1",

              "metaDataId": 13,

              "name": "Logbuch",

              "properties": {

                "@class": "com.mirth.connect.connectors.tcp.TcpDispatcherProperties",

                "@version": "4.5.1",

                "pluginProperties": null,

                "destinationConnectorProperties": {

                  "@version": "4.5.1",

                  "queueEnabled": true,

                  "sendFirst": true,

                  "retryIntervalMillis": 10000,

                  "regenerateTemplate": true,

                  "retryCount": 0,

                  "rotate": false,

                  "includeFilterTransformer": false,

                  "threadCount": 1,

                  "threadAssignmentVariable": null,

                  "validateResponse": true,

                  "resourceIds": {

                    "@class": "linked-hash-map",

                    "entry": {

                      "string": [

                        "Default Resource",

                        "[Default Resource]"

                      ]

                    }

                  },

                  "queueBufferSize": 1000,

                  "reattachAttachments": true

                },

                "transmissionModeProperties": {

                  "@class": "com.mirth.connect.plugins.mllpmode.MLLPModeProperties",

                  "pluginPointName": "MLLP",

                  "startOfMessageBytes": "0B",

                  "endOfMessageBytes": "1C0D",

                  "useMLLPv2": false,

                  "ackBytes": "06",

                  "nackBytes": 15,

                  "maxRetries": 2

                },

                "serverMode": false,

                "remoteAddress": "172.19.2.138",

                "remotePort": 28001,

                "overrideLocalBinding": false,

                "localAddress": "0.0.0.0",

                "localPort": 0,

                "sendTimeout": 0,

                "bufferSize": 65536,

                "maxConnections": 10,

                "keepConnectionOpen": true,

                "checkRemoteHost": true,

                "responseTimeout": 5000,

                "ignoreResponse": false,

                "queueOnResponseTimeout": true,

                "dataTypeBinary": false,

                "charsetEncoding": "ISO-8859-15",

                "template": "${message.encodedData}"

              },

              "transformer": {

                "@version": "4.5.1",

                "elements": {

                  "com.mirth.connect.plugins.javascriptstep.JavaScriptStep": [

                    {

                      "@version": "4.5.1",

                      "name": "prepare tmp",

                      "sequenceNumber": 0,

                      "enabled": true,

                      "script": "tmp = msg.copy();"

                    },

                    {

                      "@version": "4.5.1",

                      "name": "adjust MSH",

                      "sequenceNumber": 1,

                      "enabled": true,

                      "script": "tmp['MSH']['MSH.5']['MSH.5.1'] = 'LOGBUCH';\n\n // msg['MSH']['MSH.5']['MSH.5.1'].toString() = 'LOGBUCH';"

                    },

                    {

                      "@version": "4.5.1",

                      "name": "Modify PV1-2",

                      "sequenceNumber": 3,

                      "enabled": true,

                      "script": "if (msg['MSH']['MSH.9']['MSH.9.2'].toString() != 'A34') {\n   tmp['PV1']['PV1.2']['PV1.2.1'] = $('Patient_Class');\n}\n\n/*if (msg['MSH']['MSH.9']['MSH.9.2'].toString() != 'A34') {\n   msg['PV1']['PV1.2']['PV1.2.1'].toString() = $('Patient_Class');\n}\n\n*/"

                    },

                    {

                      "@version": "4.5.1",

                      "name": "delete segments",

                      "sequenceNumber": 4,

                      "enabled": true,

                      "script": "delete tmp['DG1'];\ndelete tmp['PR1'];\ndelete tmp['ZBE'];\ndelete tmp['AL1'];\ndelete tmp['OBX'];\n\n/*\ndelete msg['DG1'].toString();\ndelete msg['PR1'].toString();\ndelete msg['ZBE'].toString();\ndelete msg['AL1'].toString();\ndelete msg['OBX'].toString();\n*/"

                    }

                  ],

                  "com.mirth.connect.plugins.mapper.MapperStep": {

                    "@version": "4.5.1",

                    "name": "Patient_Class",

                    "sequenceNumber": 2,

                    "enabled": true,

                    "variable": "Patient_Class",

                    "mapping": "msg['PV1']['PV1.2']['PV1.2.1'].toString()",

                    "defaultValue": "'U'",

                    "replacements": {

                      "org.apache.commons.lang3.tuple.ImmutablePair": [

                        {

                          "left": {

                            "@class": "string",

                            "$": "'A'"

                          },

                          "right": {

                            "@class": "string",

                            "$": "'O'"

                          }

                        },

                        {

                          "left": {

                            "@class": "string",

                            "$": "'S'"

                          },

                          "right": {

                            "@class": "string",

                            "$": "'I'"

                          }

                        },

                        {

                          "left": {

                            "@class": "string",

                            "$": "'SN'"

                          },

                          "right": {

                            "@class": "string",

                            "$": "'SN'"

                          }

                        },

                        {

                          "left": {

                            "@class": "string",

                            "$": "'SV'"

                          },

                          "right": {

                            "@class": "string",

                            "$": "'SV'"

                          }

                        }

                      ]

                    },

                    "scope": "CONNECTOR"

                  }

                },

                "inboundTemplate": {

                  "@encoding": "base64",

                  "$": "TVNIfF5+XCZ8RFBTfHxEQVRBR0FURXx8MjAxMjExMTkxMTAxNTl8fEFEVF5BMDh8MTMwMzkzNjh8UHwyLjJ8fHxBTHxORQpFVk58QTA4fDIwMTIxMTE5MTEwMTU5ClBJRHx8MzU0MjQ1OHwzNTQyNDU4fDMyMjk5MjMzfFd1bGZmXlNnbCBCZXx8MjAxMjExMTQwMDAwMDB8TXx8fEFtIEtuaWxsIDEzYiBeXkhhbWJ1cmdeXjIyMTQ3XkR8MDAyNTE4NTI2fDY0NyA4OSAwMjB8fGRldXRzY2h8fHx8fHx8fHxOfHxEClBWMXx8QXxBTUJaTkFeXl5VTkZDSElSfHwzMjMwMDI4MnxeXl58fHx8fHx8fHx8fHxBTk9UfDMyMzAwMjgyfHxLfHx8fHx8fHx8fHx8fHx8fHx8OTgwMjkwfHx8fHwyMDEyMTExOTAwMTQwMHwyMDEyMTExOTEwMTQwMHx8fHwwfDMyMzAwMjgy"

                },

                "outboundTemplate": {

                  "@encoding": "base64",

                  "$": "TVNIfF5+XCZ8RFBTfHxEQVRBR0FURXx8MjAxMjExMTkxMTAxNTl8fEFEVF5BMDh8MTMwMzkzNjh8UHwyLjJ8fHxBTHxORQo="

                },

                "inboundDataType": "HL7V2",

                "outboundDataType": "HL7V2",

                "inboundProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties",

                  "@version": "4.5.1",

                  "serializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties",

                    "@version": "4.5.1",

                    "handleRepetitions": true,

                    "handleSubcomponents": true,

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "stripNamespaces": false,

                    "segmentDelimiter": "\\r",

                    "convertLineBreaks": true

                  },

                  "deserializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties",

                    "@version": "4.5.1",

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "segmentDelimiter": "\\r"

                  },

                  "batchProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties",

                    "@version": "4.5.1",

                    "splitType": "MSH_Segment",

                    "batchScript": null

                  },

                  "responseGenerationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties",

                    "@version": "4.5.1",

                    "segmentDelimiter": "\\r",

                    "successfulACKCode": "AA",

                    "successfulACKMessage": null,

                    "errorACKCode": "AE",

                    "errorACKMessage": "An Error Occurred Processing Message.",

                    "rejectedACKCode": "AR",

                    "rejectedACKMessage": "Message Rejected.",

                    "msh15ACKAccept": false,

                    "dateFormat": "yyyyMMddHHmmss.SSS"

                  },

                  "responseValidationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties",

                    "@version": "4.5.1",

                    "successfulACKCode": "AA,CA",

                    "errorACKCode": "AE,CE",

                    "rejectedACKCode": "AR,CR",

                    "validateMessageControlId": true,

                    "originalMessageControlId": "Destination_Encoded",

                    "originalIdMapVariable": null

                  }

                },

                "outboundProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties",

                  "@version": "4.5.1",

                  "serializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties",

                    "@version": "4.5.1",

                    "handleRepetitions": true,

                    "handleSubcomponents": true,

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "stripNamespaces": false,

                    "segmentDelimiter": "\\r",

                    "convertLineBreaks": true

                  },

                  "deserializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties",

                    "@version": "4.5.1",

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "segmentDelimiter": "\\r"

                  },

                  "batchProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties",

                    "@version": "4.5.1",

                    "splitType": "MSH_Segment",

                    "batchScript": null

                  },

                  "responseGenerationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties",

                    "@version": "4.5.1",

                    "segmentDelimiter": "\\r",

                    "successfulACKCode": "AA",

                    "successfulACKMessage": null,

                    "errorACKCode": "AE",

                    "errorACKMessage": "An Error Occurred Processing Message.",

                    "rejectedACKCode": "AR",

                    "rejectedACKMessage": "Message Rejected.",

                    "msh15ACKAccept": false,

                    "dateFormat": "yyyyMMddHHmmss.SSS"

                  },

                  "responseValidationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties",

                    "@version": "4.5.1",

                    "successfulACKCode": "AA,CA",

                    "errorACKCode": "AE,CE",

                   "rejectedACKCode": "AR,CR",

                    "validateMessageControlId": true,

                    "originalMessageControlId": "Destination_Encoded",

                    "originalIdMapVariable": null

                  }

                }

              },

              "responseTransformer": {

                "@version": "4.5.1",

                "elements": null,

                "inboundDataType": "HL7V2",

                "outboundDataType": "HL7V2",

                "inboundProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties",

                  "@version": "4.5.1",

                  "serializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties",

                    "@version": "4.5.1",

                    "handleRepetitions": true,

                    "handleSubcomponents": true,

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "stripNamespaces": false,

                    "segmentDelimiter": "\\r",

                    "convertLineBreaks": true

                  },

                  "deserializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties",

                    "@version": "4.5.1",

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "segmentDelimiter": "\\r"

                  },

                  "batchProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties",

                    "@version": "4.5.1",

                    "splitType": "MSH_Segment",

                    "batchScript": null

                  },

                  "responseGenerationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties",

                    "@version": "4.5.1",

                    "segmentDelimiter": "\\r",

                    "successfulACKCode": "AA",

                    "successfulACKMessage": null,

                    "errorACKCode": "AE",

                    "errorACKMessage": "An Error Occurred Processing Message.",

                    "rejectedACKCode": "AR",

                    "rejectedACKMessage": "Message Rejected.",

                    "msh15ACKAccept": false,

                    "dateFormat": "yyyyMMddHHmmss.SSS"

                  },

                  "responseValidationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties",

                    "@version": "4.5.1",

                    "successfulACKCode": "AA,CA",

                    "errorACKCode": "AE,CE",

                    "rejectedACKCode": "AR,CR",

                    "validateMessageControlId": true,

                    "originalMessageControlId": "Destination_Encoded",

                    "originalIdMapVariable": null

                  }

                },

                "outboundProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties",

                  "@version": "4.5.1",

                  "serializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties",

                    "@version": "4.5.1",

                    "handleRepetitions": true,

                    "handleSubcomponents": true,

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "stripNamespaces": false,

                    "segmentDelimiter": "\\r",

                    "convertLineBreaks": true

                  },

                  "deserializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties",

                    "@version": "4.5.1",

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "segmentDelimiter": "\\r"

                  },

                  "batchProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties",

                    "@version": "4.5.1",

                    "splitType": "MSH_Segment",

                    "batchScript": null

                  },

                  "responseGenerationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties",

                    "@version": "4.5.1",

                    "segmentDelimiter": "\\r",

                    "successfulACKCode": "AA",

                    "successfulACKMessage": null,

                    "errorACKCode": "AE",

                    "errorACKMessage": "An Error Occurred Processing Message.",

                    "rejectedACKCode": "AR",

                    "rejectedACKMessage": "Message Rejected.",

                    "msh15ACKAccept": false,

                    "dateFormat": "yyyyMMddHHmmss.SSS"

                  },

                  "responseValidationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties",

                    "@version": "4.5.1",

                    "successfulACKCode": "AA,CA",

                    "errorACKCode": "AE,CE",

                    "rejectedACKCode": "AR,CR",

                    "validateMessageControlId": true,

                    "originalMessageControlId": "Destination_Encoded",

                    "originalIdMapVariable": null

                  }

                }

              },

              "filter": {

                "@version": "4.5.1",

                "elements": null

              },

              "transportName": "TCP Sender",

              "mode": "DESTINATION",

              "enabled": true,

              "waitForPrevious": false

            },

            {

              "@version": "4.5.1",

              "metaDataId": 14,

              "name": "WelchAllyn Vitalmonitoring",

              "properties": {

                "@class": "com.mirth.connect.connectors.tcp.TcpDispatcherProperties",

                "@version": "4.5.1",

                "pluginProperties": null,

                "destinationConnectorProperties": {

                  "@version": "4.5.1",

                  "queueEnabled": true,

                  "sendFirst": true,

                  "retryIntervalMillis": 10000,

                  "regenerateTemplate": true,

                  "retryCount": 0,

                  "rotate": false,

                  "includeFilterTransformer": false,

                  "threadCount": 1,

                  "threadAssignmentVariable": null,

                  "validateResponse": true,

                  "resourceIds": {

                    "@class": "linked-hash-map",

                    "entry": {

                      "string": [

                        "Default Resource",

                        "[Default Resource]"

                      ]

                    }

                  },

                  "queueBufferSize": 1000,

                  "reattachAttachments": true

                },

                "transmissionModeProperties": {

                  "@class": "com.mirth.connect.plugins.mllpmode.MLLPModeProperties",

                  "pluginPointName": "MLLP",

                  "startOfMessageBytes": "0B",

                  "endOfMessageBytes": "1C0D",

                  "useMLLPv2": false,

                  "ackBytes": "06",

                  "nackBytes": 15,

                  "maxRetries": 2

                },

                "serverMode": false,

                "remoteAddress": "172.19.3.145",

                "remotePort": 8001,

                "overrideLocalBinding": false,

                "localAddress": "0.0.0.0",

                "localPort": 0,

                "sendTimeout": 5000,

                "bufferSize": 65536,

                "maxConnections": 10,

                "keepConnectionOpen": true,

                "checkRemoteHost": true,

                "responseTimeout": 5000,

                "ignoreResponse": false,

                "queueOnResponseTimeout": true,

                "dataTypeBinary": false,

                "charsetEncoding": "ISO-8859-15",

                "template": "${message.encodedData}"

              },

              "transformer": {

                "@version": "4.5.1",

                "elements": {

                  "com.mirth.connect.plugins.javascriptstep.JavaScriptStep": [

                    {

                      "@version": "4.5.1",

                      "name": "prepare tmp",

                      "sequenceNumber": 0,

                      "enabled": true,

                      "script": "tmp = msg.copy();"

                    },

                    {

                      "@version": "4.5.1",

                      "name": "delete segments",

                      "sequenceNumber": 1,

                      "enabled": true,

                      "script": "delete tmp['DG1'];\ndelete tmp['PR1'];\ndelete tmp['ZBE'];\ndelete tmp['AL1'];\ndelete tmp['OBX'];"

                    }

                  ]

                },

                "inboundTemplate": {

                  "@encoding": "base64",

                  "$": "TVNIfF5+XCZ8RFBTfHxNSVJUSHx8MjAyNDEyMTIxMDI4Mjd8fEFEVF5BMDh8MzcyMTExODR8UHwyLjJ8fHxBTHxORQ1FVk58QTA4fDIwMjQxMjEyMTAyODI2DVBJRHx8Mzg3MzE2MHwzODczMTYwfDQ0MTE0NzYyfE5hc2VyaV5aYWhyYXx8MTk0NTA1MDIwMDAwMDB8V3x8fFNldW1lc3RyLiA0MV5eSGFtYnVyZ15eMjIwODleRHwwMDI1MDE1MDR8MDE3NiAyMDU1MTA2M3x8QUZHfHx8fHxudXNlcml0YWhlcjYzMEBnbWFpbC5jb218fHxIZXJhdHxOfHxBRkcNTksxfDF8TmFzZXJpXlRhaGVyfFNPSE58Xl5IYW1idXJnXl5eRHwwMTc2IDIwNTUxMDYzDVBWMXx8QXxBTUJaTkFeXl5VTkZPUlRIT3x8NDQxMTQ3NjJ8fHx8fHx8fHx8fHx8QU5PVHw0NDExNDc2Mnx8S3x8fHx8fHx8fHx8fHx8fHx8fDk4MDI5MHx8fHx8MjAyNDEyMTIxMDI3MDB8MjAyNDEyMTIyMDI3MDB8fHx8MHw0NDExNDc2Mg1PQlh8MXxDV0V8Q0FWRV5eSEw3LURFVV5QRVJTSU5GT15QZXJzb25lbmJlem9nZW5lIEluZm9ybWF0aW9uZW5eRFBTLVgxMDA2UFhUfHxDT1ZJREdFSU1QRlReQ09WSUQtMTkgMnggZ2VpbXBmdHx8fHx8fHx8fDIwMjIwOTE0XjIwOTkxMjMxDU9CWHwyfENXRXxDQVZFXl5ITDctREVVXlBFUlNJTkZPXlBlcnNvbmVuYmV6b2dlbmUgSW5mb3JtYXRpb25lbl5EUFMtWDEwMDZQWFR8fERTR1ZPTVZaXkRTR1ZPIE1WWiBFaW53LiB1bnRlcnNjaHJpZWJlbnx8fHx8fHx8fDIwMjIwODI5XjIwOTkxMjMxDUlOMXwxfFA0NjY4NzE3MTJ8MTA0MjEyNTA1fEFPSyBSaGVpbmxhbmQvSGFtYnVyZ3xLYXNlcm5lbnN0ci4gNjFeXkTDvHNzZWxkb3JmXl40MDIxM3x8MTk3NS8zfDR8T0ZGS1Z8fHx8MjAyNjA2MzB8fFJ8TmFzZXJpXlphaHJhfHwxOTQ1MDUwMnxTZXVtZXN0ci4gNDFeXkhhbWJ1cmdeXjIyMDg5XkR8fHx8fHx8fHx8MjAyNDEyMTIwMDAwMDB8fHx8fHw0MjEyNTA1XjI0MTAxXjA2MjZeNTAwMF40DQ=="

                },

                "outboundTemplate": {

                  "@encoding": "base64",

                  "$": "TVNIfF5+XCZ8RFBTfHxNSVJUSHx8MjAyNDEyMTIxMDI4Mjd8fEFEVF5BMDh8MzcyMTExODR8UHwyLjJ8fHxBTHxORQ1FVk58QTA4fDIwMjQxMjEyMTAyODI2DVBJRHx8Mzg3MzE2MHwzODczMTYwfDQ0MTE0NzYyfE5hc2VyaV5aYWhyYXx8MTk0NTA1MDIwMDAwMDB8V3x8fFNldW1lc3RyLiA0MV5eSGFtYnVyZ15eMjIwODleRHwwMDI1MDE1MDR8MDE3NiAyMDU1MTA2M3x8QUZHfHx8fHxudXNlcml0YWhlcjYzMEBnbWFpbC5jb218fHxIZXJhdHxOfHxBRkcNTksxfDF8TmFzZXJpXlRhaGVyfFNPSE58Xl5IYW1idXJnXl5eRHwwMTc2IDIwNTUxMDYzDVBWMXx8QXxBTUJaTkFeXl5VTkZPUlRIT3x8NDQxMTQ3NjJ8fHx8fHx8fHx8fHx8QU5PVHw0NDExNDc2Mnx8S3x8fHx8fHx8fHx8fHx8fHx8fDk4MDI5MHx8fHx8MjAyNDEyMTIxMDI3MDB8MjAyNDEyMTIyMDI3MDB8fHx8MHw0NDExNDc2Mg1PQlh8MXxDV0V8Q0FWRV5eSEw3LURFVV5QRVJTSU5GT15QZXJzb25lbmJlem9nZW5lIEluZm9ybWF0aW9uZW5eRFBTLVgxMDA2UFhUfHxDT1ZJREdFSU1QRlReQ09WSUQtMTkgMnggZ2VpbXBmdHx8fHx8fHx8fDIwMjIwOTE0XjIwOTkxMjMxDU9CWHwyfENXRXxDQVZFXl5ITDctREVVXlBFUlNJTkZPXlBlcnNvbmVuYmV6b2dlbmUgSW5mb3JtYXRpb25lbl5EUFMtWDEwMDZQWFR8fERTR1ZPTVZaXkRTR1ZPIE1WWiBFaW53LiB1bnRlcnNjaHJpZWJlbnx8fHx8fHx8fDIwMjIwODI5XjIwOTkxMjMxDUlOMXwxfFA0NjY4NzE3MTJ8MTA0MjEyNTA1fEFPSyBSaGVpbmxhbmQvSGFtYnVyZ3xLYXNlcm5lbnN0ci4gNjFeXkTDvHNzZWxkb3JmXl40MDIxM3x8MTk3NS8zfDR8T0ZGS1Z8fHx8MjAyNjA2MzB8fFJ8TmFzZXJpXlphaHJhfHwxOTQ1MDUwMnxTZXVtZXN0ci4gNDFeXkhhbWJ1cmdeXjIyMDg5XkR8fHx8fHx8fHx8MjAyNDEyMTIwMDAwMDB8fHx8fHw0MjEyNTA1XjI0MTAxXjA2MjZeNTAwMF40DQ=="

                },

                "inboundDataType": "HL7V2",

                "outboundDataType": "HL7V2",

                "inboundProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties",

                  "@version": "4.5.1",

                  "serializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties",

                    "@version": "4.5.1",

                    "handleRepetitions": true,

                    "handleSubcomponents": true,

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "stripNamespaces": false,

                    "segmentDelimiter": "\\r",

                    "convertLineBreaks": true

                  },

                  "deserializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties",

                    "@version": "4.5.1",

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "segmentDelimiter": "\\r"

                  },

                  "batchProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties",

                    "@version": "4.5.1",

                    "splitType": "MSH_Segment",

                    "batchScript": null

                  },

                  "responseGenerationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties",

                    "@version": "4.5.1",

                    "segmentDelimiter": "\\r",

                    "successfulACKCode": "AA",

                    "successfulACKMessage": null,

                    "errorACKCode": "AE",

                    "errorACKMessage": "An Error Occurred Processing Message.",

                    "rejectedACKCode": "AR",

                    "rejectedACKMessage": "Message Rejected.",

                    "msh15ACKAccept": false,

                    "dateFormat": "yyyyMMddHHmmss.SSS"

                  },

                  "responseValidationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties",

                    "@version": "4.5.1",

                    "successfulACKCode": "AA,CA",

                    "errorACKCode": "AE,CE",

                    "rejectedACKCode": "AR,CR",

                    "validateMessageControlId": true,

                    "originalMessageControlId": "Destination_Encoded",

                    "originalIdMapVariable": null

                  }

                },

                "outboundProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties",

                  "@version": "4.5.1",

                  "serializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties",

                    "@version": "4.5.1",

                    "handleRepetitions": true,

                    "handleSubcomponents": true,

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "stripNamespaces": false,

                    "segmentDelimiter": "\\r",

                    "convertLineBreaks": true

                  },

                  "deserializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties",

                    "@version": "4.5.1",

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "segmentDelimiter": "\\r"

                  },

                  "batchProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties",

                    "@version": "4.5.1",

                    "splitType": "MSH_Segment",

                    "batchScript": null

                  },

                  "responseGenerationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties",

                    "@version": "4.5.1",

                    "segmentDelimiter": "\\r",

                    "successfulACKCode": "AA",

                    "successfulACKMessage": null,

                    "errorACKCode": "AE",

                    "errorACKMessage": "An Error Occurred Processing Message.",

                    "rejectedACKCode": "AR",

                    "rejectedACKMessage": "Message Rejected.",

                    "msh15ACKAccept": false,

                    "dateFormat": "yyyyMMddHHmmss.SSS"

                  },

                  "responseValidationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties",

                    "@version": "4.5.1",

                    "successfulACKCode": "AA,CA",

                    "errorACKCode": "AE,CE",

                    "rejectedACKCode": "AR,CR",

                    "validateMessageControlId": true,

                    "originalMessageControlId": "Destination_Encoded",

                    "originalIdMapVariable": null

                  }

                }

              },

              "responseTransformer": {

                "@version": "4.5.1",

                "elements": null,

                "inboundDataType": "HL7V2",

                "outboundDataType": "HL7V2",

                "inboundProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties",

                  "@version": "4.5.1",

                  "serializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties",

                    "@version": "4.5.1",

                    "handleRepetitions": true,

                    "handleSubcomponents": true,

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "stripNamespaces": false,

                    "segmentDelimiter": "\\r",

                    "convertLineBreaks": true

                  },

                  "deserializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties",

                    "@version": "4.5.1",

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "segmentDelimiter": "\\r"

                  },

                  "batchProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties",

                    "@version": "4.5.1",

                    "splitType": "MSH_Segment",

                    "batchScript": null

                  },

                  "responseGenerationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties",

                    "@version": "4.5.1",

                    "segmentDelimiter": "\\r",

                    "successfulACKCode": "AA",

                    "successfulACKMessage": null,

                    "errorACKCode": "AE",

                    "errorACKMessage": "An Error Occurred Processing Message.",

                    "rejectedACKCode": "AR",

                    "rejectedACKMessage": "Message Rejected.",

                    "msh15ACKAccept": false,

                    "dateFormat": "yyyyMMddHHmmss.SSS"

                  },

                  "responseValidationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties",

                    "@version": "4.5.1",

                    "successfulACKCode": "AA,CA",

                    "errorACKCode": "AE,CE",

                    "rejectedACKCode": "AR,CR",

                    "validateMessageControlId": true,

                    "originalMessageControlId": "Destination_Encoded",

                    "originalIdMapVariable": null

                  }

                },

                "outboundProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties",

                  "@version": "4.5.1",

                  "serializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties",

                    "@version": "4.5.1",

                    "handleRepetitions": true,

                    "handleSubcomponents": true,

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "stripNamespaces": false,

                    "segmentDelimiter": "\\r",

                    "convertLineBreaks": true

                  },

                  "deserializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties",

                    "@version": "4.5.1",

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "segmentDelimiter": "\\r"

                  },

                  "batchProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties",

                    "@version": "4.5.1",

                    "splitType": "MSH_Segment",

                    "batchScript": null

                  },

                  "responseGenerationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties",

                    "@version": "4.5.1",

                    "segmentDelimiter": "\\r",

                    "successfulACKCode": "AA",

                    "successfulACKMessage": null,

                    "errorACKCode": "AE",

                    "errorACKMessage": "An Error Occurred Processing Message.",

                    "rejectedACKCode": "AR",

                    "rejectedACKMessage": "Message Rejected.",

                    "msh15ACKAccept": false,

                    "dateFormat": "yyyyMMddHHmmss.SSS"

                  },

                  "responseValidationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties",

                    "@version": "4.5.1",

                    "successfulACKCode": "AA,CA",

                    "errorACKCode": "AE,CE",

                    "rejectedACKCode": "AR,CR",

                    "validateMessageControlId": true,

                    "originalMessageControlId": "Destination_Encoded",

                    "originalIdMapVariable": null

                  }

                }

              },

              "filter": {

                "@version": "4.5.1",

                "elements": null

              },

              "transportName": "TCP Sender",

              "mode": "DESTINATION",

              "enabled": true,

              "waitForPrevious": false

            },

            {

              "@version": "4.5.1",

              "metaDataId": 15,

              "name": "Philips LHK IBE",

              "properties": {

                "@class": "com.mirth.connect.connectors.tcp.TcpDispatcherProperties",

                "@version": "4.5.1",

                "pluginProperties": null,

                "destinationConnectorProperties": {

                  "@version": "4.5.1",

                  "queueEnabled": true,

                  "sendFirst": true,

                  "retryIntervalMillis": 10000,

                  "regenerateTemplate": true,

                  "retryCount": 0,

                  "rotate": false,

                  "includeFilterTransformer": false,

                  "threadCount": 1,

                  "threadAssignmentVariable": null,

                  "validateResponse": true,

                  "resourceIds": {

                    "@class": "linked-hash-map",

                    "entry": {

                      "string": [

                        "Default Resource",

                        "[Default Resource]"

                      ]

                    }

                  },

                  "queueBufferSize": 1000,

                  "reattachAttachments": true

                },

                "transmissionModeProperties": {

                  "@class": "com.mirth.connect.plugins.mllpmode.MLLPModeProperties",

                  "pluginPointName": "MLLP",

                  "startOfMessageBytes": "0B",

                  "endOfMessageBytes": "1C0D",

                  "useMLLPv2": false,

                  "ackBytes": "06",

                  "nackBytes": 15,

                  "maxRetries": 2

                },

                "serverMode": false,

                "remoteAddress": "172.19.3.148",

                "remotePort": 31001,

                "overrideLocalBinding": false,

                "localAddress": "0.0.0.0",

                "localPort": 0,

                "sendTimeout": 0,

                "bufferSize": 65536,

                "maxConnections": 10,

                "keepConnectionOpen": true,

                "checkRemoteHost": true,

                "responseTimeout": 5000,

                "ignoreResponse": false,

                "queueOnResponseTimeout": true,

                "dataTypeBinary": false,

                "charsetEncoding": "ISO-8859-15",

                "template": "${message.encodedData}"

              },

              "transformer": {

                "@version": "4.5.1",

                "elements": {

                  "com.mirth.connect.plugins.javascriptstep.JavaScriptStep": [

                    {

                      "@version": "4.5.1",

                      "name": "prepare tmp",

                      "sequenceNumber": 0,

                      "enabled": true,

                      "script": "tmp = msg.copy();"

                    },

                    {

                      "@version": "4.5.1",

                      "name": "delete segments",

                      "sequenceNumber": 1,

                      "enabled": true,

                      "script": "delete tmp['DG1'];\ndelete tmp['PR1'];\ndelete tmp['ZBE'];\ndelete tmp['AL1'];\ndelete tmp['OBX'];"

                    }

                  ]

                },

                "inboundTemplate": {

                  "@encoding": "base64",

                  "$": "TVNIfF5+XCZ8RFBTfHxNSVJUSHx8MjAyNDEyMTIxMDI4Mjd8fEFEVF5BMDh8MzcyMTExODR8UHwyLjJ8fHxBTHxORQ1FVk58QTA4fDIwMjQxMjEyMTAyODI2DVBJRHx8Mzg3MzE2MHwzODczMTYwfDQ0MTE0NzYyfE5hc2VyaV5aYWhyYXx8MTk0NTA1MDIwMDAwMDB8V3x8fFNldW1lc3RyLiA0MV5eSGFtYnVyZ15eMjIwODleRHwwMDI1MDE1MDR8MDE3NiAyMDU1MTA2M3x8QUZHfHx8fHxudXNlcml0YWhlcjYzMEBnbWFpbC5jb218fHxIZXJhdHxOfHxBRkcNTksxfDF8TmFzZXJpXlRhaGVyfFNPSE58Xl5IYW1idXJnXl5eRHwwMTc2IDIwNTUxMDYzDVBWMXx8QXxBTUJaTkFeXl5VTkZPUlRIT3x8NDQxMTQ3NjJ8fHx8fHx8fHx8fHx8QU5PVHw0NDExNDc2Mnx8S3x8fHx8fHx8fHx8fHx8fHx8fDk4MDI5MHx8fHx8MjAyNDEyMTIxMDI3MDB8MjAyNDEyMTIyMDI3MDB8fHx8MHw0NDExNDc2Mg1PQlh8MXxDV0V8Q0FWRV5eSEw3LURFVV5QRVJTSU5GT15QZXJzb25lbmJlem9nZW5lIEluZm9ybWF0aW9uZW5eRFBTLVgxMDA2UFhUfHxDT1ZJREdFSU1QRlReQ09WSUQtMTkgMnggZ2VpbXBmdHx8fHx8fHx8fDIwMjIwOTE0XjIwOTkxMjMxDU9CWHwyfENXRXxDQVZFXl5ITDctREVVXlBFUlNJTkZPXlBlcnNvbmVuYmV6b2dlbmUgSW5mb3JtYXRpb25lbl5EUFMtWDEwMDZQWFR8fERTR1ZPTVZaXkRTR1ZPIE1WWiBFaW53LiB1bnRlcnNjaHJpZWJlbnx8fHx8fHx8fDIwMjIwODI5XjIwOTkxMjMxDUlOMXwxfFA0NjY4NzE3MTJ8MTA0MjEyNTA1fEFPSyBSaGVpbmxhbmQvSGFtYnVyZ3xLYXNlcm5lbnN0ci4gNjFeXkTDvHNzZWxkb3JmXl40MDIxM3x8MTk3NS8zfDR8T0ZGS1Z8fHx8MjAyNjA2MzB8fFJ8TmFzZXJpXlphaHJhfHwxOTQ1MDUwMnxTZXVtZXN0ci4gNDFeXkhhbWJ1cmdeXjIyMDg5XkR8fHx8fHx8fHx8MjAyNDEyMTIwMDAwMDB8fHx8fHw0MjEyNTA1XjI0MTAxXjA2MjZeNTAwMF40DQ=="

                },

                "outboundTemplate": {

                  "@encoding": "base64",

                  "$": "TVNIfF5+XCZ8RFBTfHxNSVJUSHx8MjAyNDEyMTIxMDI4Mjd8fEFEVF5BMDh8MzcyMTExODR8UHwyLjJ8fHxBTHxORQ1FVk58QTA4fDIwMjQxMjEyMTAyODI2DVBJRHx8Mzg3MzE2MHwzODczMTYwfDQ0MTE0NzYyfE5hc2VyaV5aYWhyYXx8MTk0NTA1MDIwMDAwMDB8V3x8fFNldW1lc3RyLiA0MV5eSGFtYnVyZ15eMjIwODleRHwwMDI1MDE1MDR8MDE3NiAyMDU1MTA2M3x8QUZHfHx8fHxudXNlcml0YWhlcjYzMEBnbWFpbC5jb218fHxIZXJhdHxOfHxBRkcNTksxfDF8TmFzZXJpXlRhaGVyfFNPSE58Xl5IYW1idXJnXl5eRHwwMTc2IDIwNTUxMDYzDVBWMXx8QXxBTUJaTkFeXl5VTkZPUlRIT3x8NDQxMTQ3NjJ8fHx8fHx8fHx8fHx8QU5PVHw0NDExNDc2Mnx8S3x8fHx8fHx8fHx8fHx8fHx8fDk4MDI5MHx8fHx8MjAyNDEyMTIxMDI3MDB8MjAyNDEyMTIyMDI3MDB8fHx8MHw0NDExNDc2Mg1PQlh8MXxDV0V8Q0FWRV5eSEw3LURFVV5QRVJTSU5GT15QZXJzb25lbmJlem9nZW5lIEluZm9ybWF0aW9uZW5eRFBTLVgxMDA2UFhUfHxDT1ZJREdFSU1QRlReQ09WSUQtMTkgMnggZ2VpbXBmdHx8fHx8fHx8fDIwMjIwOTE0XjIwOTkxMjMxDU9CWHwyfENXRXxDQVZFXl5ITDctREVVXlBFUlNJTkZPXlBlcnNvbmVuYmV6b2dlbmUgSW5mb3JtYXRpb25lbl5EUFMtWDEwMDZQWFR8fERTR1ZPTVZaXkRTR1ZPIE1WWiBFaW53LiB1bnRlcnNjaHJpZWJlbnx8fHx8fHx8fDIwMjIwODI5XjIwOTkxMjMxDUlOMXwxfFA0NjY4NzE3MTJ8MTA0MjEyNTA1fEFPSyBSaGVpbmxhbmQvSGFtYnVyZ3xLYXNlcm5lbnN0ci4gNjFeXkTDvHNzZWxkb3JmXl40MDIxM3x8MTk3NS8zfDR8T0ZGS1Z8fHx8MjAyNjA2MzB8fFJ8TmFzZXJpXlphaHJhfHwxOTQ1MDUwMnxTZXVtZXN0ci4gNDFeXkhhbWJ1cmdeXjIyMDg5XkR8fHx8fHx8fHx8MjAyNDEyMTIwMDAwMDB8fHx8fHw0MjEyNTA1XjI0MTAxXjA2MjZeNTAwMF40DQ=="

                },

                "inboundDataType": "HL7V2",

                "outboundDataType": "HL7V2",

                "inboundProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties",

                  "@version": "4.5.1",

                  "serializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties",

                    "@version": "4.5.1",

                    "handleRepetitions": true,

                    "handleSubcomponents": true,

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "stripNamespaces": false,

                    "segmentDelimiter": "\\r",

                    "convertLineBreaks": true

                  },

                  "deserializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties",

                    "@version": "4.5.1",

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "segmentDelimiter": "\\r"

                  },

                  "batchProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties",

                    "@version": "4.5.1",

                    "splitType": "MSH_Segment",

                    "batchScript": null

                  },

                  "responseGenerationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties",

                    "@version": "4.5.1",

                    "segmentDelimiter": "\\r",

                    "successfulACKCode": "AA",

                    "successfulACKMessage": null,

                    "errorACKCode": "AE",

                    "errorACKMessage": "An Error Occurred Processing Message.",

                    "rejectedACKCode": "AR",

                    "rejectedACKMessage": "Message Rejected.",

                    "msh15ACKAccept": false,

                    "dateFormat": "yyyyMMddHHmmss.SSS"

                  },

                  "responseValidationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties",

                    "@version": "4.5.1",

                    "successfulACKCode": "AA,CA",

                    "errorACKCode": "AE,CE",

                    "rejectedACKCode": "AR,CR",

                    "validateMessageControlId": true,

                    "originalMessageControlId": "Destination_Encoded",

                    "originalIdMapVariable": null

                  }

                },

                "outboundProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties",

                  "@version": "4.5.1",

                  "serializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties",

                    "@version": "4.5.1",

                    "handleRepetitions": true,

                    "handleSubcomponents": true,

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "stripNamespaces": false,

                    "segmentDelimiter": "\\r",

                    "convertLineBreaks": true

                  },

                  "deserializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties",

                    "@version": "4.5.1",

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "segmentDelimiter": "\\r"

                  },

                  "batchProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties",

                    "@version": "4.5.1",

                    "splitType": "MSH_Segment",

                    "batchScript": null

                  },

                  "responseGenerationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties",

                    "@version": "4.5.1",

                    "segmentDelimiter": "\\r",

                    "successfulACKCode": "AA",

                    "successfulACKMessage": null,

                    "errorACKCode": "AE",

                    "errorACKMessage": "An Error Occurred Processing Message.",

                    "rejectedACKCode": "AR",

                    "rejectedACKMessage": "Message Rejected.",

                    "msh15ACKAccept": false,

                    "dateFormat": "yyyyMMddHHmmss.SSS"

                  },

                  "responseValidationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties",

                    "@version": "4.5.1",

                    "successfulACKCode": "AA,CA",

                    "errorACKCode": "AE,CE",

                    "rejectedACKCode": "AR,CR",

                    "validateMessageControlId": true,

                    "originalMessageControlId": "Destination_Encoded",

                    "originalIdMapVariable": null

                  }

                }

              },

              "responseTransformer": {

                "@version": "4.5.1",

                "elements": null,

                "inboundDataType": "HL7V2",

                "outboundDataType": "HL7V2",

                "inboundProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties",

                  "@version": "4.5.1",

                  "serializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties",

                    "@version": "4.5.1",

                    "handleRepetitions": true,

                    "handleSubcomponents": true,

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "stripNamespaces": false,

                    "segmentDelimiter": "\\r",

                    "convertLineBreaks": true

                  },

                  "deserializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties",

                    "@version": "4.5.1",

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "segmentDelimiter": "\\r"

                  },

                  "batchProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties",

                    "@version": "4.5.1",

                    "splitType": "MSH_Segment",

                    "batchScript": null

                  },

                  "responseGenerationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties",

                    "@version": "4.5.1",

                    "segmentDelimiter": "\\r",

                    "successfulACKCode": "AA",

                    "successfulACKMessage": null,

                    "errorACKCode": "AE",

                    "errorACKMessage": "An Error Occurred Processing Message.",

                    "rejectedACKCode": "AR",

                    "rejectedACKMessage": "Message Rejected.",

                    "msh15ACKAccept": false,

                    "dateFormat": "yyyyMMddHHmmss.SSS"

                  },

                  "responseValidationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties",

                    "@version": "4.5.1",

                    "successfulACKCode": "AA,CA",

                    "errorACKCode": "AE,CE",

                    "rejectedACKCode": "AR,CR",

                    "validateMessageControlId": true,

                    "originalMessageControlId": "Destination_Encoded",

                    "originalIdMapVariable": null

                  }

                },

                "outboundProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties",

                  "@version": "4.5.1",

                  "serializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties",

                    "@version": "4.5.1",

                    "handleRepetitions": true,

                    "handleSubcomponents": true,

                   "useStrictParser": false,

                    "useStrictValidation": false,

                    "stripNamespaces": false,

                    "segmentDelimiter": "\\r",

                    "convertLineBreaks": true

                  },

                 "deserializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties",

                    "@version": "4.5.1",

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "segmentDelimiter": "\\r"

                  },

                  "batchProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties",

                    "@version": "4.5.1",

                    "splitType": "MSH_Segment",

                    "batchScript": null

                  },

                  "responseGenerationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties",

                    "@version": "4.5.1",

                    "segmentDelimiter": "\\r",

                    "successfulACKCode": "AA",

                    "successfulACKMessage": null,

                    "errorACKCode": "AE",

                    "errorACKMessage": "An Error Occurred Processing Message.",

                    "rejectedACKCode": "AR",

                    "rejectedACKMessage": "Message Rejected.",

                    "msh15ACKAccept": false,

                    "dateFormat": "yyyyMMddHHmmss.SSS"

                  },

                  "responseValidationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties",

                    "@version": "4.5.1",

                    "successfulACKCode": "AA,CA",

                    "errorACKCode": "AE,CE",

                    "rejectedACKCode": "AR,CR",

                    "validateMessageControlId": true,

                    "originalMessageControlId": "Destination_Encoded",

                    "originalIdMapVariable": null

                  }

                }

              },

              "filter": {

                "@version": "4.5.1",

                "elements": null

              },

              "transportName": "TCP Sender",

              "mode": "DESTINATION",

              "enabled": true,

              "waitForPrevious": false

            },

            {

              "@version": "4.5.1",

              "metaDataId": 16,

              "name": "Dedalus Dosismanagement",

              "properties": {

                "@class": "com.mirth.connect.connectors.tcp.TcpDispatcherProperties",

                "@version": "4.5.1",

                "pluginProperties": null,

                "destinationConnectorProperties": {

                  "@version": "4.5.1",

                  "queueEnabled": true,

                  "sendFirst": true,

                  "retryIntervalMillis": 10000,

                  "regenerateTemplate": true,

                  "retryCount": 0,

                  "rotate": false,

                  "includeFilterTransformer": false,

                  "threadCount": 1,

                  "threadAssignmentVariable": null,

                  "validateResponse": true,

                  "resourceIds": {

                    "@class": "linked-hash-map",

                    "entry": {

                      "string": [

                        "Default Resource",

                        "[Default Resource]"

                      ]

                    }

                  },

                  "queueBufferSize": 1000,

                  "reattachAttachments": true

                },

                "transmissionModeProperties": {

                  "@class": "com.mirth.connect.plugins.mllpmode.MLLPModeProperties",

                  "pluginPointName": "MLLP",

                  "startOfMessageBytes": "0B",

                  "endOfMessageBytes": "1C0D",

                  "useMLLPv2": false,

                  "ackBytes": "06",

                  "nackBytes": 15,

                  "maxRetries": 2

                },

                "serverMode": false,

                "remoteAddress": "172.19.3.45",

                "remotePort": 6661,

                "overrideLocalBinding": false,

                "localAddress": "0.0.0.0",

                "localPort": 0,

                "sendTimeout": 0,

                "bufferSize": 65536,

                "maxConnections": 10,

                "keepConnectionOpen": true,

                "checkRemoteHost": true,

                "responseTimeout": 5000,

                "ignoreResponse": false,

                "queueOnResponseTimeout": true,

                "dataTypeBinary": false,

                "charsetEncoding": "ISO-8859-15",

                "template": "${message.encodedData}"

              },

              "transformer": {

                "@version": "4.5.1",

                "elements": {

                  "com.mirth.connect.plugins.javascriptstep.JavaScriptStep": [

                    {

                      "@version": "4.5.1",

                      "name": "prepare tmp",

                      "sequenceNumber": 0,

                      "enabled": true,

                      "script": "tmp = msg.copy();"

                    },

                    {

                      "@version": "4.5.1",

                      "name": "delete segments",

                      "sequenceNumber": 1,

                      "enabled": true,

                      "script": "delete tmp['PR1'];\ndelete tmp['DG1'];\ndelete tmp['ZBE'];\ndelete tmp['EVN'];\ndelete tmp['NK1'];\ndelete tmp['PV1'];\ndelete tmp['PV2'];\ndelete tmp['IN1'];\ndelete tmp['GT1'];\ndelete tmp['AL1'];\ndelete tmp['OBX'];"

                    },

                    {

                      "@version": "4.5.1",

                      "name": "Date of birth without minutes and seconds",

                      "sequenceNumber": 2,

                      "enabled": true,

                      "script": "//14.06.2021 MBA\n//Geburtsdatum nur JJJJMMTT ausgeben \n\nif(msg['PID']['PID.7']['PID.7.1'].toString().length>0)\n\t{\n\t\ttmp['PID']['PID.7']['PID.7.1'] = msg['PID']['PID.7']['PID.7.1'].toString().substr(0, 8);\n\t}"

                    }

                  ]

                },

                "inboundTemplate": {

                  "@encoding": "base64",

                  "$": "TVNIfF5+XCZ8RFBTfHxNSVJUSHx8MjAyNDEyMTIxMDI4Mjd8fEFEVF5BMDh8MzcyMTExODR8UHwyLjJ8fHxBTHxORQ1FVk58QTA4fDIwMjQxMjEyMTAyODI2DVBJRHx8Mzg3MzE2MHwzODczMTYwfDQ0MTE0NzYyfE5hc2VyaV5aYWhyYXx8MTk0NTA1MDIwMDAwMDB8V3x8fFNldW1lc3RyLiA0MV5eSGFtYnVyZ15eMjIwODleRHwwMDI1MDE1MDR8MDE3NiAyMDU1MTA2M3x8QUZHfHx8fHxudXNlcml0YWhlcjYzMEBnbWFpbC5jb218fHxIZXJhdHxOfHxBRkcNTksxfDF8TmFzZXJpXlRhaGVyfFNPSE58Xl5IYW1idXJnXl5eRHwwMTc2IDIwNTUxMDYzDVBWMXx8QXxBTUJaTkFeXl5VTkZPUlRIT3x8NDQxMTQ3NjJ8fHx8fHx8fHx8fHx8QU5PVHw0NDExNDc2Mnx8S3x8fHx8fHx8fHx8fHx8fHx8fDk4MDI5MHx8fHx8MjAyNDEyMTIxMDI3MDB8MjAyNDEyMTIyMDI3MDB8fHx8MHw0NDExNDc2Mg1PQlh8MXxDV0V8Q0FWRV5eSEw3LURFVV5QRVJTSU5GT15QZXJzb25lbmJlem9nZW5lIEluZm9ybWF0aW9uZW5eRFBTLVgxMDA2UFhUfHxDT1ZJREdFSU1QRlReQ09WSUQtMTkgMnggZ2VpbXBmdHx8fHx8fHx8fDIwMjIwOTE0XjIwOTkxMjMxDU9CWHwyfENXRXxDQVZFXl5ITDctREVVXlBFUlNJTkZPXlBlcnNvbmVuYmV6b2dlbmUgSW5mb3JtYXRpb25lbl5EUFMtWDEwMDZQWFR8fERTR1ZPTVZaXkRTR1ZPIE1WWiBFaW53LiB1bnRlcnNjaHJpZWJlbnx8fHx8fHx8fDIwMjIwODI5XjIwOTkxMjMxDUlOMXwxfFA0NjY4NzE3MTJ8MTA0MjEyNTA1fEFPSyBSaGVpbmxhbmQvSGFtYnVyZ3xLYXNlcm5lbnN0ci4gNjFeXkTDvHNzZWxkb3JmXl40MDIxM3x8MTk3NS8zfDR8T0ZGS1Z8fHx8MjAyNjA2MzB8fFJ8TmFzZXJpXlphaHJhfHwxOTQ1MDUwMnxTZXVtZXN0ci4gNDFeXkhhbWJ1cmdeXjIyMDg5XkR8fHx8fHx8fHx8MjAyNDEyMTIwMDAwMDB8fHx8fHw0MjEyNTA1XjI0MTAxXjA2MjZeNTAwMF40DQ=="

                },

                "outboundTemplate": {

                  "@encoding": "base64",

                  "$": "TVNIfF5+XCZ8RFBTfHxNSVJUSHx8MjAyNDEyMTIxMDI4Mjd8fEFEVF5BMDh8MzcyMTExODR8UHwyLjJ8fHxBTHxORQ1FVk58QTA4fDIwMjQxMjEyMTAyODI2DVBJRHx8Mzg3MzE2MHwzODczMTYwfDQ0MTE0NzYyfE5hc2VyaV5aYWhyYXx8MTk0NTA1MDIwMDAwMDB8V3x8fFNldW1lc3RyLiA0MV5eSGFtYnVyZ15eMjIwODleRHwwMDI1MDE1MDR8MDE3NiAyMDU1MTA2M3x8QUZHfHx8fHxudXNlcml0YWhlcjYzMEBnbWFpbC5jb218fHxIZXJhdHxOfHxBRkcNTksxfDF8TmFzZXJpXlRhaGVyfFNPSE58Xl5IYW1idXJnXl5eRHwwMTc2IDIwNTUxMDYzDVBWMXx8QXxBTUJaTkFeXl5VTkZPUlRIT3x8NDQxMTQ3NjJ8fHx8fHx8fHx8fHx8QU5PVHw0NDExNDc2Mnx8S3x8fHx8fHx8fHx8fHx8fHx8fDk4MDI5MHx8fHx8MjAyNDEyMTIxMDI3MDB8MjAyNDEyMTIyMDI3MDB8fHx8MHw0NDExNDc2Mg1PQlh8MXxDV0V8Q0FWRV5eSEw3LURFVV5QRVJTSU5GT15QZXJzb25lbmJlem9nZW5lIEluZm9ybWF0aW9uZW5eRFBTLVgxMDA2UFhUfHxDT1ZJREdFSU1QRlReQ09WSUQtMTkgMnggZ2VpbXBmdHx8fHx8fHx8fDIwMjIwOTE0XjIwOTkxMjMxDU9CWHwyfENXRXxDQVZFXl5ITDctREVVXlBFUlNJTkZPXlBlcnNvbmVuYmV6b2dlbmUgSW5mb3JtYXRpb25lbl5EUFMtWDEwMDZQWFR8fERTR1ZPTVZaXkRTR1ZPIE1WWiBFaW53LiB1bnRlcnNjaHJpZWJlbnx8fHx8fHx8fDIwMjIwODI5XjIwOTkxMjMxDUlOMXwxfFA0NjY4NzE3MTJ8MTA0MjEyNTA1fEFPSyBSaGVpbmxhbmQvSGFtYnVyZ3xLYXNlcm5lbnN0ci4gNjFeXkTDvHNzZWxkb3JmXl40MDIxM3x8MTk3NS8zfDR8T0ZGS1Z8fHx8MjAyNjA2MzB8fFJ8TmFzZXJpXlphaHJhfHwxOTQ1MDUwMnxTZXVtZXN0ci4gNDFeXkhhbWJ1cmdeXjIyMDg5XkR8fHx8fHx8fHx8MjAyNDEyMTIwMDAwMDB8fHx8fHw0MjEyNTA1XjI0MTAxXjA2MjZeNTAwMF40DQ=="

                },

                "inboundDataType": "HL7V2",

                "outboundDataType": "HL7V2",

                "inboundProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties",

                  "@version": "4.5.1",

                  "serializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties",

                    "@version": "4.5.1",

                    "handleRepetitions": true,

                    "handleSubcomponents": true,

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "stripNamespaces": false,

                    "segmentDelimiter": "\\r",

                    "convertLineBreaks": true

                  },

                  "deserializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties",

                    "@version": "4.5.1",

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "segmentDelimiter": "\\r"

                  },

                  "batchProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties",

                    "@version": "4.5.1",

                    "splitType": "MSH_Segment",

                    "batchScript": null

                  },

                  "responseGenerationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties",

                    "@version": "4.5.1",

                    "segmentDelimiter": "\\r",

                    "successfulACKCode": "AA",

                    "successfulACKMessage": null,

                    "errorACKCode": "AE",

                    "errorACKMessage": "An Error Occurred Processing Message.",

                    "rejectedACKCode": "AR",

                    "rejectedACKMessage": "Message Rejected.",

                    "msh15ACKAccept": false,

                    "dateFormat": "yyyyMMddHHmmss.SSS"

                  },

                  "responseValidationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties",

                    "@version": "4.5.1",

                    "successfulACKCode": "AA,CA",

                    "errorACKCode": "AE,CE",

                    "rejectedACKCode": "AR,CR",

                    "validateMessageControlId": true,

                    "originalMessageControlId": "Destination_Encoded",

                    "originalIdMapVariable": null

                  }

                },

                "outboundProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties",

                  "@version": "4.5.1",

                  "serializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties",

                    "@version": "4.5.1",

                    "handleRepetitions": true,

                    "handleSubcomponents": true,

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "stripNamespaces": false,

                    "segmentDelimiter": "\\r",

                    "convertLineBreaks": true

                  },

                  "deserializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties",

                    "@version": "4.5.1",

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "segmentDelimiter": "\\r"

                  },

                  "batchProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties",

                    "@version": "4.5.1",

                    "splitType": "MSH_Segment",

                    "batchScript": null

                  },

                  "responseGenerationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties",

                    "@version": "4.5.1",

                    "segmentDelimiter": "\\r",

                    "successfulACKCode": "AA",

                    "successfulACKMessage": null,

                    "errorACKCode": "AE",

                    "errorACKMessage": "An Error Occurred Processing Message.",

                    "rejectedACKCode": "AR",

                    "rejectedACKMessage": "Message Rejected.",

                    "msh15ACKAccept": false,

                    "dateFormat": "yyyyMMddHHmmss.SSS"

                  },

                  "responseValidationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties",

                    "@version": "4.5.1",

                    "successfulACKCode": "AA,CA",

                    "errorACKCode": "AE,CE",

                    "rejectedACKCode": "AR,CR",

                    "validateMessageControlId": true,

                    "originalMessageControlId": "Destination_Encoded",

                    "originalIdMapVariable": null

                  }

                }

              },

              "responseTransformer": {

                "@version": "4.5.1",

                "elements": null,

                "inboundDataType": "HL7V2",

                "outboundDataType": "HL7V2",

                "inboundProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties",

                  "@version": "4.5.1",

                  "serializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties",

                    "@version": "4.5.1",

                    "handleRepetitions": true,

                    "handleSubcomponents": true,

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "stripNamespaces": false,

                    "segmentDelimiter": "\\r",

                    "convertLineBreaks": true

                  },

                  "deserializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties",

                    "@version": "4.5.1",

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "segmentDelimiter": "\\r"

                  },

                  "batchProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties",

                    "@version": "4.5.1",

                    "splitType": "MSH_Segment",

                    "batchScript": null

                  },

                  "responseGenerationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties",

                    "@version": "4.5.1",

                    "segmentDelimiter": "\\r",

                    "successfulACKCode": "AA",

                    "successfulACKMessage": null,

                    "errorACKCode": "AE",

                    "errorACKMessage": "An Error Occurred Processing Message.",

                    "rejectedACKCode": "AR",

                    "rejectedACKMessage": "Message Rejected.",

                    "msh15ACKAccept": false,

                    "dateFormat": "yyyyMMddHHmmss.SSS"

                  },

                  "responseValidationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties",

                    "@version": "4.5.1",

                    "successfulACKCode": "AA,CA",

                    "errorACKCode": "AE,CE",

                    "rejectedACKCode": "AR,CR",

                    "validateMessageControlId": true,

                    "originalMessageControlId": "Destination_Encoded",

                    "originalIdMapVariable": null

                  }

                },

                "outboundProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties",

                  "@version": "4.5.1",

                  "serializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties",

                    "@version": "4.5.1",

                    "handleRepetitions": true,

                    "handleSubcomponents": true,

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "stripNamespaces": false,

                    "segmentDelimiter": "\\r",

                    "convertLineBreaks": true

                  },

                  "deserializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties",

                    "@version": "4.5.1",

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "segmentDelimiter": "\\r"

                  },

                  "batchProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties",

                    "@version": "4.5.1",

                    "splitType": "MSH_Segment",

                    "batchScript": null

                  },

                  "responseGenerationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties",

                    "@version": "4.5.1",

                    "segmentDelimiter": "\\r",

                    "successfulACKCode": "AA",

                    "successfulACKMessage": null,

                    "errorACKCode": "AE",

                    "errorACKMessage": "An Error Occurred Processing Message.",

                    "rejectedACKCode": "AR",

                    "rejectedACKMessage": "Message Rejected.",

                    "msh15ACKAccept": false,

                    "dateFormat": "yyyyMMddHHmmss.SSS"

                  },

                  "responseValidationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties",

                    "@version": "4.5.1",

                    "successfulACKCode": "AA,CA",

                    "errorACKCode": "AE,CE",

                    "rejectedACKCode": "AR,CR",

                    "validateMessageControlId": true,

                    "originalMessageControlId": "Destination_Encoded",

                    "originalIdMapVariable": null

                  }

                }

              },

              "filter": {

                "@version": "4.5.1",

                "elements": {

                  "com.mirth.connect.plugins.rulebuilder.RuleBuilderRule": {

                    "@version": "4.5.1",

                    "name": "Accept message if \"msg['MSH']['MSH.9']['MSH.9.2'].toString()\" equals 'A08' or 'A34'",

                    "sequenceNumber": 0,

                    "enabled": true,

                   "field": "msg['MSH']['MSH.9']['MSH.9.2'].toString()",

                    "condition": "EQUALS",

                    "values": {

                      "string": [

                        "'A08'",

                        "'A34'"

                      ]

                    }

                  }

                }

              },

              "transportName": "TCP Sender",

              "mode": "DESTINATION",

              "enabled": true,

              "waitForPrevious": false

            },

            {

              "@version": "4.5.1",

              "metaDataId": 17,

              "name": "Vyaire LuFu Body Spiro",

              "properties": {

                "@class": "com.mirth.connect.connectors.tcp.TcpDispatcherProperties",

                "@version": "4.5.1",

                "pluginProperties": null,

                "destinationConnectorProperties": {

                  "@version": "4.5.1",

                  "queueEnabled": true,

                  "sendFirst": true,

                  "retryIntervalMillis": 10000,

                  "regenerateTemplate": true,

                  "retryCount": 0,

                  "rotate": false,

                  "includeFilterTransformer": false,

                  "threadCount": 1,

                  "threadAssignmentVariable": null,

                  "validateResponse": true,

                  "resourceIds": {

                    "@class": "linked-hash-map",

                    "entry": {

                      "string": [

                        "Default Resource",

                        "[Default Resource]"

                      ]

                    }

                  },

                  "queueBufferSize": 1000,

                  "reattachAttachments": true

                },

                "transmissionModeProperties": {

                  "@class": "com.mirth.connect.plugins.mllpmode.MLLPModeProperties",

                  "pluginPointName": "MLLP",

                  "startOfMessageBytes": "0B",

                  "endOfMessageBytes": "1C0D",

                  "useMLLPv2": false,

                  "ackBytes": "06",

                  "nackBytes": 15,

                  "maxRetries": 2

                },

                "serverMode": false,

                "remoteAddress": "172.19.3.131",

                "remotePort": 10100,

                "overrideLocalBinding": false,

                "localAddress": "0.0.0.0",

                "localPort": 0,

                "sendTimeout": 0,

                "bufferSize": 65536,

                "maxConnections": 10,

                "keepConnectionOpen": true,

                "checkRemoteHost": true,

                "responseTimeout": 5000,

                "ignoreResponse": false,

                "queueOnResponseTimeout": true,

                "dataTypeBinary": false,

                "charsetEncoding": "ISO-8859-15",

                "template": "${message.encodedData}"

              },

              "transformer": {

                "@version": "4.5.1",

                "elements": {

                  "com.mirth.connect.plugins.javascriptstep.JavaScriptStep": [

                    {

                      "@version": "4.5.1",

                      "name": "prepare tmp",

                      "sequenceNumber": 0,

                      "enabled": true,

                      "script": "tmp = msg.copy();"

                    },

                    {

                      "@version": "4.5.1",

                      "name": "delete segments",

                      "sequenceNumber": 1,

                      "enabled": true,

                      "script": "delete tmp['DG1'];\ndelete tmp['PR1'];\ndelete tmp['ZBE'];\ndelete tmp['AL1'];\ndelete tmp['OBX'];"

                    }

                  ]

                },

                "inboundTemplate": {

                  "@encoding": "base64",

                  "$": "TVNIfF5+XCZ8RFBTfHxNSVJUSHx8MjAyNDEyMTIxMDI4Mjd8fEFEVF5BMDh8MzcyMTExODR8UHwyLjJ8fHxBTHxORQ1FVk58QTA4fDIwMjQxMjEyMTAyODI2DVBJRHx8Mzg3MzE2MHwzODczMTYwfDQ0MTE0NzYyfE5hc2VyaV5aYWhyYXx8MTk0NTA1MDIwMDAwMDB8V3x8fFNldW1lc3RyLiA0MV5eSGFtYnVyZ15eMjIwODleRHwwMDI1MDE1MDR8MDE3NiAyMDU1MTA2M3x8QUZHfHx8fHxudXNlcml0YWhlcjYzMEBnbWFpbC5jb218fHxIZXJhdHxOfHxBRkcNTksxfDF8TmFzZXJpXlRhaGVyfFNPSE58Xl5IYW1idXJnXl5eRHwwMTc2IDIwNTUxMDYzDVBWMXx8QXxBTUJaTkFeXl5VTkZPUlRIT3x8NDQxMTQ3NjJ8fHx8fHx8fHx8fHx8QU5PVHw0NDExNDc2Mnx8S3x8fHx8fHx8fHx8fHx8fHx8fDk4MDI5MHx8fHx8MjAyNDEyMTIxMDI3MDB8MjAyNDEyMTIyMDI3MDB8fHx8MHw0NDExNDc2Mg1PQlh8MXxDV0V8Q0FWRV5eSEw3LURFVV5QRVJTSU5GT15QZXJzb25lbmJlem9nZW5lIEluZm9ybWF0aW9uZW5eRFBTLVgxMDA2UFhUfHxDT1ZJREdFSU1QRlReQ09WSUQtMTkgMnggZ2VpbXBmdHx8fHx8fHx8fDIwMjIwOTE0XjIwOTkxMjMxDU9CWHwyfENXRXxDQVZFXl5ITDctREVVXlBFUlNJTkZPXlBlcnNvbmVuYmV6b2dlbmUgSW5mb3JtYXRpb25lbl5EUFMtWDEwMDZQWFR8fERTR1ZPTVZaXkRTR1ZPIE1WWiBFaW53LiB1bnRlcnNjaHJpZWJlbnx8fHx8fHx8fDIwMjIwODI5XjIwOTkxMjMxDUlOMXwxfFA0NjY4NzE3MTJ8MTA0MjEyNTA1fEFPSyBSaGVpbmxhbmQvSGFtYnVyZ3xLYXNlcm5lbnN0ci4gNjFeXkTDvHNzZWxkb3JmXl40MDIxM3x8MTk3NS8zfDR8T0ZGS1Z8fHx8MjAyNjA2MzB8fFJ8TmFzZXJpXlphaHJhfHwxOTQ1MDUwMnxTZXVtZXN0ci4gNDFeXkhhbWJ1cmdeXjIyMDg5XkR8fHx8fHx8fHx8MjAyNDEyMTIwMDAwMDB8fHx8fHw0MjEyNTA1XjI0MTAxXjA2MjZeNTAwMF40DQ=="

                },

                "outboundTemplate": {

                  "@encoding": "base64",

                  "$": "TVNIfF5+XCZ8RFBTfHxNSVJUSHx8MjAyNDEyMTIxMDI4Mjd8fEFEVF5BMDh8MzcyMTExODR8UHwyLjJ8fHxBTHxORQ1FVk58QTA4fDIwMjQxMjEyMTAyODI2DVBJRHx8Mzg3MzE2MHwzODczMTYwfDQ0MTE0NzYyfE5hc2VyaV5aYWhyYXx8MTk0NTA1MDIwMDAwMDB8V3x8fFNldW1lc3RyLiA0MV5eSGFtYnVyZ15eMjIwODleRHwwMDI1MDE1MDR8MDE3NiAyMDU1MTA2M3x8QUZHfHx8fHxudXNlcml0YWhlcjYzMEBnbWFpbC5jb218fHxIZXJhdHxOfHxBRkcNTksxfDF8TmFzZXJpXlRhaGVyfFNPSE58Xl5IYW1idXJnXl5eRHwwMTc2IDIwNTUxMDYzDVBWMXx8QXxBTUJaTkFeXl5VTkZPUlRIT3x8NDQxMTQ3NjJ8fHx8fHx8fHx8fHx8QU5PVHw0NDExNDc2Mnx8S3x8fHx8fHx8fHx8fHx8fHx8fDk4MDI5MHx8fHx8MjAyNDEyMTIxMDI3MDB8MjAyNDEyMTIyMDI3MDB8fHx8MHw0NDExNDc2Mg1PQlh8MXxDV0V8Q0FWRV5eSEw3LURFVV5QRVJTSU5GT15QZXJzb25lbmJlem9nZW5lIEluZm9ybWF0aW9uZW5eRFBTLVgxMDA2UFhUfHxDT1ZJREdFSU1QRlReQ09WSUQtMTkgMnggZ2VpbXBmdHx8fHx8fHx8fDIwMjIwOTE0XjIwOTkxMjMxDU9CWHwyfENXRXxDQVZFXl5ITDctREVVXlBFUlNJTkZPXlBlcnNvbmVuYmV6b2dlbmUgSW5mb3JtYXRpb25lbl5EUFMtWDEwMDZQWFR8fERTR1ZPTVZaXkRTR1ZPIE1WWiBFaW53LiB1bnRlcnNjaHJpZWJlbnx8fHx8fHx8fDIwMjIwODI5XjIwOTkxMjMxDUlOMXwxfFA0NjY4NzE3MTJ8MTA0MjEyNTA1fEFPSyBSaGVpbmxhbmQvSGFtYnVyZ3xLYXNlcm5lbnN0ci4gNjFeXkTDvHNzZWxkb3JmXl40MDIxM3x8MTk3NS8zfDR8T0ZGS1Z8fHx8MjAyNjA2MzB8fFJ8TmFzZXJpXlphaHJhfHwxOTQ1MDUwMnxTZXVtZXN0ci4gNDFeXkhhbWJ1cmdeXjIyMDg5XkR8fHx8fHx8fHx8MjAyNDEyMTIwMDAwMDB8fHx8fHw0MjEyNTA1XjI0MTAxXjA2MjZeNTAwMF40DQ=="

                },

                "inboundDataType": "HL7V2",

                "outboundDataType": "HL7V2",

                "inboundProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties",

                  "@version": "4.5.1",

                  "serializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties",

                    "@version": "4.5.1",

                    "handleRepetitions": true,

                    "handleSubcomponents": true,

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "stripNamespaces": false,

                    "segmentDelimiter": "\\r",

                    "convertLineBreaks": true

                  },

                  "deserializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties",

                    "@version": "4.5.1",

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "segmentDelimiter": "\\r"

                  },

                  "batchProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties",

                    "@version": "4.5.1",

                    "splitType": "MSH_Segment",

                    "batchScript": null

                  },

                  "responseGenerationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties",

                    "@version": "4.5.1",

                    "segmentDelimiter": "\\r",

                    "successfulACKCode": "AA",

                    "successfulACKMessage": null,

                    "errorACKCode": "AE",

                    "errorACKMessage": "An Error Occurred Processing Message.",

                    "rejectedACKCode": "AR",

                    "rejectedACKMessage": "Message Rejected.",

                    "msh15ACKAccept": false,

                    "dateFormat": "yyyyMMddHHmmss.SSS"

                  },

                  "responseValidationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties",

                    "@version": "4.5.1",

                    "successfulACKCode": "AA,CA",

                    "errorACKCode": "AE,CE",

                    "rejectedACKCode": "AR,CR",

                    "validateMessageControlId": true,

                    "originalMessageControlId": "Destination_Encoded",

                    "originalIdMapVariable": null

                  }

                },

                "outboundProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties",

                  "@version": "4.5.1",

                  "serializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties",

                    "@version": "4.5.1",

                    "handleRepetitions": true,

                    "handleSubcomponents": true,

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "stripNamespaces": false,

                    "segmentDelimiter": "\\r",

                    "convertLineBreaks": true

                  },

                  "deserializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties",

                    "@version": "4.5.1",

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "segmentDelimiter": "\\r"

                  },

                  "batchProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties",

                    "@version": "4.5.1",

                    "splitType": "MSH_Segment",

                    "batchScript": null

                  },

                  "responseGenerationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties",

                    "@version": "4.5.1",

                    "segmentDelimiter": "\\r",

                    "successfulACKCode": "AA",

                    "successfulACKMessage": null,

                    "errorACKCode": "AE",

                    "errorACKMessage": "An Error Occurred Processing Message.",

                    "rejectedACKCode": "AR",

                    "rejectedACKMessage": "Message Rejected.",

                    "msh15ACKAccept": false,

                    "dateFormat": "yyyyMMddHHmmss.SSS"

                  },

                  "responseValidationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties",

                    "@version": "4.5.1",

                    "successfulACKCode": "AA,CA",

                    "errorACKCode": "AE,CE",

                    "rejectedACKCode": "AR,CR",

                    "validateMessageControlId": true,

                    "originalMessageControlId": "Destination_Encoded",

                    "originalIdMapVariable": null

                  }

                }

              },

              "responseTransformer": {

                "@version": "4.5.1",

                "elements": null,

                "inboundDataType": "HL7V2",

                "outboundDataType": "HL7V2",

                "inboundProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties",

                  "@version": "4.5.1",

                  "serializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties",

                    "@version": "4.5.1",

                    "handleRepetitions": true,

                    "handleSubcomponents": true,

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "stripNamespaces": false,

                    "segmentDelimiter": "\\r",

                    "convertLineBreaks": true

                  },

                  "deserializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties",

                    "@version": "4.5.1",

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "segmentDelimiter": "\\r"

                  },

                  "batchProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties",

                    "@version": "4.5.1",

                    "splitType": "MSH_Segment",

                    "batchScript": null

                  },

                  "responseGenerationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties",

                    "@version": "4.5.1",

                    "segmentDelimiter": "\\r",

                    "successfulACKCode": "AA",

                    "successfulACKMessage": null,

                    "errorACKCode": "AE",

                    "errorACKMessage": "An Error Occurred Processing Message.",

                    "rejectedACKCode": "AR",

                    "rejectedACKMessage": "Message Rejected.",

                    "msh15ACKAccept": false,

                    "dateFormat": "yyyyMMddHHmmss.SSS"

                  },

                  "responseValidationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties",

                    "@version": "4.5.1",

                    "successfulACKCode": "AA,CA",

                    "errorACKCode": "AE,CE",

                    "rejectedACKCode": "AR,CR",

                    "validateMessageControlId": true,

                    "originalMessageControlId": "Destination_Encoded",

                    "originalIdMapVariable": null

                  }

                },

                "outboundProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties",

                  "@version": "4.5.1",

                  "serializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties",

                    "@version": "4.5.1",

                    "handleRepetitions": true,

                    "handleSubcomponents": true,

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "stripNamespaces": false,

                    "segmentDelimiter": "\\r",

                    "convertLineBreaks": true

                  },

                  "deserializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties",

                    "@version": "4.5.1",

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "segmentDelimiter": "\\r"

                  },

                  "batchProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties",

                    "@version": "4.5.1",

                    "splitType": "MSH_Segment",

                    "batchScript": null

                  },

                  "responseGenerationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties",

                    "@version": "4.5.1",

                    "segmentDelimiter": "\\r",

                    "successfulACKCode": "AA",

                    "successfulACKMessage": null,

                    "errorACKCode": "AE",

                    "errorACKMessage": "An Error Occurred Processing Message.",

                    "rejectedACKCode": "AR",

                    "rejectedACKMessage": "Message Rejected.",

                    "msh15ACKAccept": false,

                    "dateFormat": "yyyyMMddHHmmss.SSS"

                  },

                  "responseValidationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties",

                    "@version": "4.5.1",

                    "successfulACKCode": "AA,CA",

                    "errorACKCode": "AE,CE",

                    "rejectedACKCode": "AR,CR",

                    "validateMessageControlId": true,

                    "originalMessageControlId": "Destination_Encoded",

                    "originalIdMapVariable": null

                  }

                }

              },

              "filter": {

                "@version": "4.5.1",

                "elements": null

              },

              "transportName": "TCP Sender",

              "mode": "DESTINATION",

              "enabled": true,

              "waitForPrevious": false

            },

            {

              "@version": "4.5.1",

              "metaDataId": 19,

              "name": "Viewpoint 6 Gyn",

              "properties": {

                "@class": "com.mirth.connect.connectors.tcp.TcpDispatcherProperties",

                "@version": "4.5.1",

                "pluginProperties": null,

                "destinationConnectorProperties": {

                  "@version": "4.5.1",

                  "queueEnabled": true,

                  "sendFirst": true,

                  "retryIntervalMillis": 10000,

                  "regenerateTemplate": false,

                  "retryCount": 0,

                  "rotate": false,

                  "includeFilterTransformer": false,

                  "threadCount": 1,

                  "threadAssignmentVariable": null,

                  "validateResponse": true,

                 "resourceIds": {

                    "@class": "linked-hash-map",

                    "entry": {

                      "string": [

                        "Default Resource",

                        "[Default Resource]"

                      ]

                    }

                  },

                  "queueBufferSize": 1000,

                  "reattachAttachments": true

                },

                "transmissionModeProperties": {

                  "@class": "com.mirth.connect.plugins.mllpmode.MLLPModeProperties",

                  "pluginPointName": "MLLP",

                  "startOfMessageBytes": "0B",

                  "endOfMessageBytes": "1C0D",

                  "useMLLPv2": false,

                  "ackBytes": "06",

                  "nackBytes": 15,

                  "maxRetries": 2

                },

                "serverMode": false,

                "remoteAddress": "172.19.3.155",

                "remotePort": 2575,

                "overrideLocalBinding": false,

                "localAddress": "0.0.0.0",

                "localPort": 0,

                "sendTimeout": 0,

                "bufferSize": 65536,

                "maxConnections": 10,

                "keepConnectionOpen": true,

                "checkRemoteHost": true,

                "responseTimeout": 5000,

                "ignoreResponse": false,

                "queueOnResponseTimeout": true,

                "dataTypeBinary": false,

                "charsetEncoding": "ISO-8859-15",

                "template": "${message.encodedData}"

              },

              "transformer": {

                "@version": "4.5.1",

                "elements": {

                  "com.mirth.connect.plugins.javascriptstep.JavaScriptStep": [

                    {

                      "@version": "4.5.1",

                      "name": "prepare tmp",

                      "sequenceNumber": 0,

                      "enabled": true,

                      "script": "tmp = msg.copy();"

                    },

                    {

                      "@version": "4.5.1",

                      "name": "adjust MSH",

                      "sequenceNumber": 1,

                      "enabled": true,

                      "script": "tmp['MSH']['MSH.5']['MSH.5.1'] = 'PIA';"

                    },

                    {

                      "@version": "4.5.1",

                      "name": "delete segments",

                      "sequenceNumber": 2,

                      "enabled": true,

                      "script": "delete tmp['DG1'];\ndelete tmp['PR1'];\ndelete tmp['ZBE'];"

                    },

                    {

                      "@version": "4.5.1",

                      "name": "Map A34 to A40",

                      "sequenceNumber": 3,

                      "enabled": true,

                      "script": "//21.08.2019 MBA\n//Umwandlung der A34 in eine A40\n\nif( msg['MSH']['MSH.9']['MSH.9.2'].toString() == 'A34' &&\n    msg['PV1']['PV1.19']['PV1.19.1'].toString().length>0)\n   {\n   \ttmp['MSH']['MSH.9']['MSH.9.2'] = 'A40';\n   \ttmp['EVN']['EVN.1']['EVN.1.1'] = 'A40';\n   \ttmp['MRG']['MRG.5']['MRG.5.1'] = msg['PV1']['PV1.19']['PV1.19.1'].toString();\n   }"

                    }

                  ]

                },

                "inboundTemplate": {

                  "@encoding": "base64",

                  "$": "TVNIfF5+XCZ8RFBTfHxNSVJUSHx8MjAyNDEyMTIxMDI4Mjd8fEFEVF5BMDh8MzcyMTExODR8UHwyLjJ8fHxBTHxORQ1FVk58QTA4fDIwMjQxMjEyMTAyODI2DVBJRHx8Mzg3MzE2MHwzODczMTYwfDQ0MTE0NzYyfE5hc2VyaV5aYWhyYXx8MTk0NTA1MDIwMDAwMDB8V3x8fFNldW1lc3RyLiA0MV5eSGFtYnVyZ15eMjIwODleRHwwMDI1MDE1MDR8MDE3NiAyMDU1MTA2M3x8QUZHfHx8fHxudXNlcml0YWhlcjYzMEBnbWFpbC5jb218fHxIZXJhdHxOfHxBRkcNTksxfDF8TmFzZXJpXlRhaGVyfFNPSE58Xl5IYW1idXJnXl5eRHwwMTc2IDIwNTUxMDYzDVBWMXx8QXxBTUJaTkFeXl5VTkZPUlRIT3x8NDQxMTQ3NjJ8fHx8fHx8fHx8fHx8QU5PVHw0NDExNDc2Mnx8S3x8fHx8fHx8fHx8fHx8fHx8fDk4MDI5MHx8fHx8MjAyNDEyMTIxMDI3MDB8MjAyNDEyMTIyMDI3MDB8fHx8MHw0NDExNDc2Mg1PQlh8MXxDV0V8Q0FWRV5eSEw3LURFVV5QRVJTSU5GT15QZXJzb25lbmJlem9nZW5lIEluZm9ybWF0aW9uZW5eRFBTLVgxMDA2UFhUfHxDT1ZJREdFSU1QRlReQ09WSUQtMTkgMnggZ2VpbXBmdHx8fHx8fHx8fDIwMjIwOTE0XjIwOTkxMjMxDU9CWHwyfENXRXxDQVZFXl5ITDctREVVXlBFUlNJTkZPXlBlcnNvbmVuYmV6b2dlbmUgSW5mb3JtYXRpb25lbl5EUFMtWDEwMDZQWFR8fERTR1ZPTVZaXkRTR1ZPIE1WWiBFaW53LiB1bnRlcnNjaHJpZWJlbnx8fHx8fHx8fDIwMjIwODI5XjIwOTkxMjMxDUlOMXwxfFA0NjY4NzE3MTJ8MTA0MjEyNTA1fEFPSyBSaGVpbmxhbmQvSGFtYnVyZ3xLYXNlcm5lbnN0ci4gNjFeXkTDvHNzZWxkb3JmXl40MDIxM3x8MTk3NS8zfDR8T0ZGS1Z8fHx8MjAyNjA2MzB8fFJ8TmFzZXJpXlphaHJhfHwxOTQ1MDUwMnxTZXVtZXN0ci4gNDFeXkhhbWJ1cmdeXjIyMDg5XkR8fHx8fHx8fHx8MjAyNDEyMTIwMDAwMDB8fHx8fHw0MjEyNTA1XjI0MTAxXjA2MjZeNTAwMF40DQ=="

                },

                "outboundTemplate": {

                  "@encoding": "base64",

                  "$": "TVNIfF5+XCZ8RFBTfHxNSVJUSHx8MjAyNDEyMTIxMDI4Mjd8fEFEVF5BMDh8MzcyMTExODR8UHwyLjJ8fHxBTHxORQ1FVk58QTA4fDIwMjQxMjEyMTAyODI2DVBJRHx8Mzg3MzE2MHwzODczMTYwfDQ0MTE0NzYyfE5hc2VyaV5aYWhyYXx8MTk0NTA1MDIwMDAwMDB8V3x8fFNldW1lc3RyLiA0MV5eSGFtYnVyZ15eMjIwODleRHwwMDI1MDE1MDR8MDE3NiAyMDU1MTA2M3x8QUZHfHx8fHxudXNlcml0YWhlcjYzMEBnbWFpbC5jb218fHxIZXJhdHxOfHxBRkcNTksxfDF8TmFzZXJpXlRhaGVyfFNPSE58Xl5IYW1idXJnXl5eRHwwMTc2IDIwNTUxMDYzDVBWMXx8QXxBTUJaTkFeXl5VTkZPUlRIT3x8NDQxMTQ3NjJ8fHx8fHx8fHx8fHx8QU5PVHw0NDExNDc2Mnx8S3x8fHx8fHx8fHx8fHx8fHx8fDk4MDI5MHx8fHx8MjAyNDEyMTIxMDI3MDB8MjAyNDEyMTIyMDI3MDB8fHx8MHw0NDExNDc2Mg1PQlh8MXxDV0V8Q0FWRV5eSEw3LURFVV5QRVJTSU5GT15QZXJzb25lbmJlem9nZW5lIEluZm9ybWF0aW9uZW5eRFBTLVgxMDA2UFhUfHxDT1ZJREdFSU1QRlReQ09WSUQtMTkgMnggZ2VpbXBmdHx8fHx8fHx8fDIwMjIwOTE0XjIwOTkxMjMxDU9CWHwyfENXRXxDQVZFXl5ITDctREVVXlBFUlNJTkZPXlBlcnNvbmVuYmV6b2dlbmUgSW5mb3JtYXRpb25lbl5EUFMtWDEwMDZQWFR8fERTR1ZPTVZaXkRTR1ZPIE1WWiBFaW53LiB1bnRlcnNjaHJpZWJlbnx8fHx8fHx8fDIwMjIwODI5XjIwOTkxMjMxDUlOMXwxfFA0NjY4NzE3MTJ8MTA0MjEyNTA1fEFPSyBSaGVpbmxhbmQvSGFtYnVyZ3xLYXNlcm5lbnN0ci4gNjFeXkTDvHNzZWxkb3JmXl40MDIxM3x8MTk3NS8zfDR8T0ZGS1Z8fHx8MjAyNjA2MzB8fFJ8TmFzZXJpXlphaHJhfHwxOTQ1MDUwMnxTZXVtZXN0ci4gNDFeXkhhbWJ1cmdeXjIyMDg5XkR8fHx8fHx8fHx8MjAyNDEyMTIwMDAwMDB8fHx8fHw0MjEyNTA1XjI0MTAxXjA2MjZeNTAwMF40DQ=="

                },

                "inboundDataType": "HL7V2",

                "outboundDataType": "HL7V2",

                "inboundProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties",

                  "@version": "4.5.1",

                  "serializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties",

                    "@version": "4.5.1",

                    "handleRepetitions": true,

                    "handleSubcomponents": true,

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "stripNamespaces": false,

                    "segmentDelimiter": "\\r",

                    "convertLineBreaks": true

                  },

                  "deserializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties",

                    "@version": "4.5.1",

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "segmentDelimiter": "\\r"

                  },

                  "batchProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties",

                    "@version": "4.5.1",

                    "splitType": "MSH_Segment",

                    "batchScript": null

                  },

                  "responseGenerationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties",

                    "@version": "4.5.1",

                    "segmentDelimiter": "\\r",

                    "successfulACKCode": "AA",

                    "successfulACKMessage": null,

                    "errorACKCode": "AE",

                    "errorACKMessage": "An Error Occurred Processing Message.",

                    "rejectedACKCode": "AR",

                    "rejectedACKMessage": "Message Rejected.",

                    "msh15ACKAccept": false,

                    "dateFormat": "yyyyMMddHHmmss.SSS"

                  },

                  "responseValidationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties",

                    "@version": "4.5.1",

                    "successfulACKCode": "AA,CA",

                    "errorACKCode": "AE,CE",

                    "rejectedACKCode": "AR,CR",

                    "validateMessageControlId": true,

                    "originalMessageControlId": "Destination_Encoded",

                    "originalIdMapVariable": null

                  }

                },

                "outboundProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties",

                  "@version": "4.5.1",

                  "serializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties",

                    "@version": "4.5.1",

                    "handleRepetitions": true,

                    "handleSubcomponents": true,

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "stripNamespaces": false,

                    "segmentDelimiter": "\\r",

                    "convertLineBreaks": true

                  },

                  "deserializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties",

                    "@version": "4.5.1",

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "segmentDelimiter": "\\r"

                  },

                  "batchProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties",

                    "@version": "4.5.1",

                    "splitType": "MSH_Segment",

                    "batchScript": null

                  },

                  "responseGenerationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties",

                    "@version": "4.5.1",

                    "segmentDelimiter": "\\r",

                    "successfulACKCode": "AA",

                    "successfulACKMessage": null,

                    "errorACKCode": "AE",

                    "errorACKMessage": "An Error Occurred Processing Message.",

                    "rejectedACKCode": "AR",

                    "rejectedACKMessage": "Message Rejected.",

                    "msh15ACKAccept": false,

                    "dateFormat": "yyyyMMddHHmmss.SSS"

                  },

                  "responseValidationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties",

                    "@version": "4.5.1",

                    "successfulACKCode": "AA,CA",

                    "errorACKCode": "AE,CE",

                    "rejectedACKCode": "AR,CR",

                    "validateMessageControlId": true,

                    "originalMessageControlId": "Destination_Encoded",

                    "originalIdMapVariable": null

                  }

                }

              },

              "responseTransformer": {

                "@version": "4.5.1",

                "elements": null,

                "inboundDataType": "HL7V2",

                "outboundDataType": "HL7V2",

                "inboundProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties",

                  "@version": "4.5.1",

                  "serializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties",

                    "@version": "4.5.1",

                    "handleRepetitions": true,

                    "handleSubcomponents": true,

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "stripNamespaces": false,

                    "segmentDelimiter": "\\r",

                    "convertLineBreaks": true

                  },

                  "deserializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties",

                    "@version": "4.5.1",

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "segmentDelimiter": "\\r"

                  },

                  "batchProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties",

                    "@version": "4.5.1",

                    "splitType": "MSH_Segment",

                    "batchScript": null

                  },

                  "responseGenerationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties",

                    "@version": "4.5.1",

                    "segmentDelimiter": "\\r",

                    "successfulACKCode": "AA",

                    "successfulACKMessage": null,

                    "errorACKCode": "AE",

                    "errorACKMessage": "An Error Occurred Processing Message.",

                    "rejectedACKCode": "AR",

                    "rejectedACKMessage": "Message Rejected.",

                    "msh15ACKAccept": false,

                    "dateFormat": "yyyyMMddHHmmss.SSS"

                  },

                  "responseValidationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties",

                    "@version": "4.5.1",

                    "successfulACKCode": "AA,CA",

                    "errorACKCode": "AE,CE",

                    "rejectedACKCode": "AR,CR",

                    "validateMessageControlId": true,

                    "originalMessageControlId": "Destination_Encoded",

                    "originalIdMapVariable": null

                  }

                },

                "outboundProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties",

                  "@version": "4.5.1",

                  "serializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties",

                    "@version": "4.5.1",

                    "handleRepetitions": true,

                    "handleSubcomponents": true,

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "stripNamespaces": false,

                    "segmentDelimiter": "\\r",

                    "convertLineBreaks": true

                  },

                  "deserializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties",

                    "@version": "4.5.1",

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "segmentDelimiter": "\\r"

                  },

                  "batchProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties",

                    "@version": "4.5.1",

                    "splitType": "MSH_Segment",

                    "batchScript": null

                  },

                  "responseGenerationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties",

                    "@version": "4.5.1",

                    "segmentDelimiter": "\\r",

                    "successfulACKCode": "AA",

                    "successfulACKMessage": null,

                    "errorACKCode": "AE",

                    "errorACKMessage": "An Error Occurred Processing Message.",

                    "rejectedACKCode": "AR",

                    "rejectedACKMessage": "Message Rejected.",

                    "msh15ACKAccept": false,

                    "dateFormat": "yyyyMMddHHmmss.SSS"

                  },

                  "responseValidationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties",

                    "@version": "4.5.1",

                    "successfulACKCode": "AA,CA",

                    "errorACKCode": "AE,CE",

                    "rejectedACKCode": "AR,CR",

                    "validateMessageControlId": true,

                    "originalMessageControlId": "Destination_Encoded",

                    "originalIdMapVariable": null

                  }

                }

              },

              "filter": {

                "@version": "4.5.1",

                "elements": {

                  "com.mirth.connect.plugins.rulebuilder.RuleBuilderRule": {

                    "@version": "4.5.1",

                    "name": "Accept message if \"msg['MSH']['MSH.9']['MSH.9.2'].toString()\" equals 'A01' or 'A02' or 'A03' or 'A04' or 'A05' or 'A06' or 'A07' or 'A08' or 'A11' or 'A12' or 'A13' or 'A29' or 'A34' or 'A40' or 'A23'",

                    "sequenceNumber": 0,

                    "enabled": true,

                    "field": "msg['MSH']['MSH.9']['MSH.9.2'].toString()",

                    "condition": "EQUALS",

                    "values": {

                      "string": [

                        "'A01'",

                        "'A02'",

                        "'A03'",

                        "'A04'",

                        "'A05'",

                        "'A06'",

                        "'A07'",

                        "'A08'",

                        "'A11'",

                        "'A12'",

                        "'A13'",

                        "'A29'",

                        "'A34'",

                        "'A40'",

                        "'A23'"

                      ]

                    }

                  },

                  "com.mirth.connect.plugins.javascriptrule.JavaScriptRule": {

                    "@version": "4.5.1",

                    "name": "Filter messages without Visit-ID",

                    "sequenceNumber": 1,

                    "enabled": true,

                    "operator": "AND",

                    "script": "//Nachrichten ohne Fallnummern werden nicht gesendet. MBA 03.09.2019\n\nif(msg['PV1']['PV1.19']['PV1.19.1'].toString().length>0){\n\treturn true;\n}\nreturn false;"

                  }

                }

              },

              "transportName": "TCP Sender",

              "mode": "DESTINATION",

              "enabled": true,

              "waitForPrevious": false

            },

            {

              "@version": "4.5.1",

              "metaDataId": 20,

              "name": "Viewpoint 6 Innere",

              "properties": {

                "@class": "com.mirth.connect.connectors.tcp.TcpDispatcherProperties",

                "@version": "4.5.1",

                "pluginProperties": null,

                "destinationConnectorProperties": {

                  "@version": "4.5.1",

                  "queueEnabled": true,

                  "sendFirst": true,

                  "retryIntervalMillis": 10000,

                  "regenerateTemplate": true,

                  "retryCount": 0,

                  "rotate": false,

                  "includeFilterTransformer": false,

                  "threadCount": 1,

                  "threadAssignmentVariable": null,

                  "validateResponse": true,

                  "resourceIds": {

                    "@class": "linked-hash-map",

                    "entry": {

                      "string": [

                        "Default Resource",

                        "[Default Resource]"

                      ]

                    }

                  },

                  "queueBufferSize": 1000,

                  "reattachAttachments": true

                },

                "transmissionModeProperties": {

                  "@class": "com.mirth.connect.plugins.mllpmode.MLLPModeProperties",

                  "pluginPointName": "MLLP",

                  "startOfMessageBytes": "0B",

                  "endOfMessageBytes": "1C0D",

                  "useMLLPv2": false,

                  "ackBytes": "06",

                  "nackBytes": 15,

                  "maxRetries": 2

                },

                "serverMode": false,

                "remoteAddress": "172.19.3.156",

                "remotePort": 2575,

                "overrideLocalBinding": false,

                "localAddress": "0.0.0.0",

                "localPort": 0,

                "sendTimeout": 0,

                "bufferSize": 65536,

                "maxConnections": 10,

                "keepConnectionOpen": true,

                "checkRemoteHost": true,

                "responseTimeout": 5000,

                "ignoreResponse": false,

                "queueOnResponseTimeout": true,

                "dataTypeBinary": false,

                "charsetEncoding": "ISO-8859-15",

                "template": "${message.encodedData}"

              },

              "transformer": {

                "@version": "4.5.1",

                "elements": {

                  "com.mirth.connect.plugins.javascriptstep.JavaScriptStep": [

                    {

                      "@version": "4.5.1",

                      "name": "prepare tmp",

                      "sequenceNumber": 0,

                      "enabled": true,

                      "script": "tmp = msg.copy();"

                    },

                    {

                      "@version": "4.5.1",

                      "name": "adjust MSH",

                      "sequenceNumber": 1,

                      "enabled": true,

                      "script": "tmp['MSH']['MSH.5']['MSH.5.1'] = 'PIA';"

                    },

                    {

                      "@version": "4.5.1",

                      "name": "delete segments",

                      "sequenceNumber": 2,

                      "enabled": true,

                      "script": "delete tmp['DG1'];\ndelete tmp['PR1'];\ndelete tmp['ZBE'];"

                    },

                    {

                      "@version": "4.5.1",

                      "name": "Map A34 to A40",

                      "sequenceNumber": 3,

                      "enabled": true,

                      "script": "//21.08.2019 MBA\n//Umwandlung der A34 in eine A40\n\nif( msg['MSH']['MSH.9']['MSH.9.2'].toString() == 'A34' &&\n    msg['PV1']['PV1.19']['PV1.19.1'].toString().length>0)\n   {\n   \ttmp['MSH']['MSH.9']['MSH.9.2'] = 'A40';\n   \ttmp['EVN']['EVN.1']['EVN.1.1'] = 'A40';\n   \ttmp['MRG']['MRG.5']['MRG.5.1'] = msg['PV1']['PV1.19']['PV1.19.1'].toString();\n   }"

                    }

                  ]

                },

                "inboundTemplate": {

                  "@encoding": "base64",

                  "$": "TVNIfF5+XCZ8RFBTfHxNSVJUSHx8MjAyNDEyMTIxMDI4Mjd8fEFEVF5BMDh8MzcyMTExODR8UHwyLjJ8fHxBTHxORQ1FVk58QTA4fDIwMjQxMjEyMTAyODI2DVBJRHx8Mzg3MzE2MHwzODczMTYwfDQ0MTE0NzYyfE5hc2VyaV5aYWhyYXx8MTk0NTA1MDIwMDAwMDB8V3x8fFNldW1lc3RyLiA0MV5eSGFtYnVyZ15eMjIwODleRHwwMDI1MDE1MDR8MDE3NiAyMDU1MTA2M3x8QUZHfHx8fHxudXNlcml0YWhlcjYzMEBnbWFpbC5jb218fHxIZXJhdHxOfHxBRkcNTksxfDF8TmFzZXJpXlRhaGVyfFNPSE58Xl5IYW1idXJnXl5eRHwwMTc2IDIwNTUxMDYzDVBWMXx8QXxBTUJaTkFeXl5VTkZPUlRIT3x8NDQxMTQ3NjJ8fHx8fHx8fHx8fHx8QU5PVHw0NDExNDc2Mnx8S3x8fHx8fHx8fHx8fHx8fHx8fDk4MDI5MHx8fHx8MjAyNDEyMTIxMDI3MDB8MjAyNDEyMTIyMDI3MDB8fHx8MHw0NDExNDc2Mg1PQlh8MXxDV0V8Q0FWRV5eSEw3LURFVV5QRVJTSU5GT15QZXJzb25lbmJlem9nZW5lIEluZm9ybWF0aW9uZW5eRFBTLVgxMDA2UFhUfHxDT1ZJREdFSU1QRlReQ09WSUQtMTkgMnggZ2VpbXBmdHx8fHx8fHx8fDIwMjIwOTE0XjIwOTkxMjMxDU9CWHwyfENXRXxDQVZFXl5ITDctREVVXlBFUlNJTkZPXlBlcnNvbmVuYmV6b2dlbmUgSW5mb3JtYXRpb25lbl5EUFMtWDEwMDZQWFR8fERTR1ZPTVZaXkRTR1ZPIE1WWiBFaW53LiB1bnRlcnNjaHJpZWJlbnx8fHx8fHx8fDIwMjIwODI5XjIwOTkxMjMxDUlOMXwxfFA0NjY4NzE3MTJ8MTA0MjEyNTA1fEFPSyBSaGVpbmxhbmQvSGFtYnVyZ3xLYXNlcm5lbnN0ci4gNjFeXkTDvHNzZWxkb3JmXl40MDIxM3x8MTk3NS8zfDR8T0ZGS1Z8fHx8MjAyNjA2MzB8fFJ8TmFzZXJpXlphaHJhfHwxOTQ1MDUwMnxTZXVtZXN0ci4gNDFeXkhhbWJ1cmdeXjIyMDg5XkR8fHx8fHx8fHx8MjAyNDEyMTIwMDAwMDB8fHx8fHw0MjEyNTA1XjI0MTAxXjA2MjZeNTAwMF40DQ=="

                },

                "outboundTemplate": {

                  "@encoding": "base64",

                  "$": "TVNIfF5+XCZ8RFBTfHxNSVJUSHx8MjAyNDEyMTIxMDI4Mjd8fEFEVF5BMDh8MzcyMTExODR8UHwyLjJ8fHxBTHxORQ1FVk58QTA4fDIwMjQxMjEyMTAyODI2DVBJRHx8Mzg3MzE2MHwzODczMTYwfDQ0MTE0NzYyfE5hc2VyaV5aYWhyYXx8MTk0NTA1MDIwMDAwMDB8V3x8fFNldW1lc3RyLiA0MV5eSGFtYnVyZ15eMjIwODleRHwwMDI1MDE1MDR8MDE3NiAyMDU1MTA2M3x8QUZHfHx8fHxudXNlcml0YWhlcjYzMEBnbWFpbC5jb218fHxIZXJhdHxOfHxBRkcNTksxfDF8TmFzZXJpXlRhaGVyfFNPSE58Xl5IYW1idXJnXl5eRHwwMTc2IDIwNTUxMDYzDVBWMXx8QXxBTUJaTkFeXl5VTkZPUlRIT3x8NDQxMTQ3NjJ8fHx8fHx8fHx8fHx8QU5PVHw0NDExNDc2Mnx8S3x8fHx8fHx8fHx8fHx8fHx8fDk4MDI5MHx8fHx8MjAyNDEyMTIxMDI3MDB8MjAyNDEyMTIyMDI3MDB8fHx8MHw0NDExNDc2Mg1PQlh8MXxDV0V8Q0FWRV5eSEw3LURFVV5QRVJTSU5GT15QZXJzb25lbmJlem9nZW5lIEluZm9ybWF0aW9uZW5eRFBTLVgxMDA2UFhUfHxDT1ZJREdFSU1QRlReQ09WSUQtMTkgMnggZ2VpbXBmdHx8fHx8fHx8fDIwMjIwOTE0XjIwOTkxMjMxDU9CWHwyfENXRXxDQVZFXl5ITDctREVVXlBFUlNJTkZPXlBlcnNvbmVuYmV6b2dlbmUgSW5mb3JtYXRpb25lbl5EUFMtWDEwMDZQWFR8fERTR1ZPTVZaXkRTR1ZPIE1WWiBFaW53LiB1bnRlcnNjaHJpZWJlbnx8fHx8fHx8fDIwMjIwODI5XjIwOTkxMjMxDUlOMXwxfFA0NjY4NzE3MTJ8MTA0MjEyNTA1fEFPSyBSaGVpbmxhbmQvSGFtYnVyZ3xLYXNlcm5lbnN0ci4gNjFeXkTDvHNzZWxkb3JmXl40MDIxM3x8MTk3NS8zfDR8T0ZGS1Z8fHx8MjAyNjA2MzB8fFJ8TmFzZXJpXlphaHJhfHwxOTQ1MDUwMnxTZXVtZXN0ci4gNDFeXkhhbWJ1cmdeXjIyMDg5XkR8fHx8fHx8fHx8MjAyNDEyMTIwMDAwMDB8fHx8fHw0MjEyNTA1XjI0MTAxXjA2MjZeNTAwMF40DQ=="

                },

                "inboundDataType": "HL7V2",

                "outboundDataType": "HL7V2",

                "inboundProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties",

                  "@version": "4.5.1",

                  "serializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties",

                    "@version": "4.5.1",

                    "handleRepetitions": true,

                    "handleSubcomponents": true,

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "stripNamespaces": false,

                    "segmentDelimiter": "\\r",

                    "convertLineBreaks": true

                  },

                  "deserializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties",

                    "@version": "4.5.1",

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "segmentDelimiter": "\\r"

                  },

                  "batchProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties",

                    "@version": "4.5.1",

                    "splitType": "MSH_Segment",

                    "batchScript": null

                  },

                  "responseGenerationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties",

                    "@version": "4.5.1",

                    "segmentDelimiter": "\\r",

                    "successfulACKCode": "AA",

                    "successfulACKMessage": null,

                    "errorACKCode": "AE",

                    "errorACKMessage": "An Error Occurred Processing Message.",

                    "rejectedACKCode": "AR",

                    "rejectedACKMessage": "Message Rejected.",

                    "msh15ACKAccept": false,

                    "dateFormat": "yyyyMMddHHmmss.SSS"

                  },

                  "responseValidationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties",

                    "@version": "4.5.1",

                    "successfulACKCode": "AA,CA",

                    "errorACKCode": "AE,CE",

                    "rejectedACKCode": "AR,CR",

                    "validateMessageControlId": true,

                    "originalMessageControlId": "Destination_Encoded",

                    "originalIdMapVariable": null

                  }

                },

                "outboundProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties",

                  "@version": "4.5.1",

                  "serializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties",

                    "@version": "4.5.1",

                    "handleRepetitions": true,

                    "handleSubcomponents": true,

                   "useStrictParser": false,

                    "useStrictValidation": false,

                    "stripNamespaces": false,

                    "segmentDelimiter": "\\r",

                    "convertLineBreaks": true

                  },

                 "deserializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties",

                    "@version": "4.5.1",

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "segmentDelimiter": "\\r"

                  },

                  "batchProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties",

                    "@version": "4.5.1",

                    "splitType": "MSH_Segment",

                    "batchScript": null

                  },

                  "responseGenerationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties",

                    "@version": "4.5.1",

                    "segmentDelimiter": "\\r",

                    "successfulACKCode": "AA",

                    "successfulACKMessage": null,

                    "errorACKCode": "AE",

                    "errorACKMessage": "An Error Occurred Processing Message.",

                    "rejectedACKCode": "AR",

                    "rejectedACKMessage": "Message Rejected.",

                    "msh15ACKAccept": false,

                    "dateFormat": "yyyyMMddHHmmss.SSS"

                  },

                  "responseValidationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties",

                    "@version": "4.5.1",

                    "successfulACKCode": "AA,CA",

                    "errorACKCode": "AE,CE",

                    "rejectedACKCode": "AR,CR",

                    "validateMessageControlId": true,

                    "originalMessageControlId": "Destination_Encoded",

                    "originalIdMapVariable": null

                  }

                }

              },

              "responseTransformer": {

                "@version": "4.5.1",

                "elements": null,

                "inboundDataType": "HL7V2",

                "outboundDataType": "HL7V2",

                "inboundProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties",

                  "@version": "4.5.1",

                  "serializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties",

                    "@version": "4.5.1",

                    "handleRepetitions": true,

                    "handleSubcomponents": true,

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "stripNamespaces": false,

                    "segmentDelimiter": "\\r",

                    "convertLineBreaks": true

                  },

                  "deserializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties",

                    "@version": "4.5.1",

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "segmentDelimiter": "\\r"

                  },

                  "batchProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties",

                    "@version": "4.5.1",

                    "splitType": "MSH_Segment",

                    "batchScript": null

                  },

                  "responseGenerationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties",

                    "@version": "4.5.1",

                    "segmentDelimiter": "\\r",

                    "successfulACKCode": "AA",

                    "successfulACKMessage": null,

                    "errorACKCode": "AE",

                    "errorACKMessage": "An Error Occurred Processing Message.",

                    "rejectedACKCode": "AR",

                    "rejectedACKMessage": "Message Rejected.",

                    "msh15ACKAccept": false,

                    "dateFormat": "yyyyMMddHHmmss.SSS"

                  },

                  "responseValidationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties",

                    "@version": "4.5.1",

                    "successfulACKCode": "AA,CA",

                    "errorACKCode": "AE,CE",

                   "rejectedACKCode": "AR,CR",

                    "validateMessageControlId": true,

                    "originalMessageControlId": "Destination_Encoded",

                    "originalIdMapVariable": null

                  }

                },

                "outboundProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties",

                  "@version": "4.5.1",

                  "serializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties",

                    "@version": "4.5.1",

                    "handleRepetitions": true,

                    "handleSubcomponents": true,

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "stripNamespaces": false,

                    "segmentDelimiter": "\\r",

                    "convertLineBreaks": true

                  },

                  "deserializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties",

                    "@version": "4.5.1",

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "segmentDelimiter": "\\r"

                  },

                  "batchProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties",

                    "@version": "4.5.1",

                    "splitType": "MSH_Segment",

                    "batchScript": null

                  },

                  "responseGenerationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties",

                    "@version": "4.5.1",

                    "segmentDelimiter": "\\r",

                    "successfulACKCode": "AA",

                    "successfulACKMessage": null,

                    "errorACKCode": "AE",

                    "errorACKMessage": "An Error Occurred Processing Message.",

                    "rejectedACKCode": "AR",

                    "rejectedACKMessage": "Message Rejected.",

                    "msh15ACKAccept": false,

                    "dateFormat": "yyyyMMddHHmmss.SSS"

                  },

                  "responseValidationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties",

                    "@version": "4.5.1",

                    "successfulACKCode": "AA,CA",

                    "errorACKCode": "AE,CE",

                    "rejectedACKCode": "AR,CR",

                    "validateMessageControlId": true,

                    "originalMessageControlId": "Destination_Encoded",

                    "originalIdMapVariable": null

                  }

                }

              },

              "filter": {

                "@version": "4.5.1",

                "elements": {

                  "com.mirth.connect.plugins.rulebuilder.RuleBuilderRule": {

                    "@version": "4.5.1",

                    "name": "Accept message if \"msg['MSH']['MSH.9']['MSH.9.2'].toString()\" equals 'A01' or 'A02' or 'A03' or 'A04' or 'A05' or 'A06' or 'A07' or 'A08' or 'A11' or 'A12' or 'A13' or 'A29' or 'A34' or 'A40' or 'A23'",

                    "sequenceNumber": 0,

                    "enabled": true,

                    "field": "msg['MSH']['MSH.9']['MSH.9.2'].toString()",

                    "condition": "EQUALS",

                    "values": {

                      "string": [

                        "'A01'",

                        "'A02'",

                        "'A03'",

                        "'A04'",

                        "'A05'",

                        "'A06'",

                        "'A07'",

                        "'A08'",

                        "'A11'",

                        "'A12'",

                        "'A13'",

                        "'A29'",

                        "'A34'",

                        "'A40'",

                        "'A23'"

                      ]

                    }

                  },

                  "com.mirth.connect.plugins.javascriptrule.JavaScriptRule": {

                    "@version": "4.5.1",

                    "name": "Filter messages without Visit-ID",

                    "sequenceNumber": 1,

                    "enabled": true,

                    "operator": "AND",

                    "script": "//Nachrichten ohne Fallnummern werden nicht gesendet. MBA 03.09.2019\n\nif(msg['PV1']['PV1.19']['PV1.19.1'].toString().length>0){\n\treturn true;\n}\nreturn false;"

                  }

                }

              },

              "transportName": "TCP Sender",

              "mode": "DESTINATION",

              "enabled": true,

              "waitForPrevious": false

            },

            {

              "@version": "4.5.1",

              "metaDataId": 21,

              "name": "Medat",

              "properties": {

                "@class": "com.mirth.connect.connectors.tcp.TcpDispatcherProperties",

                "@version": "4.5.1",

                "pluginProperties": null,

                "destinationConnectorProperties": {

                  "@version": "4.5.1",

                  "queueEnabled": true,

                  "sendFirst": true,

                  "retryIntervalMillis": 10000,

                  "regenerateTemplate": true,

                  "retryCount": 0,

                  "rotate": false,

                  "includeFilterTransformer": false,

                  "threadCount": 1,

                  "threadAssignmentVariable": null,

                  "validateResponse": true,

                  "resourceIds": {

                    "@class": "linked-hash-map",

                    "entry": {

                      "string": [

                        "Default Resource",

                        "[Default Resource]"

                      ]

                    }

                  },

                  "queueBufferSize": 1000,

                  "reattachAttachments": true

                },

                "transmissionModeProperties": {

                  "@class": "com.mirth.connect.plugins.mllpmode.MLLPModeProperties",

                  "pluginPointName": "MLLP",

                  "startOfMessageBytes": "0B",

                  "endOfMessageBytes": "1C0D",

                  "useMLLPv2": false,

                  "ackBytes": "06",

                  "nackBytes": 15,

                  "maxRetries": 2

                },

                "serverMode": false,

                "remoteAddress": "172.19.40.44",

                "remotePort": 13101,

                "overrideLocalBinding": false,

                "localAddress": "0.0.0.0",

                "localPort": 0,

                "sendTimeout": 0,

                "bufferSize": 65536,

                "maxConnections": 10,

                "keepConnectionOpen": true,

                "checkRemoteHost": true,

                "responseTimeout": 5000,

                "ignoreResponse": false,

                "queueOnResponseTimeout": true,

                "dataTypeBinary": false,

                "charsetEncoding": "ISO-8859-15",

                "template": "${message.encodedData}"

              },

              "transformer": {

                "@version": "4.5.1",

                "elements": {

                  "com.mirth.connect.plugins.javascriptstep.JavaScriptStep": [

                    {

                      "@version": "4.5.1",

                      "name": "prepare tmp",

                      "sequenceNumber": 0,

                      "enabled": true,

                      "script": "tmp = msg.copy();"

                    },

                    {

                      "@version": "4.5.1",

                      "name": "delete segments",

                      "sequenceNumber": 1,

                      "enabled": true,

                      "script": "delete tmp['PR1'];\ndelete tmp['ZBE'];\ndelete tmp['AL1'];\ndelete tmp['OBX'];"

                    },

                    {

                      "@version": "4.5.1",

                      "name": "delete DG1 segments without the first",

                      "sequenceNumber": 2,

                      "enabled": false,

                      "script": "//löscht alle DG1 Segmente bis auf das erste DG1 Segment! 14.08.2020 MBA\nfor(var i=msg['DG1'].length()-1;i>=0;i--){\n\tif(msg['DG1'][i]['DG1.1']['DG1.1.1'].toString() != '1'){\n\t\tdelete tmp['DG1'][i];\n\t}\n}"

                    }

                  ]

                },

                "inboundTemplate": {

                  "@encoding": "base64",

                  "$": "TVNIfF5+XCZ8RFBTfHxNSVJUSHx8MjAyNDEyMTIxMDI4Mjd8fEFEVF5BMDh8MzcyMTExODR8UHwyLjJ8fHxBTHxORQ1FVk58QTA4fDIwMjQxMjEyMTAyODI2DVBJRHx8Mzg3MzE2MHwzODczMTYwfDQ0MTE0NzYyfE5hc2VyaV5aYWhyYXx8MTk0NTA1MDIwMDAwMDB8V3x8fFNldW1lc3RyLiA0MV5eSGFtYnVyZ15eMjIwODleRHwwMDI1MDE1MDR8MDE3NiAyMDU1MTA2M3x8QUZHfHx8fHxudXNlcml0YWhlcjYzMEBnbWFpbC5jb218fHxIZXJhdHxOfHxBRkcNTksxfDF8TmFzZXJpXlRhaGVyfFNPSE58Xl5IYW1idXJnXl5eRHwwMTc2IDIwNTUxMDYzDVBWMXx8QXxBTUJaTkFeXl5VTkZPUlRIT3x8NDQxMTQ3NjJ8fHx8fHx8fHx8fHx8QU5PVHw0NDExNDc2Mnx8S3x8fHx8fHx8fHx8fHx8fHx8fDk4MDI5MHx8fHx8MjAyNDEyMTIxMDI3MDB8MjAyNDEyMTIyMDI3MDB8fHx8MHw0NDExNDc2Mg1PQlh8MXxDV0V8Q0FWRV5eSEw3LURFVV5QRVJTSU5GT15QZXJzb25lbmJlem9nZW5lIEluZm9ybWF0aW9uZW5eRFBTLVgxMDA2UFhUfHxDT1ZJREdFSU1QRlReQ09WSUQtMTkgMnggZ2VpbXBmdHx8fHx8fHx8fDIwMjIwOTE0XjIwOTkxMjMxDU9CWHwyfENXRXxDQVZFXl5ITDctREVVXlBFUlNJTkZPXlBlcnNvbmVuYmV6b2dlbmUgSW5mb3JtYXRpb25lbl5EUFMtWDEwMDZQWFR8fERTR1ZPTVZaXkRTR1ZPIE1WWiBFaW53LiB1bnRlcnNjaHJpZWJlbnx8fHx8fHx8fDIwMjIwODI5XjIwOTkxMjMxDUlOMXwxfFA0NjY4NzE3MTJ8MTA0MjEyNTA1fEFPSyBSaGVpbmxhbmQvSGFtYnVyZ3xLYXNlcm5lbnN0ci4gNjFeXkTDvHNzZWxkb3JmXl40MDIxM3x8MTk3NS8zfDR8T0ZGS1Z8fHx8MjAyNjA2MzB8fFJ8TmFzZXJpXlphaHJhfHwxOTQ1MDUwMnxTZXVtZXN0ci4gNDFeXkhhbWJ1cmdeXjIyMDg5XkR8fHx8fHx8fHx8MjAyNDEyMTIwMDAwMDB8fHx8fHw0MjEyNTA1XjI0MTAxXjA2MjZeNTAwMF40DQ=="

                },

                "outboundTemplate": {

                  "@encoding": "base64",

                  "$": "TVNIfF5+XCZ8RFBTfHxNSVJUSHx8MjAyNDEyMTIxMDI4Mjd8fEFEVF5BMDh8MzcyMTExODR8UHwyLjJ8fHxBTHxORQ1FVk58QTA4fDIwMjQxMjEyMTAyODI2DVBJRHx8Mzg3MzE2MHwzODczMTYwfDQ0MTE0NzYyfE5hc2VyaV5aYWhyYXx8MTk0NTA1MDIwMDAwMDB8V3x8fFNldW1lc3RyLiA0MV5eSGFtYnVyZ15eMjIwODleRHwwMDI1MDE1MDR8MDE3NiAyMDU1MTA2M3x8QUZHfHx8fHxudXNlcml0YWhlcjYzMEBnbWFpbC5jb218fHxIZXJhdHxOfHxBRkcNTksxfDF8TmFzZXJpXlRhaGVyfFNPSE58Xl5IYW1idXJnXl5eRHwwMTc2IDIwNTUxMDYzDVBWMXx8QXxBTUJaTkFeXl5VTkZPUlRIT3x8NDQxMTQ3NjJ8fHx8fHx8fHx8fHx8QU5PVHw0NDExNDc2Mnx8S3x8fHx8fHx8fHx8fHx8fHx8fDk4MDI5MHx8fHx8MjAyNDEyMTIxMDI3MDB8MjAyNDEyMTIyMDI3MDB8fHx8MHw0NDExNDc2Mg1PQlh8MXxDV0V8Q0FWRV5eSEw3LURFVV5QRVJTSU5GT15QZXJzb25lbmJlem9nZW5lIEluZm9ybWF0aW9uZW5eRFBTLVgxMDA2UFhUfHxDT1ZJREdFSU1QRlReQ09WSUQtMTkgMnggZ2VpbXBmdHx8fHx8fHx8fDIwMjIwOTE0XjIwOTkxMjMxDU9CWHwyfENXRXxDQVZFXl5ITDctREVVXlBFUlNJTkZPXlBlcnNvbmVuYmV6b2dlbmUgSW5mb3JtYXRpb25lbl5EUFMtWDEwMDZQWFR8fERTR1ZPTVZaXkRTR1ZPIE1WWiBFaW53LiB1bnRlcnNjaHJpZWJlbnx8fHx8fHx8fDIwMjIwODI5XjIwOTkxMjMxDUlOMXwxfFA0NjY4NzE3MTJ8MTA0MjEyNTA1fEFPSyBSaGVpbmxhbmQvSGFtYnVyZ3xLYXNlcm5lbnN0ci4gNjFeXkTDvHNzZWxkb3JmXl40MDIxM3x8MTk3NS8zfDR8T0ZGS1Z8fHx8MjAyNjA2MzB8fFJ8TmFzZXJpXlphaHJhfHwxOTQ1MDUwMnxTZXVtZXN0ci4gNDFeXkhhbWJ1cmdeXjIyMDg5XkR8fHx8fHx8fHx8MjAyNDEyMTIwMDAwMDB8fHx8fHw0MjEyNTA1XjI0MTAxXjA2MjZeNTAwMF40DQ=="

                },

                "inboundDataType": "HL7V2",

                "outboundDataType": "HL7V2",

                "inboundProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties",

                  "@version": "4.5.1",

                  "serializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties",

                    "@version": "4.5.1",

                    "handleRepetitions": true,

                    "handleSubcomponents": true,

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "stripNamespaces": false,

                    "segmentDelimiter": "\\r",

                    "convertLineBreaks": true

                  },

                  "deserializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties",

                    "@version": "4.5.1",

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "segmentDelimiter": "\\r"

                  },

                  "batchProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties",

                    "@version": "4.5.1",

                    "splitType": "MSH_Segment",

                    "batchScript": null

                  },

                  "responseGenerationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties",

                    "@version": "4.5.1",

                    "segmentDelimiter": "\\r",

                    "successfulACKCode": "AA",

                    "successfulACKMessage": null,

                    "errorACKCode": "AE",

                    "errorACKMessage": "An Error Occurred Processing Message.",

                    "rejectedACKCode": "AR",

                    "rejectedACKMessage": "Message Rejected.",

                    "msh15ACKAccept": false,

                    "dateFormat": "yyyyMMddHHmmss.SSS"

                  },

                  "responseValidationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties",

                    "@version": "4.5.1",

                    "successfulACKCode": "AA,CA",

                    "errorACKCode": "AE,CE",

                    "rejectedACKCode": "AR,CR",

                    "validateMessageControlId": true,

                    "originalMessageControlId": "Destination_Encoded",

                    "originalIdMapVariable": null

                  }

                },

                "outboundProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties",

                  "@version": "4.5.1",

                  "serializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties",

                    "@version": "4.5.1",

                    "handleRepetitions": true,

                    "handleSubcomponents": true,

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "stripNamespaces": false,

                    "segmentDelimiter": "\\r",

                    "convertLineBreaks": true

                  },

                  "deserializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties",

                    "@version": "4.5.1",

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "segmentDelimiter": "\\r"

                  },

                  "batchProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties",

                    "@version": "4.5.1",

                    "splitType": "MSH_Segment",

                    "batchScript": null

                  },

                  "responseGenerationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties",

                    "@version": "4.5.1",

                    "segmentDelimiter": "\\r",

                    "successfulACKCode": "AA",

                    "successfulACKMessage": null,

                    "errorACKCode": "AE",

                    "errorACKMessage": "An Error Occurred Processing Message.",

                    "rejectedACKCode": "AR",

                    "rejectedACKMessage": "Message Rejected.",

                    "msh15ACKAccept": false,

                    "dateFormat": "yyyyMMddHHmmss.SSS"

                  },

                  "responseValidationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties",

                    "@version": "4.5.1",

                    "successfulACKCode": "AA,CA",

                    "errorACKCode": "AE,CE",

                    "rejectedACKCode": "AR,CR",

                    "validateMessageControlId": true,

                    "originalMessageControlId": "Destination_Encoded",

                    "originalIdMapVariable": null

                  }

                }

              },

              "responseTransformer": {

                "@version": "4.5.1",

                "elements": null,

                "inboundDataType": "HL7V2",

                "outboundDataType": "HL7V2",

                "inboundProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties",

                  "@version": "4.5.1",

                  "serializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties",

                    "@version": "4.5.1",

                    "handleRepetitions": true,

                    "handleSubcomponents": true,

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "stripNamespaces": false,

                    "segmentDelimiter": "\\r",

                    "convertLineBreaks": true

                  },

                  "deserializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties",

                    "@version": "4.5.1",

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "segmentDelimiter": "\\r"

                  },

                  "batchProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties",

                    "@version": "4.5.1",

                    "splitType": "MSH_Segment",

                    "batchScript": null

                  },

                  "responseGenerationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties",

                    "@version": "4.5.1",

                    "segmentDelimiter": "\\r",

                    "successfulACKCode": "AA",

                    "successfulACKMessage": null,

                    "errorACKCode": "AE",

                    "errorACKMessage": "An Error Occurred Processing Message.",

                    "rejectedACKCode": "AR",

                    "rejectedACKMessage": "Message Rejected.",

                    "msh15ACKAccept": false,

                    "dateFormat": "yyyyMMddHHmmss.SSS"

                  },

                  "responseValidationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties",

                    "@version": "4.5.1",

                    "successfulACKCode": "AA,CA",

                    "errorACKCode": "AE,CE",

                    "rejectedACKCode": "AR,CR",

                    "validateMessageControlId": true,

                    "originalMessageControlId": "Destination_Encoded",

                    "originalIdMapVariable": null

                  }

                },

                "outboundProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties",

                  "@version": "4.5.1",

                  "serializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties",

                    "@version": "4.5.1",

                    "handleRepetitions": true,

                    "handleSubcomponents": true,

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "stripNamespaces": false,

                    "segmentDelimiter": "\\r",

                    "convertLineBreaks": true

                  },

                  "deserializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties",

                    "@version": "4.5.1",

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "segmentDelimiter": "\\r"

                  },

                  "batchProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties",

                    "@version": "4.5.1",

                    "splitType": "MSH_Segment",

                    "batchScript": null

                  },

                  "responseGenerationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties",

                    "@version": "4.5.1",

                    "segmentDelimiter": "\\r",

                    "successfulACKCode": "AA",

                    "successfulACKMessage": null,

                    "errorACKCode": "AE",

                    "errorACKMessage": "An Error Occurred Processing Message.",

                    "rejectedACKCode": "AR",

                    "rejectedACKMessage": "Message Rejected.",

                    "msh15ACKAccept": false,

                    "dateFormat": "yyyyMMddHHmmss.SSS"

                  },

                  "responseValidationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties",

                    "@version": "4.5.1",

                    "successfulACKCode": "AA,CA",

                    "errorACKCode": "AE,CE",

                   "rejectedACKCode": "AR,CR",

                    "validateMessageControlId": true,

                    "originalMessageControlId": "Destination_Encoded",

                    "originalIdMapVariable": null

                  }

                }

              },

              "filter": {

                "@version": "4.5.1",

                "elements": null

              },

              "transportName": "TCP Sender",

              "mode": "DESTINATION",

              "enabled": true,

              "waitForPrevious": false

            },

            {

              "@version": "4.5.1",

              "metaDataId": 22,

              "name": "Draeger Infinity Gateway 1",

              "properties": {

                "@class": "com.mirth.connect.connectors.tcp.TcpDispatcherProperties",

                "@version": "4.5.1",

                "pluginProperties": null,

                "destinationConnectorProperties": {

                  "@version": "4.5.1",

                  "queueEnabled": true,

                  "sendFirst": true,

                  "retryIntervalMillis": 10000,

                  "regenerateTemplate": true,

                  "retryCount": 0,

                  "rotate": false,

                  "includeFilterTransformer": false,

                  "threadCount": 1,

                  "threadAssignmentVariable": null,

                  "validateResponse": true,

                  "resourceIds": {

                    "@class": "linked-hash-map",

                    "entry": {

                      "string": [

                        "Default Resource",

                        "[Default Resource]"

                      ]

                    }

                  },

                  "queueBufferSize": 1000,

                  "reattachAttachments": true

                },

                "transmissionModeProperties": {

                  "@class": "com.mirth.connect.plugins.mllpmode.MLLPModeProperties",

                 "pluginPointName": "MLLP",

                  "startOfMessageBytes": "0B",

                  "endOfMessageBytes": "1C0D",

                  "useMLLPv2": false,

                  "ackBytes": "06",

                  "nackBytes": 15,

                  "maxRetries": 2

                },

                "serverMode": false,

                "remoteAddress": "172.19.2.104",

                "remotePort": 2250,

                "overrideLocalBinding": false,

                "localAddress": "0.0.0.0",

                "localPort": 0,

                "sendTimeout": 5000,

                "bufferSize": 65536,

                "maxConnections": 10,

                "keepConnectionOpen": true,

                "checkRemoteHost": true,

                "responseTimeout": 5000,

                "ignoreResponse": false,

                "queueOnResponseTimeout": true,

                "dataTypeBinary": false,

                "charsetEncoding": "ISO-8859-15",

                "template": "${message.encodedData}"

              },

              "transformer": {

                "@version": "4.5.1",

                "elements": {

                  "com.mirth.connect.plugins.javascriptstep.JavaScriptStep": [

                    {

                      "@version": "4.5.1",

                      "name": "prepare tmp",

                      "sequenceNumber": 0,

                      "enabled": true,

                      "script": "tmp = msg.copy();"

                    },

                    {

                      "@version": "4.5.1",

                      "name": "Set receiving application",

                      "sequenceNumber": 1,

                      "enabled": true,

                      "script": "tmp['MSH']['MSH.5']['MSH.5.1'] = 'INFINITY';"

                    },

                    {

                      "@version": "4.5.1",

                      "name": "delete segments",

                      "sequenceNumber": 2,

                      "enabled": true,

                      "script": "delete tmp['DG1'];\ndelete tmp['PR1'];\ndelete tmp['ZBE'];\ndelete tmp['AL1'];\ndelete tmp['OBX'];"

                    }

                  ]

                },

                "inboundTemplate": {

                  "@encoding": "base64",

                  "$": "TVNIfF5+XCZ8RFBTfHxNSVJUSHx8MjAyNDEyMTIxMDI4Mjd8fEFEVF5BMDh8MzcyMTExODR8UHwyLjJ8fHxBTHxORQ1FVk58QTA4fDIwMjQxMjEyMTAyODI2DVBJRHx8Mzg3MzE2MHwzODczMTYwfDQ0MTE0NzYyfE5hc2VyaV5aYWhyYXx8MTk0NTA1MDIwMDAwMDB8V3x8fFNldW1lc3RyLiA0MV5eSGFtYnVyZ15eMjIwODleRHwwMDI1MDE1MDR8MDE3NiAyMDU1MTA2M3x8QUZHfHx8fHxudXNlcml0YWhlcjYzMEBnbWFpbC5jb218fHxIZXJhdHxOfHxBRkcNTksxfDF8TmFzZXJpXlRhaGVyfFNPSE58Xl5IYW1idXJnXl5eRHwwMTc2IDIwNTUxMDYzDVBWMXx8QXxBTUJaTkFeXl5VTkZPUlRIT3x8NDQxMTQ3NjJ8fHx8fHx8fHx8fHx8QU5PVHw0NDExNDc2Mnx8S3x8fHx8fHx8fHx8fHx8fHx8fDk4MDI5MHx8fHx8MjAyNDEyMTIxMDI3MDB8MjAyNDEyMTIyMDI3MDB8fHx8MHw0NDExNDc2Mg1PQlh8MXxDV0V8Q0FWRV5eSEw3LURFVV5QRVJTSU5GT15QZXJzb25lbmJlem9nZW5lIEluZm9ybWF0aW9uZW5eRFBTLVgxMDA2UFhUfHxDT1ZJREdFSU1QRlReQ09WSUQtMTkgMnggZ2VpbXBmdHx8fHx8fHx8fDIwMjIwOTE0XjIwOTkxMjMxDU9CWHwyfENXRXxDQVZFXl5ITDctREVVXlBFUlNJTkZPXlBlcnNvbmVuYmV6b2dlbmUgSW5mb3JtYXRpb25lbl5EUFMtWDEwMDZQWFR8fERTR1ZPTVZaXkRTR1ZPIE1WWiBFaW53LiB1bnRlcnNjaHJpZWJlbnx8fHx8fHx8fDIwMjIwODI5XjIwOTkxMjMxDUlOMXwxfFA0NjY4NzE3MTJ8MTA0MjEyNTA1fEFPSyBSaGVpbmxhbmQvSGFtYnVyZ3xLYXNlcm5lbnN0ci4gNjFeXkTDvHNzZWxkb3JmXl40MDIxM3x8MTk3NS8zfDR8T0ZGS1Z8fHx8MjAyNjA2MzB8fFJ8TmFzZXJpXlphaHJhfHwxOTQ1MDUwMnxTZXVtZXN0ci4gNDFeXkhhbWJ1cmdeXjIyMDg5XkR8fHx8fHx8fHx8MjAyNDEyMTIwMDAwMDB8fHx8fHw0MjEyNTA1XjI0MTAxXjA2MjZeNTAwMF40DQ=="

                },

                "outboundTemplate": {

                  "@encoding": "base64",

                  "$": "TVNIfF5+XCZ8RFBTfHxNSVJUSHx8MjAyNDEyMTIxMDI4Mjd8fEFEVF5BMDh8MzcyMTExODR8UHwyLjJ8fHxBTHxORQ1FVk58QTA4fDIwMjQxMjEyMTAyODI2DVBJRHx8Mzg3MzE2MHwzODczMTYwfDQ0MTE0NzYyfE5hc2VyaV5aYWhyYXx8MTk0NTA1MDIwMDAwMDB8V3x8fFNldW1lc3RyLiA0MV5eSGFtYnVyZ15eMjIwODleRHwwMDI1MDE1MDR8MDE3NiAyMDU1MTA2M3x8QUZHfHx8fHxudXNlcml0YWhlcjYzMEBnbWFpbC5jb218fHxIZXJhdHxOfHxBRkcNTksxfDF8TmFzZXJpXlRhaGVyfFNPSE58Xl5IYW1idXJnXl5eRHwwMTc2IDIwNTUxMDYzDVBWMXx8QXxBTUJaTkFeXl5VTkZPUlRIT3x8NDQxMTQ3NjJ8fHx8fHx8fHx8fHx8QU5PVHw0NDExNDc2Mnx8S3x8fHx8fHx8fHx8fHx8fHx8fDk4MDI5MHx8fHx8MjAyNDEyMTIxMDI3MDB8MjAyNDEyMTIyMDI3MDB8fHx8MHw0NDExNDc2Mg1PQlh8MXxDV0V8Q0FWRV5eSEw3LURFVV5QRVJTSU5GT15QZXJzb25lbmJlem9nZW5lIEluZm9ybWF0aW9uZW5eRFBTLVgxMDA2UFhUfHxDT1ZJREdFSU1QRlReQ09WSUQtMTkgMnggZ2VpbXBmdHx8fHx8fHx8fDIwMjIwOTE0XjIwOTkxMjMxDU9CWHwyfENXRXxDQVZFXl5ITDctREVVXlBFUlNJTkZPXlBlcnNvbmVuYmV6b2dlbmUgSW5mb3JtYXRpb25lbl5EUFMtWDEwMDZQWFR8fERTR1ZPTVZaXkRTR1ZPIE1WWiBFaW53LiB1bnRlcnNjaHJpZWJlbnx8fHx8fHx8fDIwMjIwODI5XjIwOTkxMjMxDUlOMXwxfFA0NjY4NzE3MTJ8MTA0MjEyNTA1fEFPSyBSaGVpbmxhbmQvSGFtYnVyZ3xLYXNlcm5lbnN0ci4gNjFeXkTDvHNzZWxkb3JmXl40MDIxM3x8MTk3NS8zfDR8T0ZGS1Z8fHx8MjAyNjA2MzB8fFJ8TmFzZXJpXlphaHJhfHwxOTQ1MDUwMnxTZXVtZXN0ci4gNDFeXkhhbWJ1cmdeXjIyMDg5XkR8fHx8fHx8fHx8MjAyNDEyMTIwMDAwMDB8fHx8fHw0MjEyNTA1XjI0MTAxXjA2MjZeNTAwMF40DQ=="

                },

                "inboundDataType": "HL7V2",

               "outboundDataType": "HL7V2",

                "inboundProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties",

                  "@version": "4.5.1",

                  "serializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties",

                    "@version": "4.5.1",

                    "handleRepetitions": true,

                    "handleSubcomponents": true,

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "stripNamespaces": false,

                    "segmentDelimiter": "\\r",

                    "convertLineBreaks": true

                  },

                  "deserializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties",

                    "@version": "4.5.1",

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "segmentDelimiter": "\\r"

                  },

                  "batchProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties",

                    "@version": "4.5.1",

                    "splitType": "MSH_Segment",

                    "batchScript": null

                  },

                  "responseGenerationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties",

                    "@version": "4.5.1",

                    "segmentDelimiter": "\\r",

                    "successfulACKCode": "AA",

                    "successfulACKMessage": null,

                    "errorACKCode": "AE",

                    "errorACKMessage": "An Error Occurred Processing Message.",

                    "rejectedACKCode": "AR",

                    "rejectedACKMessage": "Message Rejected.",

                    "msh15ACKAccept": false,

                    "dateFormat": "yyyyMMddHHmmss.SSS"

                  },

                  "responseValidationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties",

                    "@version": "4.5.1",

                    "successfulACKCode": "AA,CA",

                    "errorACKCode": "AE,CE",

                    "rejectedACKCode": "AR,CR",

                    "validateMessageControlId": true,

                    "originalMessageControlId": "Destination_Encoded",

                    "originalIdMapVariable": null

                  }

                },

                "outboundProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties",

                  "@version": "4.5.1",

                  "serializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties",

                    "@version": "4.5.1",

                    "handleRepetitions": true,

                    "handleSubcomponents": true,

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "stripNamespaces": false,

                    "segmentDelimiter": "\\r",

                    "convertLineBreaks": true

                  },

                  "deserializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties",

                    "@version": "4.5.1",

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "segmentDelimiter": "\\r"

                  },

                  "batchProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties",

                    "@version": "4.5.1",

                    "splitType": "MSH_Segment",

                    "batchScript": null

                  },

                  "responseGenerationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties",

                    "@version": "4.5.1",

                    "segmentDelimiter": "\\r",

                    "successfulACKCode": "AA",

                    "successfulACKMessage": null,

                    "errorACKCode": "AE",

                    "errorACKMessage": "An Error Occurred Processing Message.",

                    "rejectedACKCode": "AR",

                    "rejectedACKMessage": "Message Rejected.",

                    "msh15ACKAccept": false,

                    "dateFormat": "yyyyMMddHHmmss.SSS"

                  },

                  "responseValidationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties",

                    "@version": "4.5.1",

                    "successfulACKCode": "AA,CA",

                    "errorACKCode": "AE,CE",

                    "rejectedACKCode": "AR,CR",

                    "validateMessageControlId": true,

                    "originalMessageControlId": "Destination_Encoded",

                    "originalIdMapVariable": null

                  }

                }

              },

              "responseTransformer": {

                "@version": "4.5.1",

                "elements": null,

                "inboundDataType": "HL7V2",

                "outboundDataType": "HL7V2",

                "inboundProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties",

                  "@version": "4.5.1",

                  "serializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties",

                    "@version": "4.5.1",

                    "handleRepetitions": true,

                    "handleSubcomponents": true,

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "stripNamespaces": false,

                    "segmentDelimiter": "\\r",

                    "convertLineBreaks": true

                  },

                  "deserializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties",

                    "@version": "4.5.1",

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "segmentDelimiter": "\\r"

                  },

                  "batchProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties",

                    "@version": "4.5.1",

                    "splitType": "MSH_Segment",

                    "batchScript": null

                  },

                  "responseGenerationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties",

                    "@version": "4.5.1",

                    "segmentDelimiter": "\\r",

                    "successfulACKCode": "AA",

                    "successfulACKMessage": null,

                    "errorACKCode": "AE",

                    "errorACKMessage": "An Error Occurred Processing Message.",

                    "rejectedACKCode": "AR",

                    "rejectedACKMessage": "Message Rejected.",

                    "msh15ACKAccept": false,

                    "dateFormat": "yyyyMMddHHmmss.SSS"

                  },

                  "responseValidationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties",

                    "@version": "4.5.1",

                    "successfulACKCode": "AA,CA",

                    "errorACKCode": "AE,CE",

                    "rejectedACKCode": "AR,CR",

                    "validateMessageControlId": true,

                    "originalMessageControlId": "Destination_Encoded",

                    "originalIdMapVariable": null

                  }

                },

                "outboundProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties",

                  "@version": "4.5.1",

                  "serializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties",

                    "@version": "4.5.1",

                    "handleRepetitions": true,

                    "handleSubcomponents": true,

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "stripNamespaces": false,

                    "segmentDelimiter": "\\r",

                    "convertLineBreaks": true

                  },

                  "deserializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties",

                    "@version": "4.5.1",

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "segmentDelimiter": "\\r"

                  },

                  "batchProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties",

                    "@version": "4.5.1",

                    "splitType": "MSH_Segment",

                    "batchScript": null

                  },

                  "responseGenerationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties",

                    "@version": "4.5.1",

                    "segmentDelimiter": "\\r",

                    "successfulACKCode": "AA",

                    "successfulACKMessage": null,

                    "errorACKCode": "AE",

                    "errorACKMessage": "An Error Occurred Processing Message.",

                    "rejectedACKCode": "AR",

                    "rejectedACKMessage": "Message Rejected.",

                    "msh15ACKAccept": false,

                    "dateFormat": "yyyyMMddHHmmss.SSS"

                  },

                  "responseValidationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties",

                    "@version": "4.5.1",

                    "successfulACKCode": "AA,CA",

                    "errorACKCode": "AE,CE",

                    "rejectedACKCode": "AR,CR",

                    "validateMessageControlId": true,

                    "originalMessageControlId": "Destination_Encoded",

                    "originalIdMapVariable": null

                  }

                }

              },

              "filter": {

                "@version": "4.5.1",

                "elements": {

                  "com.mirth.connect.plugins.rulebuilder.RuleBuilderRule": {

                    "@version": "4.5.1",

                    "name": "Accept message if \"msg['MSH']['MSH.9']['MSH.9.2'].toString()\" equals 'A01' or 'A02' or 'A03' or 'A06' or 'A07' or 'A08' or 'A11' or 'A12' or 'A13' or 'A35' or 'A36'",

                    "sequenceNumber": 0,

                    "enabled": true,

                    "field": "msg['MSH']['MSH.9']['MSH.9.2'].toString()",

                    "condition": "EQUALS",

                    "values": {

                      "string": [

                        "'A01'",

                        "'A02'",

                        "'A03'",

                        "'A06'",

                        "'A07'",

                        "'A08'",

                        "'A11'",

                        "'A12'",

                        "'A13'",

                        "'A35'",

                        "'A36'"

                      ]

                    }

                  }

                }

              },

              "transportName": "TCP Sender",

              "mode": "DESTINATION",

              "enabled": true,

              "waitForPrevious": false

            }

          ]

        },

        "preprocessingScript": "// Modify the message variable below to pre process data\nreturn message;",

        "postprocessingScript": "// This script executes once after a message has been processed\n// Responses returned from here will be stored as \"Postprocessor\" in the response map\nreturn;",

        "deployScript": "// This script executes once when the channel is deployed\n// You only have access to the globalMap and globalChannelMap here to persist data\nreturn;",

        "undeployScript": "// This script executes once when the channel is undeployed\n// You only have access to the globalMap and globalChannelMap here to persist data\nreturn;",

        "properties": {

          "@version": "4.5.1",

          "clearGlobalChannelMap": true,

          "messageStorageMode": "PRODUCTION",

          "encryptData": false,

          "encryptAttachments": false,

          "encryptCustomMetaData": false,

          "removeContentOnCompletion": false,

          "removeOnlyFilteredOnCompletion": false,

          "removeAttachmentsOnCompletion": false,

          "initialState": "STARTED",

          "storeAttachments": false,

          "metaDataColumns": {

            "metaDataColumn": [

              {

                "name": "SOURCE",

                "type": "STRING",

                "mappingName": "mirth_source"

              },

              {

                "name": "TYPE",

                "type": "STRING",

                "mappingName": "mirth_type"

              },

              {

                "name": "PAT_ID",

                "type": "STRING",

                "mappingName": "patientId"

              },

              {

               "name": "VISIT_ID",

                "type": "STRING",

                "mappingName": "visitId"

              }

            ]

          },

          "attachmentProperties": {

            "@version": "4.5.1",

            "type": "None",

            "properties": null

          },

          "resourceIds": {

            "@class": "linked-hash-map",

            "entry": {

              "string": [

                "Default Resource",

                "[Default Resource]"

              ]

            }

          }

        },

        "exportData": {

          "metadata": {

            "enabled": true,

            "lastModified": {

              "time": 1743758292966,

              "timezone": "Europe/Berlin"

            },

            "pruningSettings": {

              "pruneMetaDataDays": 182,

              "archiveEnabled": true,

              "pruneErroredMessages": false

            },

            "userId": 2

          },

          "dependentIds": null,

          "dependencyIds": null,

          "channelTags": null

        }

      },

      {

        "@version": "4.5.1",

        "id": "ff44a96c-8519-41cc-9c84-12526a832347",

        "nextMetaDataId": 9,

        "name": "C_KISORM",

        "description": null,

        "revision": 14,

        "sourceConnector": {

          "@version": "4.5.1",

          "metaDataId": 0,

          "name": "sourceConnector",

          "properties": {

            "@class": "com.mirth.connect.connectors.tcp.TcpReceiverProperties",

            "@version": "4.5.1",

            "pluginProperties": null,

            "listenerConnectorProperties": {

              "@version": "4.5.1",

              "host": "0.0.0.0",

              "port": 6100

            },

            "sourceConnectorProperties": {

              "@version": "4.5.1",

              "responseVariable": "Auto-generate (After source transformer)",

              "respondAfterProcessing": true,

              "processBatch": false,

              "firstResponse": true,

              "processingThreads": 1,

              "resourceIds": {

                "@class": "linked-hash-map",

                "entry": {

                  "string": [

                    "Default Resource",

                    "[Default Resource]"

                  ]

                }

              },

              "queueBufferSize": 1000

            },

            "transmissionModeProperties": {

              "@class": "com.mirth.connect.plugins.mllpmode.MLLPModeProperties",

              "pluginPointName": "MLLP",

              "startOfMessageBytes": "0B",

              "endOfMessageBytes": "1C0D",

              "useMLLPv2": false,

              "ackBytes": "06",

              "nackBytes": 15,

              "maxRetries": 2

            },

            "serverMode": true,

            "remoteAddress": null,

            "remotePort": null,

            "overrideLocalBinding": false,

            "reconnectInterval": 5000,

            "receiveTimeout": 0,

            "bufferSize": 65536,

            "maxConnections": 10,

            "keepConnectionOpen": true,

            "dataTypeBinary": false,

            "charsetEncoding": "ISO-8859-15",

            "respondOnNewConnection": 0,

            "responseAddress": null,

            "responsePort": null

          },

          "transformer": {

            "@version": "4.5.1",

            "elements": {

              "com.mirth.connect.plugins.javascriptstep.JavaScriptStep": {

                "@version": "4.5.1",

                "name": "get Metadata",

                "sequenceNumber": 0,

                "enabled": true,

                "script": "getOrderMetadata();"

              }

            },

            "inboundTemplate": {

              "@encoding": "base64"

            },

            "outboundTemplate": {

              "@encoding": "base64"

            },

            "inboundDataType": "HL7V2",

            "outboundDataType": "HL7V2",

            "inboundProperties": {

              "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties",

              "@version": "4.5.1",

              "serializationProperties": {

                "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties",

                "@version": "4.5.1",

                "handleRepetitions": true,

                "handleSubcomponents": true,

                "useStrictParser": false,

                "useStrictValidation": false,

                "stripNamespaces": false,

                "segmentDelimiter": "\\r",

                "convertLineBreaks": true

              },

              "deserializationProperties": {

                "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties",

                "@version": "4.5.1",

                "useStrictParser": false,

                "useStrictValidation": false,

                "segmentDelimiter": "\\r"

              },

              "batchProperties": {

                "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties",

                "@version": "4.5.1",

                "splitType": "MSH_Segment",

                "batchScript": null

              },

              "responseGenerationProperties": {

                "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties",

                "@version": "4.5.1",

                "segmentDelimiter": "\\r",

                "successfulACKCode": "AA",

                "successfulACKMessage": null,

                "errorACKCode": "AE",

                "errorACKMessage": "An Error Occurred Processing Message.",

                "rejectedACKCode": "AR",

                "rejectedACKMessage": "Message Rejected.",

                "msh15ACKAccept": false,

                "dateFormat": "yyyyMMddHHmmss.SSS"

              },

              "responseValidationProperties": {

                "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties",

                "@version": "4.5.1",

                "successfulACKCode": "AA,CA",

                "errorACKCode": "AE,CE",

                "rejectedACKCode": "AR,CR",

                "validateMessageControlId": true,

                "originalMessageControlId": "Destination_Encoded",

                "originalIdMapVariable": null

              }

            },

            "outboundProperties": {

              "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties",

              "@version": "4.5.1",

              "serializationProperties": {

                "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties",

                "@version": "4.5.1",

                "handleRepetitions": true,

                "handleSubcomponents": true,

                "useStrictParser": false,

                "useStrictValidation": false,

                "stripNamespaces": false,

                "segmentDelimiter": "\\r",

                "convertLineBreaks": true

              },

              "deserializationProperties": {

                "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties",

                "@version": "4.5.1",

                "useStrictParser": false,

                "useStrictValidation": false,

                "segmentDelimiter": "\\r"

              },

              "batchProperties": {

                "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties",

                "@version": "4.5.1",

                "splitType": "MSH_Segment",

                "batchScript": null

              },

              "responseGenerationProperties": {

                "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties",

                "@version": "4.5.1",

                "segmentDelimiter": "\\r",

                "successfulACKCode": "AA",

                "successfulACKMessage": null,

                "errorACKCode": "AE",

                "errorACKMessage": "An Error Occurred Processing Message.",

                "rejectedACKCode": "AR",

                "rejectedACKMessage": "Message Rejected.",

                "msh15ACKAccept": false,

                "dateFormat": "yyyyMMddHHmmss.SSS"

              },

              "responseValidationProperties": {

                "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties",

                "@version": "4.5.1",

                "successfulACKCode": "AA,CA",

                "errorACKCode": "AE,CE",

                "rejectedACKCode": "AR,CR",

                "validateMessageControlId": true,

                "originalMessageControlId": "Destination_Encoded",

                "originalIdMapVariable": null

              }

            }

          },

          "filter": {

            "@version": "4.5.1",

            "elements": null

          },

          "transportName": "TCP Listener",

          "mode": "SOURCE",

          "enabled": true,

          "waitForPrevious": true

        },

        "destinationConnectors": {

          "connector": [

            {

              "@version": "4.5.1",

              "metaDataId": 1,

              "name": "GetemedOrm",

              "properties": {

                "@class": "com.mirth.connect.connectors.vm.VmDispatcherProperties",

                "@version": "4.5.1",

                "pluginProperties": null,

                "destinationConnectorProperties": {

                  "@version": "4.5.1",

                  "queueEnabled": true,

                  "sendFirst": true,

                  "retryIntervalMillis": 10000,

                  "regenerateTemplate": true,

                  "retryCount": 0,

                  "rotate": false,

                  "includeFilterTransformer": false,

                  "threadCount": 1,

                  "threadAssignmentVariable": null,

                  "validateResponse": false,

                  "resourceIds": {

                    "@class": "linked-hash-map",

                    "entry": {

                      "string": [

                        "Default Resource",

                        "[Default Resource]"

                      ]

                    }

                  },

                  "queueBufferSize": 1000,

                  "reattachAttachments": true

                },

                "channelId": "e1dadbd7-6fb5-437a-a6ef-5b44b6850c72",

                "channelTemplate": "${message.encodedData}",

                "mapVariables": null

              },

              "transformer": {

                "@version": "4.5.1",

                "elements": null,

                "inboundTemplate": {

                  "@encoding": "base64"

                },

                "inboundDataType": "HL7V2",

                "outboundDataType": "HL7V2",

                "inboundProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties",

                  "@version": "4.5.1",

                  "serializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties",

                    "@version": "4.5.1",

                    "handleRepetitions": true,

                    "handleSubcomponents": true,

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "stripNamespaces": false,

                    "segmentDelimiter": "\\r",

                    "convertLineBreaks": true

                  },

                  "deserializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties",

                    "@version": "4.5.1",

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "segmentDelimiter": "\\r"

                  },

                  "batchProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties",

                    "@version": "4.5.1",

                    "splitType": "MSH_Segment",

                    "batchScript": null

                  },

                  "responseGenerationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties",

                    "@version": "4.5.1",

                    "segmentDelimiter": "\\r",

                    "successfulACKCode": "AA",

                    "successfulACKMessage": null,

                    "errorACKCode": "AE",

                    "errorACKMessage": "An Error Occurred Processing Message.",

                    "rejectedACKCode": "AR",

                    "rejectedACKMessage": "Message Rejected.",

                    "msh15ACKAccept": false,

                    "dateFormat": "yyyyMMddHHmmss.SSS"

                  },

                  "responseValidationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties",

                    "@version": "4.5.1",

                    "successfulACKCode": "AA,CA",

                    "errorACKCode": "AE,CE",

                    "rejectedACKCode": "AR,CR",

                    "validateMessageControlId": true,

                    "originalMessageControlId": "Destination_Encoded",

                    "originalIdMapVariable": null

                  }

                },

                "outboundProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties",

                  "@version": "4.5.1",

                  "serializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties",

                    "@version": "4.5.1",

                    "handleRepetitions": true,

                    "handleSubcomponents": true,

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "stripNamespaces": false,

                    "segmentDelimiter": "\\r",

                    "convertLineBreaks": true

                  },

                  "deserializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties",

                    "@version": "4.5.1",

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "segmentDelimiter": "\\r"

                  },

                  "batchProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties",

                    "@version": "4.5.1",

                    "splitType": "MSH_Segment",

                    "batchScript": null

                  },

                  "responseGenerationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties",

                    "@version": "4.5.1",

                    "segmentDelimiter": "\\r",

                    "successfulACKCode": "AA",

                    "successfulACKMessage": null,

                    "errorACKCode": "AE",

                    "errorACKMessage": "An Error Occurred Processing Message.",

                    "rejectedACKCode": "AR",

                    "rejectedACKMessage": "Message Rejected.",

                    "msh15ACKAccept": false,

                    "dateFormat": "yyyyMMddHHmmss.SSS"

                  },

                  "responseValidationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties",

                    "@version": "4.5.1",

                   "successfulACKCode": "AA,CA",

                    "errorACKCode": "AE,CE",

                    "rejectedACKCode": "AR,CR",

                    "validateMessageControlId": true,

                    "originalMessageControlId": "Destination_Encoded",

                    "originalIdMapVariable": null

                  }

                }

              },

              "responseTransformer": {

                "@version": "4.5.1",

                "elements": null,

                "inboundDataType": "HL7V2",

                "outboundDataType": "HL7V2",

                "inboundProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties",

                  "@version": "4.5.1",

                  "serializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties",

                    "@version": "4.5.1",

                    "handleRepetitions": true,

                    "handleSubcomponents": true,

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "stripNamespaces": false,

                    "segmentDelimiter": "\\r",

                    "convertLineBreaks": true

                  },

                  "deserializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties",

                    "@version": "4.5.1",

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "segmentDelimiter": "\\r"

                  },

                  "batchProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties",

                    "@version": "4.5.1",

                    "splitType": "MSH_Segment",

                    "batchScript": null

                  },

                  "responseGenerationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties",

                    "@version": "4.5.1",

                    "segmentDelimiter": "\\r",

                    "successfulACKCode": "AA",

                    "successfulACKMessage": null,

                    "errorACKCode": "AE",

                    "errorACKMessage": "An Error Occurred Processing Message.",

                    "rejectedACKCode": "AR",

                    "rejectedACKMessage": "Message Rejected.",

                    "msh15ACKAccept": false,

                    "dateFormat": "yyyyMMddHHmmss.SSS"

                  },

                  "responseValidationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties",

                    "@version": "4.5.1",

                    "successfulACKCode": "AA,CA",

                    "errorACKCode": "AE,CE",

                    "rejectedACKCode": "AR,CR",

                    "validateMessageControlId": true,

                    "originalMessageControlId": "Destination_Encoded",

                    "originalIdMapVariable": null

                  }

                },

                "outboundProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties",

                  "@version": "4.5.1",

                  "serializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties",

                    "@version": "4.5.1",

                    "handleRepetitions": true,

                    "handleSubcomponents": true,

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "stripNamespaces": false,

                    "segmentDelimiter": "\\r",

                    "convertLineBreaks": true

                  },

                  "deserializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties",

                    "@version": "4.5.1",

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "segmentDelimiter": "\\r"

                  },

                  "batchProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties",

                    "@version": "4.5.1",

                    "splitType": "MSH_Segment",

                    "batchScript": null

                  },

                  "responseGenerationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties",

                    "@version": "4.5.1",

                    "segmentDelimiter": "\\r",

                    "successfulACKCode": "AA",

                    "successfulACKMessage": null,

                    "errorACKCode": "AE",

                    "errorACKMessage": "An Error Occurred Processing Message.",

                    "rejectedACKCode": "AR",

                    "rejectedACKMessage": "Message Rejected.",

                    "msh15ACKAccept": false,

                    "dateFormat": "yyyyMMddHHmmss.SSS"

                  },

                  "responseValidationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties",

                    "@version": "4.5.1",

                    "successfulACKCode": "AA,CA",

                    "errorACKCode": "AE,CE",

                    "rejectedACKCode": "AR,CR",

                    "validateMessageControlId": true,

                    "originalMessageControlId": "Destination_Encoded",

                    "originalIdMapVariable": null

                  }

                }

              },

              "filter": {

                "@version": "4.5.1",

                "elements": {

                  "com.mirth.connect.plugins.rulebuilder.RuleBuilderRule": {

                    "@version": "4.5.1",

                    "name": "Accept message if \"msg['MSH']['MSH.6']['MSH.6.1'].toString()\" equals 'MF_E'",

                    "sequenceNumber": 0,

                    "enabled": true,

                    "field": "msg['MSH']['MSH.6']['MSH.6.1'].toString()",

                    "condition": "EQUALS",

                    "values": {

                      "string": "'MF_E'"

                    }

                  }

                }

              },

              "transportName": "Channel Writer",

              "mode": "DESTINATION",

              "enabled": true,

              "waitForPrevious": true

            },

            {

              "@version": "4.5.1",

              "metaDataId": 2,

              "name": "Centicity RIS",

              "properties": {

                "@class": "com.mirth.connect.connectors.tcp.TcpDispatcherProperties",

                "@version": "4.5.1",

                "pluginProperties": null,

                "destinationConnectorProperties": {

                  "@version": "4.5.1",

                  "queueEnabled": true,

                  "sendFirst": true,

                  "retryIntervalMillis": 10000,

                  "regenerateTemplate": true,

                  "retryCount": 0,

                  "rotate": false,

                  "includeFilterTransformer": false,

                  "threadCount": 1,

                  "threadAssignmentVariable": null,

                  "validateResponse": true,

                  "resourceIds": {

                    "@class": "linked-hash-map",

                    "entry": {

                      "string": [

                        "Default Resource",

                        "[Default Resource]"

                      ]

                    }

                  },

                  "queueBufferSize": 1000,

                  "reattachAttachments": true

                },

                "transmissionModeProperties": {

                  "@class": "com.mirth.connect.plugins.mllpmode.MLLPModeProperties",

                  "pluginPointName": "MLLP",

                  "startOfMessageBytes": "0B",

                  "endOfMessageBytes": "1C0D",

                  "useMLLPv2": false,

                  "ackBytes": "06",

                  "nackBytes": 15,

                  "maxRetries": 2

                },

                "serverMode": false,

                "remoteAddress": "172.19.3.20",

                "remotePort": 19018,

                "overrideLocalBinding": false,

                "localAddress": "0.0.0.0",

                "localPort": 0,

                "sendTimeout": 5000,

                "bufferSize": 65536,

                "maxConnections": 10,

                "keepConnectionOpen": false,

                "checkRemoteHost": false,

                "responseTimeout": 5000,

                "ignoreResponse": false,

                "queueOnResponseTimeout": true,

                "dataTypeBinary": false,

                "charsetEncoding": "ISO-8859-15",

                "template": "${message.encodedData}"

              },

              "transformer": {

                "@version": "4.5.1",

                "elements": {

                  "com.mirth.connect.plugins.javascriptstep.JavaScriptStep": [

                    {

                      "@version": "4.5.1",

                      "name": "prepare tmp",

                      "sequenceNumber": 0,

                      "enabled": true,

                      "script": "tmp = msg.copy();"

                    },

                    {

                      "@version": "4.5.1",

                      "name": "adjust PID",

                      "sequenceNumber": 1,

                      "enabled": true,

                      "script": "//PID \ntmp['PID']['PID.4']['PID.4.1'] = '';\ntmp['PID']['PID.5']['PID.5.4'] = msg['PID']['PID.9']['PID.9.1'].toString();\ntmp['PID']['PID.5']['PID.5.6'] = msg['PID']['PID.5']['PID.5.5'].toString();\ntmp['PID']['PID.5']['PID.5.5'] = '';\ntmp['PID']['PID.9']['PID.9.1'] = '';"

                    },

                    {

                      "@version": "4.5.1",

                      "name": "adjust PV1",

                      "sequenceNumber": 2,

                      "enabled": true,

                      "script": "//PV1\n\n//Mapping für Abrechnungsarten\nif(msg['PV1']['PV1.18'].toString().length>0){\n\t/*\n\ttmp['PV1']['PV1.11']['PV1.11.1']=\n\t\tPackages.de.osm.mirth.connect.osmext.utils.TransformerUtils.dataMap('/srv/mirth/data/convert/abr.map', msg['PV1']['PV1.18']['PV1.18.1'].toString());\n\t*/\n\tvar abrMapping = configurationMap.get(msg['PV1']['PV1.18']['PV1.18.1'].toString());;\n\tif(null == abrMapping)\n\t\tabrMapping = '';\n\t\t\n\ttmp['PV1']['PV1.11']['PV1.11.1'] = abrMapping;\n}\n\nif(msg['PV1']['PV1.21']['PV1.21.1'].toString()=='P'){\n\ttmp['PV1']['PV1.21']['PV1.21.1']='j';\n}else{\n\ttmp['PV1']['PV1.21']['PV1.21.1']='n';\n}"

                    },

                    {

                      "@version": "4.5.1",

                      "name": "adjust ORC",

                      "sequenceNumber": 3,

                      "enabled": true,

                      "script": "//ORC\ndelete tmp['ORC']['ORC.2']['ORC.2.2'];\ntmp['ORC']['ORC.7']['ORC.7.4'] = msg['ORC']['ORC.7']['ORC.7.5'].toString();\ntmp['ORC']['ORC.11']['ORC.11.1'] = '-';\ntmp['ORC']['ORC.12']['ORC.12.2'] = msg['PV1']['PV1.3']['PV1.3.1'].toString();\ntmp['ORC']['ORC.12']['ORC.12.4'] = msg['ORC']['ORC.12']['ORC.12.2'].toString();\ntmp['ORC']['ORC.16']['ORC.16.1'] = '-';\n//09.07.2018 PHA\ntmp['ORC']['ORC.5']['ORC.5.1'] = ''; \nif (msg['ORC']['ORC.17']['ORC.17.1'].toString() == 'RADCBOGENORM'){\n\ttmp['ORC']['ORC.5']['ORC.5.1'] = 'a'\n\t};"

                    },

                    {

                      "@version": "4.5.1",

                      "name": "adjust ORB/OBX and finish message",

                      "sequenceNumber": 4,

                      "enabled": true,

                      "script": "//OBR & OBX\nfor(var i=msg['OBR'].length()-1;i>=0;i--){\n\ttmp['OBR'][i]['OBR.36']['OBR.36.1']=msg['PV1']['PV1.39']['PV1.39.1'].toString();\t\n\ttmp['OBR'][i]['OBR.5']['OBR.5.1']='';\n\tif(!msg['OBR'][i]['OBR.2']['OBR.2.2'].toString().length>0){\n\t\tdelete tmp['OBR'][i];\t\t\n\t}\n}\ndelete tmp['OBX'];\n\nfor each(obr in tmp['OBR']){\n\tif(obr['OBR.15']['OBR.15.1'].toString().length>0){\n\t\tif(obr['OBR.15']['OBR.15.1'].toString() == 'RE;rechts'){\n\t\t\tobr['OBR.4']['OBR.4.1'] = obr['OBR.4']['OBR.4.1'].toString()+'R';\n\t\t}else if(obr['OBR.15']['OBR.15.1'].toString() == 'LI;links'){\n\t\t\tobr['OBR.4']['OBR.4.1'] = obr['OBR.4']['OBR.4.1'].toString()+'L';\n\t\t}else if(obr['OBR.15']['OBR.15.1'].toString() == 'BS;beidseits'){\n\t\t\tobr['OBR.4']['OBR.4.1'] = obr['OBR.4']['OBR.4.1'].toString()+'B';\n\t\t}\n\t}\n}\n\n/*\nZusatzinformationen aus OBX auslesen und an gewünschter Stelle wieder einfügen\n*/\nfor each(obx in msg['OBX']){\n\tidentifier = obx['OBX.3']['OBX.3.1'].toString();\n\tif(identifier.length>0){\n\t\tswitch(identifier){\n\t\t\tcase 'GEWICHT': \ttmp['ORC']['ORC.6']['ORC.6.1']+=obx['OBX.5']['OBX.5.1'].toString();\t//Gewicht\n\t\t\t\t\t\t\t\tbreak;\t\n\t\t\tcase 'GROESSE':\t\ttmp['ORC']['ORC.7']['ORC.7.2']+=obx['OBX.5']['OBX.5.1'].toString();\t//Gewicht\n\t\t\t\t\t\t\t\tbreak;\t\n\t\t\tcase 'RECHTFIND':\tif(obx['OBX.5']['OBX.5.1'].toString()==0){\t\t\t\t\t\t//Schwangerschaft\n\t\t\t\t\t\t\t\t\ttmp['ORC']['ORC.13']['ORC.13.4']='n';\n\t\t\t\t\t\t\t\t}else if(obx['OBX.5']['OBX.5.1'].toString()==1){\n\t\t\t\t\t\t\t\t\ttmp['ORC']['ORC.13']['ORC.13.1'] = msg['ORC']['ORC.12']['ORC.12.2'].toString();\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\ttmp['ORC']['ORC.13']['ORC.13.4']='j';\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tbreak;\n\t\t\tcase 'SCHWANGER':\tif(obx['OBX.5']['OBX.5.1'].toString()==0){\t\t\t\t\t\t//Schwangerschaft\n\t\t\t\t\t\t\t\t\ttmp['PV1']['PV1.15']['PV1.15.1']='n';\n\t\t\t\t\t\t\t\t}else if(obx['OBX.5']['OBX.5.1'].toString()==1){\n\t\t\t\t\t\t\t\t\ttmp['PV1']['PV1.15']['PV1.15.1']='j';\n\t\t\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\t\t\ttmp['PV1']['PV1.15']['PV1.15.1']='u';\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tbreak;\t\n\t\t\tcase 'FRAGE':\t\ttmp['ORC']['ORC.16']['ORC.16.1']=obx['OBX.5']['OBX.5.1'].toString(); //Fragestellung\n\t\t\t\t\t\t\t\tfor each(obr in tmp['OBR']){\t\t\t\t\n\t\t\t\t\t\t\t\t\tobr['OBR.17']['OBR.17.1']+=obx['OBX.5']['OBX.5.1'].toString();\n\t\t\t\t\t\t\t\t} \n\t\t\t\t\t\t\t\tbreak;\n\t\t\tcase 'DIAGNOSEN':\tfor each(obr in tmp['OBR']){\t\t\t\t\n\t\t\t\t\t\t\t\t\tobr['OBR.5']['OBR.5.1']+=obx['OBX.5']['OBX.5.1'].toString();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tbreak;\n\t\t\tcase 'ZUSTANDN':\tfor each(obr in tmp['OBR']){\t\t\t\t\n\t\t\t\t\t\t\t\t\tobr['OBR.6']['OBR.6.1']+=obx['OBX.5']['OBX.5.1'].toString();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tbreak;\n\t\t\tcase 'FREMDKOERPER':for each(obr in tmp['OBR']){\t\t\t\t\n\t\t\t\t\t\t\t\t\tobr['OBR.9']['OBR.9.1']+=obx['OBX.5']['OBX.5.1'].toString();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tbreak;\n\t\t\tcase 'BETREUER':\tfor each(obr in tmp['OBR']){\n\t\t\t\t\t\t\t\tif(obx['OBX.5']['OBX.5.1'].toString()==0){\t\t\t\n\t\t\t\t\t\t\t\t\tobr['OBR.10']['OBR.10.1']='n';\n\t\t\t\t\t\t\t\t}else if(obx['OBX.5']['OBX.5.1'].toString()==1){\n\t\t\t\t\t\t\t\t\tobr['OBR.10']['OBR.10.1']='j';\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tbreak;\n\t\t\tcase 'ANFRISIKEN':\tfor each(obr in tmp['OBR']){\t\t\t\t\n\t\t\t\t\t\t\t\t\tobr['OBR.12']['OBR.12.1']+=obx['OBX.5']['OBX.5.1'].toString();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tbreak;\n\t\t\tcase 'KLINIK':\t\tfor each(obr in tmp['OBR']){\t\t\t\t\n\t\t\t\t\t\t\t\t\tobr['OBR.13']['OBR.13.1']+=obx['OBX.5']['OBX.5.1'].toString();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tbreak;\n\t\t\tcase 'DOLMETSCH':\tfor each(obr in tmp['OBR']){\n\t\t\t\t\t\t\t\tif(obx['OBX.5']['OBX.5.1'].toString()==0){\t\t\t\n\t\t\t\t\t\t\t\t\tobr['OBR.16']['OBR.16.1']='n';\n\t\t\t\t\t\t\t\t}else if(obx['OBX.5']['OBX.5.1'].toString()==1){\n\t\t\t\t\t\t\t\t\tobr['OBR.16']['OBR.16.1']='j';\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tbreak;\n\t\t\tcase 'WUNSCHUNT':\tfor each(obr in tmp['OBR']){\t\t\t\t\n\t\t\t\t\t\t\t\t\tobr['OBR.18']['OBR.18.1']+=obx['OBX.5']['OBX.5.1'].toString();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tbreak;\n\t\t\tcase 'FUSSG':\t\tfor each(obr in tmp['OBR']){\t\t\t\t\n\t\t\t\t\t\t\t\t\tobr['OBR.30']['OBR.30.1']+=obx['OBX.3']['OBX.3.2'].toString().trim();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tbreak;\n\t\t\tcase 'BETT':\t\tfor each(obr in tmp['OBR']){\t\t\t\t\n\t\t\t\t\t\t\t\t\tobr['OBR.30']['OBR.30.1']+=obx['OBX.3']['OBX.3.2'].toString().trim();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tbreak;\n\t\t\tcase 'SITZWAGEN':\tfor each(obr in tmp['OBR']){\t\t\t\t\n\t\t\t\t\t\t\t\t\tobr['OBR.30']['OBR.30.1']+=obx['OBX.3']['OBX.3.2'].toString().trim();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tbreak;\n\t\t}\n\t}\n\tidentifier = '';\t\n}\n\nsortAndFillMessage(tmp);"

                    }

                  ]

                },

                "inboundTemplate": {

                  "@encoding": "base64"

                },

                "outboundTemplate": {

                  "@encoding": "base64",

                  "$": "TVNIfF5+XCZ8RFBTfHxFS0dNSEh8UkFEfDIwMTUwMTI3MTE0MTM1fHxPUk1eTzAxfDAwMDAxMTB8UHwyLjN8fHxBTHxORQ=="

                },

                "inboundDataType": "HL7V2",

                "outboundDataType": "HL7V2",

                "inboundProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties",

                  "@version": "4.5.1",

                  "serializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties",

                    "@version": "4.5.1",

                    "handleRepetitions": true,

                    "handleSubcomponents": true,

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "stripNamespaces": false,

                    "segmentDelimiter": "\\r",

                    "convertLineBreaks": true

                  },

                  "deserializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties",

                    "@version": "4.5.1",

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "segmentDelimiter": "\\r"

                  },

                  "batchProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties",

                    "@version": "4.5.1",

                    "splitType": "MSH_Segment",

                    "batchScript": null

                  },

                  "responseGenerationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties",

                    "@version": "4.5.1",

                    "segmentDelimiter": "\\r",

                    "successfulACKCode": "AA",

                    "successfulACKMessage": null,

                    "errorACKCode": "AE",

                    "errorACKMessage": "An Error Occurred Processing Message.",

                    "rejectedACKCode": "AR",

                    "rejectedACKMessage": "Message Rejected.",

                    "msh15ACKAccept": false,

                    "dateFormat": "yyyyMMddHHmmss.SSS"

                  },

                  "responseValidationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties",

                    "@version": "4.5.1",

                    "successfulACKCode": "AA,CA",

                    "errorACKCode": "AE,CE",

                    "rejectedACKCode": "AR,CR",

                    "validateMessageControlId": true,

                    "originalMessageControlId": "Destination_Encoded",

                    "originalIdMapVariable": null

                  }

                },

                "outboundProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties",

                  "@version": "4.5.1",

                  "serializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties",

                    "@version": "4.5.1",

                    "handleRepetitions": true,

                    "handleSubcomponents": true,

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "stripNamespaces": false,

                    "segmentDelimiter": "\\r",

                    "convertLineBreaks": true

                  },

                  "deserializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties",

                    "@version": "4.5.1",

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "segmentDelimiter": "\\r"

                  },

                  "batchProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties",

                    "@version": "4.5.1",

                    "splitType": "MSH_Segment",

                    "batchScript": null

                  },

                  "responseGenerationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties",

                    "@version": "4.5.1",

                    "segmentDelimiter": "\\r",

                    "successfulACKCode": "AA",

                    "successfulACKMessage": null,

                    "errorACKCode": "AE",

                    "errorACKMessage": "An Error Occurred Processing Message.",

                    "rejectedACKCode": "AR",

                    "rejectedACKMessage": "Message Rejected.",

                    "msh15ACKAccept": false,

                    "dateFormat": "yyyyMMddHHmmss.SSS"

                  },

                  "responseValidationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties",

                    "@version": "4.5.1",

                    "successfulACKCode": "AA,CA",

                    "errorACKCode": "AE,CE",

                    "rejectedACKCode": "AR,CR",

                    "validateMessageControlId": true,

                    "originalMessageControlId": "Destination_Encoded",

                    "originalIdMapVariable": null

                  }

                }

              },

              "responseTransformer": {

                "@version": "4.5.1",

                "elements": null,

                "inboundDataType": "HL7V2",

                "outboundDataType": "HL7V2",

                "inboundProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties",

                  "@version": "4.5.1",

                  "serializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties",

                    "@version": "4.5.1",

                    "handleRepetitions": true,

                    "handleSubcomponents": true,

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "stripNamespaces": false,

                    "segmentDelimiter": "\\r",

                    "convertLineBreaks": true

                  },

                  "deserializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties",

                    "@version": "4.5.1",

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "segmentDelimiter": "\\r"

                  },

                  "batchProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties",

                    "@version": "4.5.1",

                    "splitType": "MSH_Segment",

                    "batchScript": null

                  },

                  "responseGenerationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties",

                    "@version": "4.5.1",

                    "segmentDelimiter": "\\r",

                    "successfulACKCode": "AA",

                    "successfulACKMessage": null,

                    "errorACKCode": "AE",

                    "errorACKMessage": "An Error Occurred Processing Message.",

                    "rejectedACKCode": "AR",

                    "rejectedACKMessage": "Message Rejected.",

                    "msh15ACKAccept": false,

                    "dateFormat": "yyyyMMddHHmmss.SSS"

                  },

                  "responseValidationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties",

                    "@version": "4.5.1",

                    "successfulACKCode": "AA,CA",

                    "errorACKCode": "AE,CE",

                    "rejectedACKCode": "AR,CR",

                    "validateMessageControlId": true,

                    "originalMessageControlId": "Destination_Encoded",

                    "originalIdMapVariable": null

                  }

                },

                "outboundProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties",

                  "@version": "4.5.1",

                  "serializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties",

                    "@version": "4.5.1",

                    "handleRepetitions": true,

                    "handleSubcomponents": true,

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "stripNamespaces": false,

                    "segmentDelimiter": "\\r",

                    "convertLineBreaks": true

                  },

                  "deserializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties",

                    "@version": "4.5.1",

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "segmentDelimiter": "\\r"

                  },

                  "batchProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties",

                    "@version": "4.5.1",

                    "splitType": "MSH_Segment",

                    "batchScript": null

                  },

                  "responseGenerationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties",

                    "@version": "4.5.1",

                    "segmentDelimiter": "\\r",

                    "successfulACKCode": "AA",

                    "successfulACKMessage": null,

                    "errorACKCode": "AE",

                    "errorACKMessage": "An Error Occurred Processing Message.",

                    "rejectedACKCode": "AR",

                    "rejectedACKMessage": "Message Rejected.",

                    "msh15ACKAccept": false,

                    "dateFormat": "yyyyMMddHHmmss.SSS"

                  },

                  "responseValidationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties",

                    "@version": "4.5.1",

                    "successfulACKCode": "AA,CA",

                    "errorACKCode": "AE,CE",

                    "rejectedACKCode": "AR,CR",

                    "validateMessageControlId": true,

                    "originalMessageControlId": "Destination_Encoded",

                    "originalIdMapVariable": null

                  }

                }

              },

              "filter": {

                "@version": "4.5.1",

                "elements": {

                  "com.mirth.connect.plugins.rulebuilder.RuleBuilderRule": {

                    "@version": "4.5.1",

                    "name": "Accept message if \"msg['MSH']['MSH.6']['MSH.6.1'].toString()\" equals 'RAD'",

                    "sequenceNumber": 0,

                    "enabled": true,

                    "field": "msg['MSH']['MSH.6']['MSH.6.1'].toString()",

                    "condition": "EQUALS",

                    "values": {

                      "string": "'RAD'"

                    }

                  }

                }

              },

              "transportName": "TCP Sender",

              "mode": "DESTINATION",

              "enabled": true,

              "waitForPrevious": false

            },

            {

              "@version": "4.5.1",

              "metaDataId": 3,

              "name": "Clinpath",

              "properties": {

                "@class": "com.mirth.connect.connectors.tcp.TcpDispatcherProperties",

                "@version": "4.5.1",

                "pluginProperties": null,

                "destinationConnectorProperties": {

                  "@version": "4.5.1",

                  "queueEnabled": true,

                  "sendFirst": true,

                  "retryIntervalMillis": 10000,

                  "regenerateTemplate": true,

                  "retryCount": 0,

                  "rotate": false,

                  "includeFilterTransformer": false,

                  "threadCount": 1,

                  "threadAssignmentVariable": null,

                  "validateResponse": true,

                  "resourceIds": {

                    "@class": "linked-hash-map",

                    "entry": {

                      "string": [

                        "Default Resource",

                        "[Default Resource]"

                      ]

                    }

                  },

                  "queueBufferSize": 1000,

                  "reattachAttachments": true

                },

                "transmissionModeProperties": {

                  "@class": "com.mirth.connect.plugins.mllpmode.MLLPModeProperties",

                  "pluginPointName": "MLLP",

                  "startOfMessageBytes": "0B",

                  "endOfMessageBytes": "1C0D",

                  "useMLLPv2": false,

                  "ackBytes": "06",

                  "nackBytes": 15,

                  "maxRetries": 2

                },

                "serverMode": false,

                "remoteAddress": "172.19.2.229",

                "remotePort": 6001,

                "overrideLocalBinding": false,

                "localAddress": "0.0.0.0",

                "localPort": 0,

                "sendTimeout": 5000,

                "bufferSize": 65536,

                "maxConnections": 10,

                "keepConnectionOpen": false,

                "checkRemoteHost": false,

                "responseTimeout": 5000,

                "ignoreResponse": false,

                "queueOnResponseTimeout": true,

                "dataTypeBinary": false,

                "charsetEncoding": "ISO-8859-15",

                "template": "${message.encodedData}"

              },

              "transformer": {

                "@version": "4.5.1",

                "elements": {

                  "com.mirth.connect.plugins.javascriptstep.JavaScriptStep": [

                    {

                      "@version": "4.5.1",

                      "name": "prepare tmp",

                      "sequenceNumber": 0,

                      "enabled": true,

                      "script": "tmp = msg.copy();"

                    },

                    {

                      "@version": "4.5.1",

                      "name": "adjust MSH",

                      "sequenceNumber": 1,

                      "enabled": true,

                      "script": "tmp['MSH']['MSH.12']['MSH.12.1'] = '2.3';\ntmp['MSH']['MSH.4']['MSH.4.1'] = 'MKH';\ntmp['MSH']['MSH.6']['MSH.6.1'] = 'MKH';"

                    },

                    {

                      "@version": "4.5.1",

                      "name": "adjust patient location",

                      "sequenceNumber": 2,

                      "enabled": true,

                      "script": "//21.10.2019 MBA\n//Fachbereichanpassung bei ZNA-Konsilen!\nif(msg['ORC']['ORC.17']['ORC.17.1'].toString() == 'ZNAKONSIL'){\n\ttmp['PV1']['PV1.3']['PV1.3.1'] = 'AMBZNA';\n}"

                    },

                    {

                      "@version": "4.5.1",

                      "name": "adjust ORC",

                      "sequenceNumber": 3,

                      "enabled": true,

                      "script": "//ORC\ndelete tmp['ORC']['ORC.2']['ORC.2.2'];\ntmp['ORC']['ORC.7']['ORC.7.4'] = msg['ORC']['ORC.7']['ORC.7.5'].toString();\ntmp['ORC']['ORC.7']['ORC.7.5'] = msg['ORC']['ORC.7']['ORC.7.6'].toString();\ntmp['ORC']['ORC.11']['ORC.11.1'] = '-';\ntmp['ORC']['ORC.12']['ORC.12.2'] = msg['PV1']['PV1.3']['PV1.3.1'].toString();\ntmp['ORC']['ORC.12']['ORC.12.4'] = msg['ORC']['ORC.12']['ORC.12.2'].toString();\ntmp['ORC']['ORC.13']['ORC.13.2'] = msg['PV1']['PV1.3']['PV1.3.4'].toString();\ntmp['ORC']['ORC.16']['ORC.16.1'] = '-';"

                    },

                    {

                      "@version": "4.5.1",

                      "name": "adjust OBR/OBX and finish message",

                      "sequenceNumber": 4,

                      "enabled": true,

                      "script": "//OBR & OBX\nfor(var i=msg['OBR'].length()-1;i>=0;i--){\n\ttmp['OBR'][i]['OBR.36']['OBR.36.1']=msg['PV1']['PV1.39']['PV1.39.1'].toString();\t\n\ttmp['OBR'][i]['OBR.5']['OBR.5.1']='';\n\tif(!msg['OBR'][i]['OBR.2']['OBR.2.2'].toString().length>0){\n\t\tdelete tmp['OBR'][i];\t\t\n\t}\n}\ndelete tmp['OBX'];\n\nfor each(obr in tmp['OBR']){\n\tif(obr['OBR.15']['OBR.15.1'].toString().length>0){\n\t\tif(obr['OBR.15']['OBR.15.1'].toString() == 'RE;rechts'){\n\t\t\tobr['OBR.4']['OBR.4.1'] = obr['OBR.4']['OBR.4.1'].toString()+'R';\n\t\t}else if(obr['OBR.15']['OBR.15.1'].toString() == 'LI;links'){\n\t\t\tobr['OBR.4']['OBR.4.1'] = obr['OBR.4']['OBR.4.1'].toString()+'L';\n\t\t}else if(obr['OBR.15']['OBR.15.1'].toString() == 'BS;beidseits'){\n\t\t\tobr['OBR.4']['OBR.4.1'] = obr['OBR.4']['OBR.4.1'].toString()+'B';\n\t\t}\n\t}\n}\n\n/*\nZusatzinformationen aus OBX auslesen und an gewünschter Stelle wieder einfügen\n*/\nfor each(obx in msg['OBX']){\n\tidentifier = obx['OBX.3']['OBX.3.1'].toString();\n\tif(identifier.length>0){\n\t\tswitch(identifier){\n\t\t\t\n\t\t\tcase 'ORMFRAGE':\t\ttmp['ORC']['ORC.16']['ORC.16.1']=obx['OBX.5']['OBX.5.1'].toString(); \t//Fragestellung\n\t\t\t\t\t\t\t\tfor each(obr in tmp['OBR']){\t\t\t\t\n\t\t\t\t\t\t\t\t\tobr['OBR.17']['OBR.17.1']+=obx['OBX.5']['OBX.5.1'].toString();\n\t\t\t\t\t\t\t\t} \n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\t\n\t\t\tcase 'ORMDIAG':\t \tfor each(obr in tmp['OBR']){\t\t\t\t\n\t\t\t\t\t\t\t\t\tobr['OBR.7']['OBR.7.1']+=obx['OBX.5']['OBX.5.1'].toString();\t//Diagnosen\n\t\t\t\t\t\t\t\t} \n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\tcase 'ORMMERK':\t\tfor each(obr in tmp['OBR']){\t\t\t\t\t\t\t\t\t//Patientenmerkmale\n\t\t\t\t\t\t\t\t\tobr['OBR.6']['OBR.6.1']+=obx['OBX.5']['OBX.5.1'].toString();\n\t\t\t\t\t\t\t\t} \n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\tcase 'ORMANSPRECH':\t\tfor each(obr in tmp['OBR']){\t\t\t\t\t\t\t\t\t//Ansprechpartner\n\t\t\t\t\t\t\t\t\tobr['OBR.13']['OBR.13.1']+=obx['OBX.5']['OBX.5.1'].toString();\n\t\t\t\t\t\t\t\t} \n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\tcase 'ORMTELEFON':\t\tfor each(obr in tmp['OBR']){\t\t\t\t\t\t\t\t\t//Telefonnummer\n\t\t\t\t\t\t\t\t\tobr['OBR.14']['OBR.14.1']+=obx['OBX.5']['OBX.5.1'].toString();\n\t\t\t\t\t\t\t\t} \n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\n\t\t}\n\t}\n\tidentifier = '';\t\n}\n\nsortAndFillMessage(tmp);"

                    }

                  ]

                },

                "inboundTemplate": {

                  "@encoding": "base64"

                },

                "outboundTemplate": {

                  "@encoding": "base64",

                  "$": "TVNIfF5+XCZ8RFBTfHxFS0dNSEh8UkFEfDIwMTUwMTI3MTE0MTM1fHxPUk1eTzAxfDAwMDAxMTB8UHwyLjN8fHxBTHxORQ=="

                },

                "inboundDataType": "HL7V2",

                "outboundDataType": "HL7V2",

                "inboundProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties",

                  "@version": "4.5.1",

                  "serializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties",

                    "@version": "4.5.1",

                    "handleRepetitions": true,

                    "handleSubcomponents": true,

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "stripNamespaces": false,

                    "segmentDelimiter": "\\r",

                    "convertLineBreaks": true

                  },

                  "deserializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties",

                    "@version": "4.5.1",

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "segmentDelimiter": "\\r"

                  },

                  "batchProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties",

                    "@version": "4.5.1",

                    "splitType": "MSH_Segment",

                    "batchScript": null

                  },

                  "responseGenerationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties",

                    "@version": "4.5.1",

                    "segmentDelimiter": "\\r",

                    "successfulACKCode": "AA",

                    "successfulACKMessage": null,

                    "errorACKCode": "AE",

                    "errorACKMessage": "An Error Occurred Processing Message.",

                    "rejectedACKCode": "AR",

                    "rejectedACKMessage": "Message Rejected.",

                    "msh15ACKAccept": false,

                    "dateFormat": "yyyyMMddHHmmss.SSS"

                  },

                  "responseValidationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties",

                    "@version": "4.5.1",

                    "successfulACKCode": "AA,CA",

                    "errorACKCode": "AE,CE",

                    "rejectedACKCode": "AR,CR",

                    "validateMessageControlId": true,

                    "originalMessageControlId": "Destination_Encoded",

                    "originalIdMapVariable": null

                  }

                },

                "outboundProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties",

                  "@version": "4.5.1",

                  "serializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties",

                    "@version": "4.5.1",

                    "handleRepetitions": true,

                    "handleSubcomponents": true,

                   "useStrictParser": false,

                    "useStrictValidation": false,

                    "stripNamespaces": false,

                    "segmentDelimiter": "\\r",

                    "convertLineBreaks": true

                  },

                 "deserializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties",

                    "@version": "4.5.1",

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "segmentDelimiter": "\\r"

                  },

                  "batchProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties",

                    "@version": "4.5.1",

                    "splitType": "MSH_Segment",

                    "batchScript": null

                  },

                  "responseGenerationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties",

                    "@version": "4.5.1",

                    "segmentDelimiter": "\\r",

                    "successfulACKCode": "AA",

                    "successfulACKMessage": null,

                    "errorACKCode": "AE",

                    "errorACKMessage": "An Error Occurred Processing Message.",

                    "rejectedACKCode": "AR",

                    "rejectedACKMessage": "Message Rejected.",

                    "msh15ACKAccept": false,

                    "dateFormat": "yyyyMMddHHmmss.SSS"

                  },

                  "responseValidationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties",

                    "@version": "4.5.1",

                    "successfulACKCode": "AA,CA",

                    "errorACKCode": "AE,CE",

                    "rejectedACKCode": "AR,CR",

                    "validateMessageControlId": true,

                    "originalMessageControlId": "Destination_Encoded",

                    "originalIdMapVariable": null

                  }

                }

              },

              "responseTransformer": {

                "@version": "4.5.1",

                "elements": null,

                "inboundDataType": "HL7V2",

                "outboundDataType": "HL7V2",

                "inboundProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties",

                  "@version": "4.5.1",

                  "serializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties",

                    "@version": "4.5.1",

                    "handleRepetitions": true,

                    "handleSubcomponents": true,

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "stripNamespaces": false,

                    "segmentDelimiter": "\\r",

                    "convertLineBreaks": true

                  },

                  "deserializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties",

                    "@version": "4.5.1",

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "segmentDelimiter": "\\r"

                  },

                  "batchProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties",

                    "@version": "4.5.1",

                    "splitType": "MSH_Segment",

                    "batchScript": null

                  },

                  "responseGenerationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties",

                    "@version": "4.5.1",

                    "segmentDelimiter": "\\r",

                    "successfulACKCode": "AA",

                    "successfulACKMessage": null,

                    "errorACKCode": "AE",

                    "errorACKMessage": "An Error Occurred Processing Message.",

                    "rejectedACKCode": "AR",

                    "rejectedACKMessage": "Message Rejected.",

                    "msh15ACKAccept": false,

                    "dateFormat": "yyyyMMddHHmmss.SSS"

                  },

                  "responseValidationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties",

                    "@version": "4.5.1",

                    "successfulACKCode": "AA,CA",

                    "errorACKCode": "AE,CE",

                   "rejectedACKCode": "AR,CR",

                    "validateMessageControlId": true,

                    "originalMessageControlId": "Destination_Encoded",

                    "originalIdMapVariable": null

                  }

                },

                "outboundProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties",

                  "@version": "4.5.1",

                  "serializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties",

                    "@version": "4.5.1",

                    "handleRepetitions": true,

                    "handleSubcomponents": true,

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "stripNamespaces": false,

                    "segmentDelimiter": "\\r",

                    "convertLineBreaks": true

                  },

                  "deserializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties",

                    "@version": "4.5.1",

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "segmentDelimiter": "\\r"

                  },

                  "batchProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties",

                    "@version": "4.5.1",

                    "splitType": "MSH_Segment",

                    "batchScript": null

                  },

                  "responseGenerationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties",

                    "@version": "4.5.1",

                    "segmentDelimiter": "\\r",

                    "successfulACKCode": "AA",

                    "successfulACKMessage": null,

                    "errorACKCode": "AE",

                    "errorACKMessage": "An Error Occurred Processing Message.",

                    "rejectedACKCode": "AR",

                    "rejectedACKMessage": "Message Rejected.",

                    "msh15ACKAccept": false,

                    "dateFormat": "yyyyMMddHHmmss.SSS"

                  },

                  "responseValidationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties",

                    "@version": "4.5.1",

                    "successfulACKCode": "AA,CA",

                    "errorACKCode": "AE,CE",

                    "rejectedACKCode": "AR,CR",

                    "validateMessageControlId": true,

                    "originalMessageControlId": "Destination_Encoded",

                    "originalIdMapVariable": null

                  }

                }

              },

              "filter": {

                "@version": "4.5.1",

                "elements": {

                  "com.mirth.connect.plugins.rulebuilder.RuleBuilderRule": [

                    {

                      "@version": "4.5.1",

                      "name": "Accept message if \"msg['MSH']['MSH.6']['MSH.6.1'].toString()\" equals 'AMBZ'",

                      "sequenceNumber": 0,

                      "enabled": true,

                      "field": "msg['MSH']['MSH.6']['MSH.6.1'].toString()",

                      "condition": "EQUALS",

                      "values": {

                        "string": "'AMBZ'"

                      }

                    },

                    {

                      "@version": "4.5.1",

                      "name": "Accept message if \"msg['MSH']['MSH.5']['MSH.5.1'].toString()\" does not equal 'EKGMHH'",

                      "sequenceNumber": 1,

                      "enabled": true,

                      "operator": "AND",

                      "field": "msg['MSH']['MSH.5']['MSH.5.1'].toString()",

                      "condition": "NOT_EQUAL",

                      "values": {

                        "string": "'EKGMHH'"

                      }

                    }

                  ]

                }

              },

              "transportName": "TCP Sender",

              "mode": "DESTINATION",

              "enabled": true,

              "waitForPrevious": false

            },

            {

              "@version": "4.5.1",

              "metaDataId": 4,

              "name": "Visus WL ORM LHK",

              "properties": {

                "@class": "com.mirth.connect.connectors.tcp.TcpDispatcherProperties",

                "@version": "4.5.1",

                "pluginProperties": null,

                "destinationConnectorProperties": {

                  "@version": "4.5.1",

                  "queueEnabled": true,

                  "sendFirst": true,

                  "retryIntervalMillis": 10000,

                  "regenerateTemplate": true,

                  "retryCount": 0,

                  "rotate": false,

                  "includeFilterTransformer": false,

                  "threadCount": 1,

                  "threadAssignmentVariable": null,

                  "validateResponse": true,

                  "resourceIds": {

                    "@class": "linked-hash-map",

                    "entry": {

                      "string": [

                        "Default Resource",

                        "[Default Resource]"

                      ]

                    }

                  },

                  "queueBufferSize": 1000,

                  "reattachAttachments": true

                },

                "transmissionModeProperties": {

                  "@class": "com.mirth.connect.plugins.mllpmode.MLLPModeProperties",

                  "pluginPointName": "MLLP",

                  "startOfMessageBytes": "0B",

                  "endOfMessageBytes": "1C0D",

                  "useMLLPv2": false,

                  "ackBytes": "06",

                  "nackBytes": 15,

                  "maxRetries": 2

                },

                "serverMode": false,

                "remoteAddress": "172.19.2.207",

                "remotePort": 3373,

                "overrideLocalBinding": false,

                "localAddress": "0.0.0.0",

                "localPort": 0,

                "sendTimeout": 5000,

                "bufferSize": 65536,

                "maxConnections": 10,

                "keepConnectionOpen": false,

                "checkRemoteHost": false,

                "responseTimeout": 5000,

                "ignoreResponse": false,

                "queueOnResponseTimeout": true,

                "dataTypeBinary": false,

                "charsetEncoding": "ISO-8859-15",

                "template": "${message.encodedData}"

              },

              "transformer": {

                "@version": "4.5.1",

                "elements": {

                  "com.mirth.connect.plugins.javascriptstep.JavaScriptStep": [

                    {

                      "@version": "4.5.1",

                      "name": "prepare tmp",

                      "sequenceNumber": 0,

                      "enabled": true,

                      "script": "tmp = msg.copy();"

                    },

                    {

                      "@version": "4.5.1",

                      "name": "adjust outgoing message",

                      "sequenceNumber": 1,

                      "enabled": true,

                      "script": "// Anpassung der Receiving Application\n\ntmp['MSH']['MSH.5']['MSH.5.1'] = 'JIVEX';\n\n// Anpassung der Receiving Facility für Visus\n\nif(msg['MSH']['MSH.13']['MSH.13.1'].toString() == 'MF_CORO'){\n\ttmp['MSH']['MSH.6']['MSH.6.1'] = 'PACS';\n}\n\n// Anpassung für einen AE-Title der WL\n\nif(msg['MSH']['MSH.6']['MSH.6.1'].toString() == 'MF_C'){\n\ttmp['ORC']['ORC.17']['ORC.17.1'] = 'MF_C';\n}"

                    }

                  ]

                },

                "inboundTemplate": {

                  "@encoding": "base64"

                },

                "outboundTemplate": {

                  "@encoding": "base64",

                  "$": "TVNIfF5+XCZ8RFBTfHxFS0dNSEh8UkFEfDIwMTUwMTI3MTE0MTM1fHxPUk1eTzAxfDAwMDAxMTB8UHwyLjN8fHxBTHxORQ=="

                },

                "inboundDataType": "HL7V2",

                "outboundDataType": "HL7V2",

                "inboundProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties",

                  "@version": "4.5.1",

                  "serializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties",

                    "@version": "4.5.1",

                    "handleRepetitions": true,

                    "handleSubcomponents": true,

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "stripNamespaces": false,

                    "segmentDelimiter": "\\r",

                    "convertLineBreaks": true

                  },

                  "deserializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties",

                    "@version": "4.5.1",

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "segmentDelimiter": "\\r"

                  },

                  "batchProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties",

                    "@version": "4.5.1",

                    "splitType": "MSH_Segment",

                    "batchScript": null

                  },

                  "responseGenerationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties",

                    "@version": "4.5.1",

                    "segmentDelimiter": "\\r",

                    "successfulACKCode": "AA",

                    "successfulACKMessage": null,

                    "errorACKCode": "AE",

                    "errorACKMessage": "An Error Occurred Processing Message.",

                    "rejectedACKCode": "AR",

                    "rejectedACKMessage": "Message Rejected.",

                    "msh15ACKAccept": false,

                    "dateFormat": "yyyyMMddHHmmss.SSS"

                  },

                  "responseValidationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties",

                    "@version": "4.5.1",

                    "successfulACKCode": "AA,CA",

                    "errorACKCode": "AE,CE",

                    "rejectedACKCode": "AR,CR",

                    "validateMessageControlId": true,

                    "originalMessageControlId": "Destination_Encoded",

                    "originalIdMapVariable": null

                  }

                },

                "outboundProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties",

                  "@version": "4.5.1",

                  "serializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties",

                    "@version": "4.5.1",

                    "handleRepetitions": true,

                    "handleSubcomponents": true,

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "stripNamespaces": false,

                    "segmentDelimiter": "\\r",

                    "convertLineBreaks": true

                  },

                  "deserializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties",

                    "@version": "4.5.1",

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "segmentDelimiter": "\\r"

                  },

                  "batchProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties",

                    "@version": "4.5.1",

                    "splitType": "MSH_Segment",

                    "batchScript": null

                  },

                  "responseGenerationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties",

                    "@version": "4.5.1",

                    "segmentDelimiter": "\\r",

                    "successfulACKCode": "AA",

                    "successfulACKMessage": null,

                    "errorACKCode": "AE",

                    "errorACKMessage": "An Error Occurred Processing Message.",

                    "rejectedACKCode": "AR",

                    "rejectedACKMessage": "Message Rejected.",

                    "msh15ACKAccept": false,

                    "dateFormat": "yyyyMMddHHmmss.SSS"

                  },

                  "responseValidationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties",

                    "@version": "4.5.1",

                    "successfulACKCode": "AA,CA",

                    "errorACKCode": "AE,CE",

                    "rejectedACKCode": "AR,CR",

                    "validateMessageControlId": true,

                    "originalMessageControlId": "Destination_Encoded",

                    "originalIdMapVariable": null

                  }

                }

              },

              "responseTransformer": {

                "@version": "4.5.1",

                "elements": null,

                "inboundTemplate": {

                  "@encoding": "base64"

                },

                "outboundTemplate": {

                  "@encoding": "base64"

                },

                "inboundDataType": "HL7V2",

                "outboundDataType": "HL7V2",

                "inboundProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties",

                  "@version": "4.5.1",

                  "serializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties",

                    "@version": "4.5.1",

                    "handleRepetitions": true,

                    "handleSubcomponents": true,

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "stripNamespaces": false,

                    "segmentDelimiter": "\\r",

                    "convertLineBreaks": true

                  },

                  "deserializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties",

                    "@version": "4.5.1",

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "segmentDelimiter": "\\r"

                  },

                  "batchProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties",

                    "@version": "4.5.1",

                    "splitType": "MSH_Segment",

                    "batchScript": null

                  },

                  "responseGenerationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties",

                    "@version": "4.5.1",

                    "segmentDelimiter": "\\r",

                    "successfulACKCode": "AA",

                    "successfulACKMessage": null,

                    "errorACKCode": "AE",

                    "errorACKMessage": "An Error Occurred Processing Message.",

                    "rejectedACKCode": "AR",

                    "rejectedACKMessage": "Message Rejected.",

                    "msh15ACKAccept": false,

                    "dateFormat": "yyyyMMddHHmmss.SSS"

                  },

                  "responseValidationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties",

                    "@version": "4.5.1",

                    "successfulACKCode": "AA,CA",

                    "errorACKCode": "AE,CE",

                    "rejectedACKCode": "AR,CR",

                    "validateMessageControlId": true,

                    "originalMessageControlId": "Destination_Encoded",

                    "originalIdMapVariable": null

                  }

                },

                "outboundProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties",

                  "@version": "4.5.1",

                  "serializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties",

                    "@version": "4.5.1",

                    "handleRepetitions": true,

                    "handleSubcomponents": true,

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "stripNamespaces": false,

                    "segmentDelimiter": "\\r",

                    "convertLineBreaks": true

                  },

                  "deserializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties",

                    "@version": "4.5.1",

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "segmentDelimiter": "\\r"

                  },

                  "batchProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties",

                    "@version": "4.5.1",

                    "splitType": "MSH_Segment",

                    "batchScript": null

                  },

                  "responseGenerationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties",

                    "@version": "4.5.1",

                    "segmentDelimiter": "\\r",

                    "successfulACKCode": "AA",

                    "successfulACKMessage": null,

                    "errorACKCode": "AE",

                    "errorACKMessage": "An Error Occurred Processing Message.",

                    "rejectedACKCode": "AR",

                    "rejectedACKMessage": "Message Rejected.",

                    "msh15ACKAccept": false,

                    "dateFormat": "yyyyMMddHHmmss.SSS"

                  },

                  "responseValidationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties",

                    "@version": "4.5.1",

                    "successfulACKCode": "AA,CA",

                    "errorACKCode": "AE,CE",

                    "rejectedACKCode": "AR,CR",

                    "validateMessageControlId": true,

                    "originalMessageControlId": "Destination_Encoded",

                    "originalIdMapVariable": null

                  }

                }

              },

              "filter": {

                "@version": "4.5.1",

                "elements": {

                  "com.mirth.connect.plugins.rulebuilder.RuleBuilderRule": [

                    {

                      "@version": "4.5.1",

                      "name": "Accept message if \"msg['MSH']['MSH.6']['MSH.6.1'].toString()\" equals 'MF_C'",

                      "sequenceNumber": 0,

                      "enabled": true,

                      "field": "msg['MSH']['MSH.6']['MSH.6.1'].toString()",

                      "condition": "EQUALS",

                      "values": {

                        "string": "'MF_C'"

                      }

                    },

                    {

                      "@version": "4.5.1",

                      "name": "Accept message if \"msg['OBR']['OBR.25']['OBR.25.1'].toString()\" equals '12' or '-10'",

                      "sequenceNumber": 1,

                      "enabled": true,

                      "operator": "AND",

                      "field": "msg['OBR']['OBR.25']['OBR.25.1'].toString()",

                      "condition": "EQUALS",

                      "values": {

                        "string": [

                          "'12'",

                          "'-10'"

                        ]

                      }

                    }

                  ]

                }

              },

              "transportName": "TCP Sender",

              "mode": "DESTINATION",

             "enabled": true,

              "waitForPrevious": false

            },

            {

              "@version": "4.5.1",

              "metaDataId": 5,

              "name": "Visus WL ORM OP",

              "properties": {

                "@class": "com.mirth.connect.connectors.tcp.TcpDispatcherProperties",

                "@version": "4.5.1",

                "pluginProperties": null,

                "destinationConnectorProperties": {

                  "@version": "4.5.1",

                  "queueEnabled": true,

                  "sendFirst": true,

                  "retryIntervalMillis": 10000,

                  "regenerateTemplate": true,

                  "retryCount": 0,

                  "rotate": false,

                  "includeFilterTransformer": false,

                  "threadCount": 1,

                  "threadAssignmentVariable": null,

                  "validateResponse": true,

                  "resourceIds": {

                    "@class": "linked-hash-map",

                    "entry": {

                      "string": [

                        "Default Resource",

                        "[Default Resource]"

                      ]

                    }

                  },

                  "queueBufferSize": 1000,

                  "reattachAttachments": true

                },

                "transmissionModeProperties": {

                  "@class": "com.mirth.connect.plugins.mllpmode.MLLPModeProperties",

                  "pluginPointName": "MLLP",

                  "startOfMessageBytes": "0B",

                  "endOfMessageBytes": "1C0D",

                  "useMLLPv2": false,

                  "ackBytes": "06",

                  "nackBytes": 15,

                  "maxRetries": 2

                },

                "serverMode": false,

                "remoteAddress": "172.19.2.207",

                "remotePort": 3373,

                "overrideLocalBinding": false,

                "localAddress": "0.0.0.0",

                "localPort": 0,

                "sendTimeout": 5000,

                "bufferSize": 65536,

                "maxConnections": 10,

                "keepConnectionOpen": false,

                "checkRemoteHost": false,

                "responseTimeout": 5000,

                "ignoreResponse": false,

                "queueOnResponseTimeout": true,

                "dataTypeBinary": false,

                "charsetEncoding": "ISO-8859-15",

                "template": "${message.encodedData}"

              },

              "transformer": {

                "@version": "4.5.1",

                "elements": {

                  "com.mirth.connect.plugins.javascriptstep.JavaScriptStep": [

                    {

                      "@version": "4.5.1",

                      "name": "prepare tmp",

                      "sequenceNumber": 0,

                      "enabled": true,

                      "script": "tmp = msg.copy();"

                    },

                    {

                      "@version": "4.5.1",

                      "name": "adjust outgoing message",

                      "sequenceNumber": 1,

                      "enabled": true,

                      "script": "// Anpassung der Receiving Application\n\ntmp['MSH']['MSH.5']['MSH.5.1'] = 'JIVEX';"

                    }

                  ]

                },

                "inboundTemplate": {

                  "@encoding": "base64"

                },

                "outboundTemplate": {

                  "@encoding": "base64",

                  "$": "TVNIfF5+XCZ8RFBTfHxFS0dNSEh8UkFEfDIwMTUwMTI3MTE0MTM1fHxPUk1eTzAxfDAwMDAxMTB8UHwyLjN8fHxBTHxORQ=="

                },

                "inboundDataType": "HL7V2",

                "outboundDataType": "HL7V2",

                "inboundProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties",

                  "@version": "4.5.1",

                  "serializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties",

                    "@version": "4.5.1",

                    "handleRepetitions": true,

                    "handleSubcomponents": true,

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "stripNamespaces": false,

                    "segmentDelimiter": "\\r",

                    "convertLineBreaks": true

                  },

                  "deserializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties",

                    "@version": "4.5.1",

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "segmentDelimiter": "\\r"

                  },

                  "batchProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties",

                    "@version": "4.5.1",

                    "splitType": "MSH_Segment",

                    "batchScript": null

                  },

                  "responseGenerationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties",

                    "@version": "4.5.1",

                    "segmentDelimiter": "\\r",

                    "successfulACKCode": "AA",

                    "successfulACKMessage": null,

                    "errorACKCode": "AE",

                    "errorACKMessage": "An Error Occurred Processing Message.",

                    "rejectedACKCode": "AR",

                    "rejectedACKMessage": "Message Rejected.",

                    "msh15ACKAccept": false,

                    "dateFormat": "yyyyMMddHHmmss.SSS"

                  },

                  "responseValidationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties",

                    "@version": "4.5.1",

                    "successfulACKCode": "AA,CA",

                    "errorACKCode": "AE,CE",

                    "rejectedACKCode": "AR,CR",

                    "validateMessageControlId": true,

                    "originalMessageControlId": "Destination_Encoded",

                    "originalIdMapVariable": null

                  }

                },

                "outboundProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties",

                  "@version": "4.5.1",

                  "serializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties",

                    "@version": "4.5.1",

                    "handleRepetitions": true,

                    "handleSubcomponents": true,

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "stripNamespaces": false,

                    "segmentDelimiter": "\\r",

                    "convertLineBreaks": true

                  },

                  "deserializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties",

                    "@version": "4.5.1",

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "segmentDelimiter": "\\r"

                  },

                  "batchProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties",

                    "@version": "4.5.1",

                    "splitType": "MSH_Segment",

                    "batchScript": null

                  },

                  "responseGenerationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties",

                    "@version": "4.5.1",

                    "segmentDelimiter": "\\r",

                    "successfulACKCode": "AA",

                    "successfulACKMessage": null,

                    "errorACKCode": "AE",

                    "errorACKMessage": "An Error Occurred Processing Message.",

                    "rejectedACKCode": "AR",

                    "rejectedACKMessage": "Message Rejected.",

                    "msh15ACKAccept": false,

                    "dateFormat": "yyyyMMddHHmmss.SSS"

                  },

                  "responseValidationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties",

                    "@version": "4.5.1",

                    "successfulACKCode": "AA,CA",

                    "errorACKCode": "AE,CE",

                    "rejectedACKCode": "AR,CR",

                    "validateMessageControlId": true,

                    "originalMessageControlId": "Destination_Encoded",

                    "originalIdMapVariable": null

                  }

                }

              },

              "responseTransformer": {

                "@version": "4.5.1",

                "elements": null,

                "inboundDataType": "HL7V2",

                "outboundDataType": "HL7V2",

                "inboundProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties",

                  "@version": "4.5.1",

                  "serializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties",

                    "@version": "4.5.1",

                    "handleRepetitions": true,

                    "handleSubcomponents": true,

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "stripNamespaces": false,

                    "segmentDelimiter": "\\r",

                    "convertLineBreaks": true

                  },

                  "deserializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties",

                    "@version": "4.5.1",

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "segmentDelimiter": "\\r"

                  },

                  "batchProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties",

                    "@version": "4.5.1",

                    "splitType": "MSH_Segment",

                    "batchScript": null

                  },

                  "responseGenerationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties",

                    "@version": "4.5.1",

                    "segmentDelimiter": "\\r",

                    "successfulACKCode": "AA",

                    "successfulACKMessage": null,

                    "errorACKCode": "AE",

                    "errorACKMessage": "An Error Occurred Processing Message.",

                    "rejectedACKCode": "AR",

                    "rejectedACKMessage": "Message Rejected.",

                    "msh15ACKAccept": false,

                    "dateFormat": "yyyyMMddHHmmss.SSS"

                  },

                  "responseValidationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties",

                    "@version": "4.5.1",

                    "successfulACKCode": "AA,CA",

                    "errorACKCode": "AE,CE",

                    "rejectedACKCode": "AR,CR",

                    "validateMessageControlId": true,

                    "originalMessageControlId": "Destination_Encoded",

                    "originalIdMapVariable": null

                  }

                },

                "outboundProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties",

                  "@version": "4.5.1",

                  "serializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties",

                    "@version": "4.5.1",

                    "handleRepetitions": true,

                    "handleSubcomponents": true,

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "stripNamespaces": false,

                    "segmentDelimiter": "\\r",

                    "convertLineBreaks": true

                  },

                  "deserializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties",

                    "@version": "4.5.1",

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "segmentDelimiter": "\\r"

                  },

                  "batchProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties",

                    "@version": "4.5.1",

                    "splitType": "MSH_Segment",

                    "batchScript": null

                  },

                  "responseGenerationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties",

                    "@version": "4.5.1",

                    "segmentDelimiter": "\\r",

                    "successfulACKCode": "AA",

                    "successfulACKMessage": null,

                    "errorACKCode": "AE",

                    "errorACKMessage": "An Error Occurred Processing Message.",

                    "rejectedACKCode": "AR",

                    "rejectedACKMessage": "Message Rejected.",

                    "msh15ACKAccept": false,

                    "dateFormat": "yyyyMMddHHmmss.SSS"

                  },

                  "responseValidationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties",

                    "@version": "4.5.1",

                    "successfulACKCode": "AA,CA",

                    "errorACKCode": "AE,CE",

                    "rejectedACKCode": "AR,CR",

                    "validateMessageControlId": true,

                    "originalMessageControlId": "Destination_Encoded",

                    "originalIdMapVariable": null

                  }

                }

              },

              "filter": {

                "@version": "4.5.1",

                "elements": {

                  "com.mirth.connect.plugins.rulebuilder.RuleBuilderRule": [

                    {

                      "@version": "4.5.1",

                      "name": "Accept message if \"msg['OBR']['OBR.4']['OBR.4.1'].toString()\" equals 'OP_T'",

                      "sequenceNumber": 0,

                      "enabled": true,

                      "field": "msg['OBR']['OBR.4']['OBR.4.1'].toString()",

                      "condition": "EQUALS",

                      "values": {

                        "string": "'OP_T'"

                      }

                   },

                    {

                      "@version": "4.5.1",

                      "name": "Accept message if \"msg['OBR']['OBR.25']['OBR.25.1'].toString()\" equals '30' or '-10'",

                      "sequenceNumber": 1,

                      "enabled": true,

                      "operator": "AND",

                      "field": "msg['OBR']['OBR.25']['OBR.25.1'].toString()",

                      "condition": "EQUALS",

                      "values": {

                        "string": [

                          "'30'",

                          "'-10'"

                        ]

                      }

                    }

                  ]

                }

              },

              "transportName": "TCP Sender",

              "mode": "DESTINATION",

              "enabled": true,

              "waitForPrevious": false

            },

            {

              "@version": "4.5.1",

              "metaDataId": 6,

              "name": "Visus WL ORM AMB",

              "properties": {

                "@class": "com.mirth.connect.connectors.tcp.TcpDispatcherProperties",

                "@version": "4.5.1",

                "pluginProperties": null,

                "destinationConnectorProperties": {

                  "@version": "4.5.1",

                  "queueEnabled": true,

                  "sendFirst": true,

                  "retryIntervalMillis": 10000,

                  "regenerateTemplate": true,

                  "retryCount": 0,

                  "rotate": false,

                  "includeFilterTransformer": false,

                  "threadCount": 1,

                  "threadAssignmentVariable": null,

                  "validateResponse": true,

                 "resourceIds": {

                    "@class": "linked-hash-map",

                    "entry": {

                      "string": [

                        "Default Resource",

                        "[Default Resource]"

                      ]

                    }

                  },

                  "queueBufferSize": 1000,

                  "reattachAttachments": true

                },

                "transmissionModeProperties": {

                  "@class": "com.mirth.connect.plugins.mllpmode.MLLPModeProperties",

                  "pluginPointName": "MLLP",

                  "startOfMessageBytes": "0B",

                  "endOfMessageBytes": "1C0D",

                  "useMLLPv2": false,

                  "ackBytes": "06",

                  "nackBytes": 15,

                  "maxRetries": 2

                },

                "serverMode": false,

                "remoteAddress": "172.19.2.207",

                "remotePort": 3373,

                "overrideLocalBinding": false,

                "localAddress": "0.0.0.0",

                "localPort": 0,

                "sendTimeout": 5000,

                "bufferSize": 65536,

                "maxConnections": 10,

                "keepConnectionOpen": false,

                "checkRemoteHost": false,

                "responseTimeout": 5000,

                "ignoreResponse": false,

                "queueOnResponseTimeout": true,

                "dataTypeBinary": false,

                "charsetEncoding": "ISO-8859-15",

                "template": "${message.encodedData}"

              },

              "transformer": {

                "@version": "4.5.1",

                "elements": {

                  "com.mirth.connect.plugins.javascriptstep.JavaScriptStep": [

                    {

                      "@version": "4.5.1",

                      "name": "prepare tmp",

                      "sequenceNumber": 0,

                      "enabled": true,

                      "script": "tmp = msg.copy();"

                    },

                    {

                      "@version": "4.5.1",

                      "name": "adjust outgoing message",

                      "sequenceNumber": 1,

                      "enabled": true,

                      "script": "// Anpassung der Receiving Application\n\ntmp['MSH']['MSH.5']['MSH.5.1'] = 'JIVEX';\n\n// Anpassung für einen AE-Title der WL\n\ntmp['ORC']['ORC.17']['ORC.17.1'] = 'HNOT';"

                    }

                  ]

                },

                "inboundTemplate": {

                  "@encoding": "base64"

                },

                "outboundTemplate": {

                  "@encoding": "base64",

                  "$": "TVNIfF5+XCZ8RFBTfHxFS0dNSEh8UkFEfDIwMTUwMTI3MTE0MTM1fHxPUk1eTzAxfDAwMDAxMTB8UHwyLjN8fHxBTHxORQ=="

                },

                "inboundDataType": "HL7V2",

                "outboundDataType": "HL7V2",

                "inboundProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties",

                  "@version": "4.5.1",

                  "serializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties",

                    "@version": "4.5.1",

                    "handleRepetitions": true,

                    "handleSubcomponents": true,

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "stripNamespaces": false,

                    "segmentDelimiter": "\\r",

                    "convertLineBreaks": true

                  },

                  "deserializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties",

                    "@version": "4.5.1",

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "segmentDelimiter": "\\r"

                  },

                  "batchProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties",

                    "@version": "4.5.1",

                    "splitType": "MSH_Segment",

                    "batchScript": null

                  },

                  "responseGenerationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties",

                    "@version": "4.5.1",

                    "segmentDelimiter": "\\r",

                    "successfulACKCode": "AA",

                    "successfulACKMessage": null,

                    "errorACKCode": "AE",

                    "errorACKMessage": "An Error Occurred Processing Message.",

                    "rejectedACKCode": "AR",

                    "rejectedACKMessage": "Message Rejected.",

                    "msh15ACKAccept": false,

                    "dateFormat": "yyyyMMddHHmmss.SSS"

                  },

                  "responseValidationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties",

                    "@version": "4.5.1",

                    "successfulACKCode": "AA,CA",

                    "errorACKCode": "AE,CE",

                    "rejectedACKCode": "AR,CR",

                    "validateMessageControlId": true,

                    "originalMessageControlId": "Destination_Encoded",

                    "originalIdMapVariable": null

                  }

                },

                "outboundProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties",

                  "@version": "4.5.1",

                  "serializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties",

                    "@version": "4.5.1",

                    "handleRepetitions": true,

                    "handleSubcomponents": true,

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "stripNamespaces": false,

                    "segmentDelimiter": "\\r",

                    "convertLineBreaks": true

                  },

                  "deserializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties",

                    "@version": "4.5.1",

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "segmentDelimiter": "\\r"

                  },

                  "batchProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties",

                    "@version": "4.5.1",

                    "splitType": "MSH_Segment",

                    "batchScript": null

                  },

                  "responseGenerationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties",

                    "@version": "4.5.1",

                    "segmentDelimiter": "\\r",

                    "successfulACKCode": "AA",

                    "successfulACKMessage": null,

                    "errorACKCode": "AE",

                    "errorACKMessage": "An Error Occurred Processing Message.",

                    "rejectedACKCode": "AR",

                    "rejectedACKMessage": "Message Rejected.",

                    "msh15ACKAccept": false,

                    "dateFormat": "yyyyMMddHHmmss.SSS"

                  },

                  "responseValidationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties",

                    "@version": "4.5.1",

                    "successfulACKCode": "AA,CA",

                    "errorACKCode": "AE,CE",

                    "rejectedACKCode": "AR,CR",

                    "validateMessageControlId": true,

                    "originalMessageControlId": "Destination_Encoded",

                    "originalIdMapVariable": null

                  }

                }

              },

              "responseTransformer": {

                "@version": "4.5.1",

                "elements": null,

                "inboundDataType": "HL7V2",

                "outboundDataType": "HL7V2",

                "inboundProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties",

                 "@version": "4.5.1",

                  "serializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties",

                    "@version": "4.5.1",

                    "handleRepetitions": true,

                    "handleSubcomponents": true,

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "stripNamespaces": false,

                    "segmentDelimiter": "\\r",

                    "convertLineBreaks": true

                  },

                  "deserializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties",

                    "@version": "4.5.1",

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "segmentDelimiter": "\\r"

                  },

                  "batchProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties",

                    "@version": "4.5.1",

                    "splitType": "MSH_Segment",

                    "batchScript": null

                  },

                  "responseGenerationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties",

                    "@version": "4.5.1",

                    "segmentDelimiter": "\\r",

                    "successfulACKCode": "AA",

                    "successfulACKMessage": null,

                    "errorACKCode": "AE",

                    "errorACKMessage": "An Error Occurred Processing Message.",

                    "rejectedACKCode": "AR",

                    "rejectedACKMessage": "Message Rejected.",

                    "msh15ACKAccept": false,

                    "dateFormat": "yyyyMMddHHmmss.SSS"

                  },

                  "responseValidationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties",

                    "@version": "4.5.1",

                    "successfulACKCode": "AA,CA",

                    "errorACKCode": "AE,CE",

                    "rejectedACKCode": "AR,CR",

                    "validateMessageControlId": true,

                    "originalMessageControlId": "Destination_Encoded",

                    "originalIdMapVariable": null

                  }

                },

                "outboundProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties",

                  "@version": "4.5.1",

                  "serializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties",

                    "@version": "4.5.1",

                    "handleRepetitions": true,

                    "handleSubcomponents": true,

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "stripNamespaces": false,

                    "segmentDelimiter": "\\r",

                    "convertLineBreaks": true

                  },

                  "deserializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties",

                    "@version": "4.5.1",

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "segmentDelimiter": "\\r"

                  },

                  "batchProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties",

                    "@version": "4.5.1",

                    "splitType": "MSH_Segment",

                    "batchScript": null

                  },

                  "responseGenerationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties",

                    "@version": "4.5.1",

                    "segmentDelimiter": "\\r",

                    "successfulACKCode": "AA",

                    "successfulACKMessage": null,

                    "errorACKCode": "AE",

                    "errorACKMessage": "An Error Occurred Processing Message.",

                    "rejectedACKCode": "AR",

                    "rejectedACKMessage": "Message Rejected.",

                    "msh15ACKAccept": false,

                    "dateFormat": "yyyyMMddHHmmss.SSS"

                  },

                  "responseValidationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties",

                    "@version": "4.5.1",

                    "successfulACKCode": "AA,CA",

                    "errorACKCode": "AE,CE",

                    "rejectedACKCode": "AR,CR",

                    "validateMessageControlId": true,

                    "originalMessageControlId": "Destination_Encoded",

                    "originalIdMapVariable": null

                  }

                }

              },

              "filter": {

                "@version": "4.5.1",

                "elements": {

                  "com.mirth.connect.plugins.rulebuilder.RuleBuilderRule": {

                    "@version": "4.5.1",

                    "name": "Accept message if \"msg['MSH']['MSH.6']['MSH.6.1'].toString()\" equals 'HNOT'",

                    "sequenceNumber": 0,

                    "enabled": true,

                    "field": "msg['MSH']['MSH.6']['MSH.6.1'].toString()",

                    "condition": "EQUALS",

                    "values": {

                      "string": "'HNOT'"

                    }

                  }

                }

              },

              "transportName": "TCP Sender",

              "mode": "DESTINATION",

              "enabled": true,

              "waitForPrevious": false

            },

            {

              "@version": "4.5.1",

              "metaDataId": 7,

              "name": "ORM to Mirth 2 for GDT",

              "properties": {

                "@class": "com.mirth.connect.connectors.tcp.TcpDispatcherProperties",

                "@version": "4.5.1",

                "pluginProperties": null,

                "destinationConnectorProperties": {

                  "@version": "4.5.1",

                  "queueEnabled": true,

                  "sendFirst": true,

                  "retryIntervalMillis": 10000,

                  "regenerateTemplate": true,

                  "retryCount": 0,

                  "rotate": false,

                  "includeFilterTransformer": false,

                  "threadCount": 1,

                  "threadAssignmentVariable": null,

                  "validateResponse": true,

                  "resourceIds": {

                    "@class": "linked-hash-map",

                    "entry": {

                      "string": [

                        "Default Resource",

                        "[Default Resource]"

                      ]

                    }

                  },

                  "queueBufferSize": 1000,

                  "reattachAttachments": true

                },

                "transmissionModeProperties": {

                  "@class": "com.mirth.connect.plugins.mllpmode.MLLPModeProperties",

                  "pluginPointName": "MLLP",

                  "startOfMessageBytes": "0B",

                  "endOfMessageBytes": "1C0D",

                  "useMLLPv2": false,

                  "ackBytes": "06",

                  "nackBytes": 15,

                  "maxRetries": 2

                },

                "serverMode": false,

                "remoteAddress": "172.19.3.233",

                "remotePort": 7662,

                "overrideLocalBinding": false,

                "localAddress": "0.0.0.0",

                "localPort": 0,

                "sendTimeout": 5000,

                "bufferSize": 65536,

                "maxConnections": 10,

                "keepConnectionOpen": false,

                "checkRemoteHost": false,

                "responseTimeout": 5000,

                "ignoreResponse": false,

                "queueOnResponseTimeout": true,

                "dataTypeBinary": false,

                "charsetEncoding": "ISO-8859-15",

                "template": "${message.encodedData}"

              },

              "transformer": {

                "@version": "4.5.1",

                "elements": null,

                "inboundTemplate": {

                  "@encoding": "base64"

                },

                "inboundDataType": "HL7V2",

                "outboundDataType": "HL7V2",

                "inboundProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties",

                  "@version": "4.5.1",

                  "serializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties",

                    "@version": "4.5.1",

                    "handleRepetitions": true,

                    "handleSubcomponents": true,

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "stripNamespaces": false,

                    "segmentDelimiter": "\\r",

                    "convertLineBreaks": true

                  },

                  "deserializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties",

                    "@version": "4.5.1",

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "segmentDelimiter": "\\r"

                  },

                  "batchProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties",

                    "@version": "4.5.1",

                    "splitType": "MSH_Segment",

                    "batchScript": null

                  },

                  "responseGenerationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties",

                    "@version": "4.5.1",

                    "segmentDelimiter": "\\r",

                    "successfulACKCode": "AA",

                    "successfulACKMessage": null,

                    "errorACKCode": "AE",

                    "errorACKMessage": "An Error Occurred Processing Message.",

                    "rejectedACKCode": "AR",

                    "rejectedACKMessage": "Message Rejected.",

                    "msh15ACKAccept": false,

                    "dateFormat": "yyyyMMddHHmmss.SSS"

                  },

                  "responseValidationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties",

                    "@version": "4.5.1",

                    "successfulACKCode": "AA,CA",

                    "errorACKCode": "AE,CE",

                    "rejectedACKCode": "AR,CR",

                    "validateMessageControlId": true,

                    "originalMessageControlId": "Destination_Encoded",

                    "originalIdMapVariable": null

                  }

                },

                "outboundProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties",

                  "@version": "4.5.1",

                  "serializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties",

                    "@version": "4.5.1",

                    "handleRepetitions": true,

                    "handleSubcomponents": true,

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "stripNamespaces": false,

                    "segmentDelimiter": "\\r",

                    "convertLineBreaks": true

                  },

                  "deserializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties",

                    "@version": "4.5.1",

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "segmentDelimiter": "\\r"

                  },

                  "batchProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties",

                    "@version": "4.5.1",

                    "splitType": "MSH_Segment",

                    "batchScript": null

                  },

                  "responseGenerationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties",

                    "@version": "4.5.1",

                    "segmentDelimiter": "\\r",

                    "successfulACKCode": "AA",

                    "successfulACKMessage": null,

                    "errorACKCode": "AE",

                    "errorACKMessage": "An Error Occurred Processing Message.",

                    "rejectedACKCode": "AR",

                    "rejectedACKMessage": "Message Rejected.",

                    "msh15ACKAccept": false,

                    "dateFormat": "yyyyMMddHHmmss.SSS"

                  },

                  "responseValidationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties",

                    "@version": "4.5.1",

                   "successfulACKCode": "AA,CA",

                    "errorACKCode": "AE,CE",

                    "rejectedACKCode": "AR,CR",

                    "validateMessageControlId": true,

                    "originalMessageControlId": "Destination_Encoded",

                    "originalIdMapVariable": null

                  }

                }

              },

              "responseTransformer": {

                "@version": "4.5.1",

                "elements": null,

                "inboundDataType": "HL7V2",

                "outboundDataType": "HL7V2",

                "inboundProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties",

                  "@version": "4.5.1",

                  "serializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties",

                    "@version": "4.5.1",

                    "handleRepetitions": true,

                    "handleSubcomponents": true,

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "stripNamespaces": false,

                    "segmentDelimiter": "\\r",

                    "convertLineBreaks": true

                  },

                  "deserializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties",

                    "@version": "4.5.1",

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "segmentDelimiter": "\\r"

                  },

                  "batchProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties",

                    "@version": "4.5.1",

                    "splitType": "MSH_Segment",

                    "batchScript": null

                  },

                  "responseGenerationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties",

                    "@version": "4.5.1",

                    "segmentDelimiter": "\\r",

                    "successfulACKCode": "AA",

                    "successfulACKMessage": null,

                    "errorACKCode": "AE",

                    "errorACKMessage": "An Error Occurred Processing Message.",

                    "rejectedACKCode": "AR",

                    "rejectedACKMessage": "Message Rejected.",

                    "msh15ACKAccept": false,

                    "dateFormat": "yyyyMMddHHmmss.SSS"

                  },

                  "responseValidationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties",

                    "@version": "4.5.1",

                    "successfulACKCode": "AA,CA",

                    "errorACKCode": "AE,CE",

                    "rejectedACKCode": "AR,CR",

                    "validateMessageControlId": true,

                    "originalMessageControlId": "Destination_Encoded",

                    "originalIdMapVariable": null

                  }

                },

                "outboundProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties",

                  "@version": "4.5.1",

                  "serializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties",

                    "@version": "4.5.1",

                    "handleRepetitions": true,

                    "handleSubcomponents": true,

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "stripNamespaces": false,

                    "segmentDelimiter": "\\r",

                    "convertLineBreaks": true

                  },

                  "deserializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties",

                    "@version": "4.5.1",

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "segmentDelimiter": "\\r"

                  },

                  "batchProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties",

                    "@version": "4.5.1",

                    "splitType": "MSH_Segment",

                    "batchScript": null

                  },

                  "responseGenerationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties",

                    "@version": "4.5.1",

                    "segmentDelimiter": "\\r",

                    "successfulACKCode": "AA",

                    "successfulACKMessage": null,

                    "errorACKCode": "AE",

                    "errorACKMessage": "An Error Occurred Processing Message.",

                    "rejectedACKCode": "AR",

                    "rejectedACKMessage": "Message Rejected.",

                    "msh15ACKAccept": false,

                    "dateFormat": "yyyyMMddHHmmss.SSS"

                  },

                  "responseValidationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties",

                    "@version": "4.5.1",

                    "successfulACKCode": "AA,CA",

                    "errorACKCode": "AE,CE",

                    "rejectedACKCode": "AR,CR",

                    "validateMessageControlId": true,

                    "originalMessageControlId": "Destination_Encoded",

                    "originalIdMapVariable": null

                  }

                }

              },

              "filter": {

                "@version": "4.5.1",

                "elements": {

                  "com.mirth.connect.plugins.rulebuilder.RuleBuilderRule": [

                    {

                      "@version": "4.5.1",

                      "name": "Accept message if \"msg['OBR']['OBR.4']['OBR.4.1'].toString()\" equals 'VESTIBULARIS' or 'KOPFIMP'",

                      "sequenceNumber": 0,

                      "enabled": true,

                      "field": "msg['OBR']['OBR.4']['OBR.4.1'].toString()",

                      "condition": "EQUALS",

                      "values": {

                        "string": [

                          "'VESTIBULARIS'",

                          "'KOPFIMP'"

                        ]

                      }

                    },

                    {

                      "@version": "4.5.1",

                      "name": "Accept message if \"msg['OBR']['OBR.25']['OBR.25.1'].toString()\" equals '13'",

                      "sequenceNumber": 1,

                      "enabled": true,

                      "operator": "AND",

                      "field": "msg['OBR']['OBR.25']['OBR.25.1'].toString()",

                      "condition": "EQUALS",

                      "values": {

                        "string": "'13'"

                      }

                    }

                  ]

                }

              },

              "transportName": "TCP Sender",

              "mode": "DESTINATION",

              "enabled": true,

              "waitForPrevious": false

            },

            {

              "@version": "4.5.1",

              "metaDataId": 8,

              "name": "Vyaire ORM Body Ergo Spiro",

              "properties": {

                "@class": "com.mirth.connect.connectors.tcp.TcpDispatcherProperties",

                "@version": "4.5.1",

                "pluginProperties": null,

                "destinationConnectorProperties": {

                  "@version": "4.5.1",

                  "queueEnabled": true,

                  "sendFirst": true,

                  "retryIntervalMillis": 10000,

                  "regenerateTemplate": true,

                  "retryCount": 0,

                  "rotate": false,

                  "includeFilterTransformer": false,

                  "threadCount": 1,

                  "threadAssignmentVariable": null,

                  "validateResponse": true,

                  "resourceIds": {

                    "@class": "linked-hash-map",

                    "entry": {

                      "string": [

                        "Default Resource",

                        "[Default Resource]"

                      ]

                    }

                  },

                  "queueBufferSize": 1000,

                  "reattachAttachments": true

                },

                "transmissionModeProperties": {

                  "@class": "com.mirth.connect.plugins.mllpmode.MLLPModeProperties",

                  "pluginPointName": "MLLP",

                  "startOfMessageBytes": "0B",

                  "endOfMessageBytes": "1C0D",

                  "useMLLPv2": false,

                  "ackBytes": "06",

                  "nackBytes": 15,

                  "maxRetries": 2

                },

                "serverMode": false,

                "remoteAddress": "172.19.3.131",

                "remotePort": 10200,

                "overrideLocalBinding": false,

                "localAddress": "0.0.0.0",

                "localPort": 0,

                "sendTimeout": 5000,

                "bufferSize": 65536,

                "maxConnections": 10,

                "keepConnectionOpen": false,

                "checkRemoteHost": false,

                "responseTimeout": 5000,

                "ignoreResponse": false,

                "queueOnResponseTimeout": true,

                "dataTypeBinary": false,

                "charsetEncoding": "ISO-8859-15",

                "template": "${message.encodedData}"

              },

              "transformer": {

                "@version": "4.5.1",

                "elements": null,

                "inboundTemplate": {

                  "@encoding": "base64"

                },

                "inboundDataType": "HL7V2",

                "outboundDataType": "HL7V2",

                "inboundProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties",

                  "@version": "4.5.1",

                  "serializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties",

                    "@version": "4.5.1",

                    "handleRepetitions": true,

                    "handleSubcomponents": true,

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "stripNamespaces": false,

                    "segmentDelimiter": "\\r",

                    "convertLineBreaks": true

                  },

                  "deserializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties",

                    "@version": "4.5.1",

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "segmentDelimiter": "\\r"

                  },

                  "batchProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties",

                    "@version": "4.5.1",

                    "splitType": "MSH_Segment",

                    "batchScript": null

                  },

                  "responseGenerationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties",

                    "@version": "4.5.1",

                    "segmentDelimiter": "\\r",

                    "successfulACKCode": "AA",

                    "successfulACKMessage": null,

                    "errorACKCode": "AE",

                    "errorACKMessage": "An Error Occurred Processing Message.",

                    "rejectedACKCode": "AR",

                    "rejectedACKMessage": "Message Rejected.",

                    "msh15ACKAccept": false,

                    "dateFormat": "yyyyMMddHHmmss.SSS"

                  },

                  "responseValidationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties",

                    "@version": "4.5.1",

                    "successfulACKCode": "AA,CA",

                    "errorACKCode": "AE,CE",

                    "rejectedACKCode": "AR,CR",

                    "validateMessageControlId": true,

                    "originalMessageControlId": "Destination_Encoded",

                    "originalIdMapVariable": null

                  }

                },

                "outboundProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties",

                  "@version": "4.5.1",

                  "serializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties",

                    "@version": "4.5.1",

                    "handleRepetitions": true,

                    "handleSubcomponents": true,

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "stripNamespaces": false,

                    "segmentDelimiter": "\\r",

                    "convertLineBreaks": true

                  },

                  "deserializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties",

                    "@version": "4.5.1",

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "segmentDelimiter": "\\r"

                  },

                  "batchProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties",

                    "@version": "4.5.1",

                    "splitType": "MSH_Segment",

                    "batchScript": null

                  },

                  "responseGenerationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties",

                    "@version": "4.5.1",

                    "segmentDelimiter": "\\r",

                    "successfulACKCode": "AA",

                    "successfulACKMessage": null,

                    "errorACKCode": "AE",

                    "errorACKMessage": "An Error Occurred Processing Message.",

                    "rejectedACKCode": "AR",

                    "rejectedACKMessage": "Message Rejected.",

                    "msh15ACKAccept": false,

                    "dateFormat": "yyyyMMddHHmmss.SSS"

                  },

                  "responseValidationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties",

                    "@version": "4.5.1",

                    "successfulACKCode": "AA,CA",

                    "errorACKCode": "AE,CE",

                    "rejectedACKCode": "AR,CR",

                    "validateMessageControlId": true,

                    "originalMessageControlId": "Destination_Encoded",

                    "originalIdMapVariable": null

                  }

                }

              },

              "responseTransformer": {

                "@version": "4.5.1",

                "elements": null,

                "inboundDataType": "HL7V2",

                "outboundDataType": "HL7V2",

                "inboundProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties",

                  "@version": "4.5.1",

                  "serializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties",

                    "@version": "4.5.1",

                    "handleRepetitions": true,

                    "handleSubcomponents": true,

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "stripNamespaces": false,

                    "segmentDelimiter": "\\r",

                    "convertLineBreaks": true

                  },

                  "deserializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties",

                    "@version": "4.5.1",

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "segmentDelimiter": "\\r"

                  },

                  "batchProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties",

                    "@version": "4.5.1",

                    "splitType": "MSH_Segment",

                    "batchScript": null

                  },

                  "responseGenerationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties",

                    "@version": "4.5.1",

                    "segmentDelimiter": "\\r",

                    "successfulACKCode": "AA",

                    "successfulACKMessage": null,

                    "errorACKCode": "AE",

                    "errorACKMessage": "An Error Occurred Processing Message.",

                    "rejectedACKCode": "AR",

                    "rejectedACKMessage": "Message Rejected.",

                    "msh15ACKAccept": false,

                    "dateFormat": "yyyyMMddHHmmss.SSS"

                  },

                  "responseValidationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties",

                    "@version": "4.5.1",

                    "successfulACKCode": "AA,CA",

                    "errorACKCode": "AE,CE",

                    "rejectedACKCode": "AR,CR",

                    "validateMessageControlId": true,

                    "originalMessageControlId": "Destination_Encoded",

                    "originalIdMapVariable": null

                  }

                },

                "outboundProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties",

                  "@version": "4.5.1",

                  "serializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties",

                    "@version": "4.5.1",

                    "handleRepetitions": true,

                    "handleSubcomponents": true,

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "stripNamespaces": false,

                    "segmentDelimiter": "\\r",

                    "convertLineBreaks": true

                  },

                  "deserializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties",

                    "@version": "4.5.1",

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "segmentDelimiter": "\\r"

                  },

                  "batchProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties",

                    "@version": "4.5.1",

                    "splitType": "MSH_Segment",

                    "batchScript": null

                  },

                  "responseGenerationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties",

                    "@version": "4.5.1",

                    "segmentDelimiter": "\\r",

                    "successfulACKCode": "AA",

                    "successfulACKMessage": null,

                    "errorACKCode": "AE",

                    "errorACKMessage": "An Error Occurred Processing Message.",

                    "rejectedACKCode": "AR",

                    "rejectedACKMessage": "Message Rejected.",

                    "msh15ACKAccept": false,

                    "dateFormat": "yyyyMMddHHmmss.SSS"

                  },

                  "responseValidationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties",

                    "@version": "4.5.1",

                    "successfulACKCode": "AA,CA",

                    "errorACKCode": "AE,CE",

                    "rejectedACKCode": "AR,CR",

                    "validateMessageControlId": true,

                    "originalMessageControlId": "Destination_Encoded",

                    "originalIdMapVariable": null

                  }

                }

              },

              "filter": {

                "@version": "4.5.1",

                "elements": {

                  "com.mirth.connect.plugins.javascriptrule.JavaScriptRule": {

                    "@version": "4.5.1",

                    "name": "Filter ZPM or MF_E with diff service",

                    "sequenceNumber": 0,

                    "enabled": true,

                    "script": "var MSH6 = msg['MSH']['MSH.6']['MSH.6.1']\nvar OBR4 = msg['OBR']['OBR.4']['OBR.4.1'] \n\nif (MSH6 == 'ZPM' && (OBR4 == 'LUFU' || OBR4 == 'SPIROERGO' || OBR4 == 'ERGO'))\t\n{\n\treturn true;\n}\nelse if (MSH6 == 'ZIMH' && (OBR4 == 'EKGNORM' || OBR4 == 'SPIROERGO' || OBR4 == 'ERGO'))\n{\n\treturn true;\n}\nelse if (MSH6 == 'MVZ ' && (OBR4 == 'EKGNORM' || OBR4 == 'SPIROERGO' || OBR4 == 'ERGO'))\n{\n\treturn true;\n}\nelse if (MSH6 == 'MF_E' && (OBR4 == 'BODY' ||  OBR4 == 'VITA' || OBR4 == 'PRICK' || OBR4 == 'FENO' ||  OBR4 == 'ATEMMUSKEL' || OBR4 == 'PRAEOPDIAG' || OBR4 == 'DIFFDIAG' || OBR4 == 'STAGING' || OBR4 == 'SPIRO' || OBR4 == 'SPIROERGO'))\n{\n\treturn true;\n}\nelse if (MSH6 == 'AUDI' && (OBR4 == 'LUFU' || OBR4 == 'ASSPROVO'))\n{\n\treturn true;\n}\nreturn false;"

                  },

                  "com.mirth.connect.plugins.rulebuilder.RuleBuilderRule": {

                    "@version": "4.5.1",

                    "name": "Accept message if \"msg['OBR']['OBR.25']['OBR.25.1'].toString()\" equals '30' or '-10' or '5' or '13'",

                    "sequenceNumber": 1,

                    "enabled": true,

                    "operator": "AND",

                    "field": "msg['OBR']['OBR.25']['OBR.25.1'].toString()",

                    "condition": "EQUALS",

                    "values": {

                      "string": [

                        "'30'",

                        "'-10'",

                        "'5'",

                        "'13'"

                      ]

                    }

                  }

                }

              },

              "transportName": "TCP Sender",

              "mode": "DESTINATION",

              "enabled": true,

              "waitForPrevious": false

            }

          ]

        },

        "preprocessingScript": "// Modify the message variable below to pre process data\nvar newMessage = message.replace(/[\\x00-\\x08]|[\\x0B-\\x0C]|[\\x0E-\\x1F]/g, '');\nreturn newMessage;",

        "postprocessingScript": "// This script executes once after a message has been processed\n// Responses returned from here will be stored as \"Postprocessor\" in the response map\nreturn;",

        "deployScript": "// This script executes once when the channel is deployed\n// You only have access to the globalMap and globalChannelMap here to persist data\nreturn;",

        "undeployScript": "// This script executes once when the channel is undeployed\n// You only have access to the globalMap and globalChannelMap here to persist data\nreturn;",

        "properties": {

          "@version": "4.5.1",

          "clearGlobalChannelMap": true,

          "messageStorageMode": "PRODUCTION",

          "encryptData": false,

          "encryptAttachments": false,

          "encryptCustomMetaData": false,

          "removeContentOnCompletion": false,

          "removeOnlyFilteredOnCompletion": false,

          "removeAttachmentsOnCompletion": false,

          "initialState": "STARTED",

          "storeAttachments": true,

          "metaDataColumns": {

            "metaDataColumn": [

              {

                "name": "SOURCE",

                "type": "STRING",

                "mappingName": "mirth_source"

              },

              {

                "name": "TYPE",

                "type": "STRING",

                "mappingName": "mirth_type"

              },

              {

                "name": "PAT_ID",

                "type": "STRING",

                "mappingName": "patientId"

              },

              {

                "name": "VISIT_ID",

                "type": "STRING",

                "mappingName": "visitId"

              }

            ]

          },

          "attachmentProperties": {

            "@version": "4.5.1",

            "type": "None",

            "properties": null

          },

          "resourceIds": {

            "@class": "linked-hash-map",

            "entry": {

              "string": [

                "Default Resource",

                "[Default Resource]"

              ]

            }

          }

        },

        "exportData": {

          "metadata": {

            "enabled": true,

            "lastModified": {

              "time": 1744627662411,

              "timezone": "Europe/Berlin"

            },

            "pruningSettings": {

              "pruneMetaDataDays": 31,

              "archiveEnabled": true,

              "pruneErroredMessages": false

            },

            "userId": 2

          },

          "dependentIds": null,

          "dependencyIds": null,

          "channelTags": null

        }

      },

      {

        "@version": "4.5.1",

        "id": "d4517c22-f65c-4a49-a899-13bc5e55cab4",

        "nextMetaDataId": 3,

        "name": "C_KISORMZusatz",

        "description": null,

        "revision": 4,

        "sourceConnector": {

          "@version": "4.5.1",

          "metaDataId": 0,

          "name": "sourceConnector",

          "properties": {

            "@class": "com.mirth.connect.connectors.tcp.TcpReceiverProperties",

            "@version": "4.5.1",

            "pluginProperties": null,

            "listenerConnectorProperties": {

              "@version": "4.5.1",

              "host": "0.0.0.0",

              "port": 6600

            },

            "sourceConnectorProperties": {

              "@version": "4.5.1",

              "responseVariable": "Auto-generate (After source transformer)",

              "respondAfterProcessing": true,

              "processBatch": false,

              "firstResponse": true,

              "processingThreads": 1,

              "resourceIds": {

                "@class": "linked-hash-map",

                "entry": {

                  "string": [

                    "Default Resource",

                    "[Default Resource]"

                  ]

                }

              },

              "queueBufferSize": 1000

            },

            "transmissionModeProperties": {

              "@class": "com.mirth.connect.plugins.mllpmode.MLLPModeProperties",

              "pluginPointName": "MLLP",

              "startOfMessageBytes": "0B",

              "endOfMessageBytes": "1C0D",

              "useMLLPv2": false,

              "ackBytes": "06",

              "nackBytes": 15,

              "maxRetries": 2

            },

            "serverMode": true,

            "remoteAddress": null,

            "remotePort": null,

            "overrideLocalBinding": false,

            "reconnectInterval": 5000,

            "receiveTimeout": 0,

            "bufferSize": 65536,

            "maxConnections": 10,

            "keepConnectionOpen": true,

            "dataTypeBinary": false,

            "charsetEncoding": "DEFAULT_ENCODING",

            "respondOnNewConnection": 0,

            "responseAddress": null,

            "responsePort": null

          },

          "transformer": {

            "@version": "4.5.1",

            "elements": {

              "com.mirth.connect.plugins.javascriptstep.JavaScriptStep": {

                "@version": "4.5.1",

                "sequenceNumber": 0,

                "enabled": true,

                "script": "getOrderMetadata();"

              }

            },

            "inboundTemplate": {

              "@encoding": "base64"

            },

            "outboundTemplate": {

              "@encoding": "base64"

            },

            "inboundDataType": "HL7V2",

            "outboundDataType": "HL7V2",

            "inboundProperties": {

              "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties",

              "@version": "4.5.1",

              "serializationProperties": {

                "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties",

                "@version": "4.5.1",

                "handleRepetitions": true,

                "handleSubcomponents": true,

                "useStrictParser": false,

                "useStrictValidation": false,

                "stripNamespaces": false,

                "segmentDelimiter": "\\r",

                "convertLineBreaks": true

              },

              "deserializationProperties": {

                "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties",

                "@version": "4.5.1",

                "useStrictParser": false,

                "useStrictValidation": false,

                "segmentDelimiter": "\\r"

              },

              "batchProperties": {

                "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties",

                "@version": "4.5.1",

                "splitType": "MSH_Segment",

                "batchScript": null

              },

              "responseGenerationProperties": {

                "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties",

                "@version": "4.5.1",

                "segmentDelimiter": "\\r",

                "successfulACKCode": "AA",

                "successfulACKMessage": null,

                "errorACKCode": "AE",

                "errorACKMessage": "An Error Occurred Processing Message.",

                "rejectedACKCode": "AR",

                "rejectedACKMessage": "Message Rejected.",

                "msh15ACKAccept": false,

                "dateFormat": "yyyyMMddHHmmss.SSS"

              },

              "responseValidationProperties": {

                "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties",

                "@version": "4.5.1",

                "successfulACKCode": "AA,CA",

                "errorACKCode": "AE,CE",

                "rejectedACKCode": "AR,CR",

                "validateMessageControlId": true,

                "originalMessageControlId": "Destination_Encoded",

                "originalIdMapVariable": null

              }

            },

            "outboundProperties": {

              "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties",

              "@version": "4.5.1",

              "serializationProperties": {

                "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties",

                "@version": "4.5.1",

                "handleRepetitions": true,

                "handleSubcomponents": true,

                "useStrictParser": false,

                "useStrictValidation": false,

                "stripNamespaces": false,

                "segmentDelimiter": "\\r",

                "convertLineBreaks": true

              },

              "deserializationProperties": {

                "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties",

                "@version": "4.5.1",

                "useStrictParser": false,

                "useStrictValidation": false,

                "segmentDelimiter": "\\r"

              },

              "batchProperties": {

                "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties",

                "@version": "4.5.1",

                "splitType": "MSH_Segment",

                "batchScript": null

              },

              "responseGenerationProperties": {

                "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties",

                "@version": "4.5.1",

                "segmentDelimiter": "\\r",

                "successfulACKCode": "AA",

                "successfulACKMessage": null,

                "errorACKCode": "AE",

                "errorACKMessage": "An Error Occurred Processing Message.",

                "rejectedACKCode": "AR",

                "rejectedACKMessage": "Message Rejected.",

                "msh15ACKAccept": false,

                "dateFormat": "yyyyMMddHHmmss.SSS"

              },

              "responseValidationProperties": {

                "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties",

                "@version": "4.5.1",

                "successfulACKCode": "AA,CA",

                "errorACKCode": "AE,CE",

                "rejectedACKCode": "AR,CR",

                "validateMessageControlId": true,

                "originalMessageControlId": "Destination_Encoded",

                "originalIdMapVariable": null

              }

            }

          },

          "filter": {

            "@version": "4.5.1",

            "elements": null

          },

          "transportName": "TCP Listener",

          "mode": "SOURCE",

          "enabled": true,

          "waitForPrevious": true

        },

       "destinationConnectors": {

          "connector": [

            {

              "@version": "4.5.1",

              "metaDataId": 1,

              "name": "PDMS",

              "properties": {

                "@class": "com.mirth.connect.connectors.tcp.TcpDispatcherProperties",

                "@version": "4.5.1",

                "pluginProperties": null,

                "destinationConnectorProperties": {

                  "@version": "4.5.1",

                  "queueEnabled": true,

                  "sendFirst": false,

                  "retryIntervalMillis": 10000,

                  "regenerateTemplate": false,

                  "retryCount": 0,

                  "rotate": false,

                  "includeFilterTransformer": false,

                  "threadCount": 1,

                  "threadAssignmentVariable": null,

                  "validateResponse": true,

                  "resourceIds": {

                    "@class": "linked-hash-map",

                    "entry": {

                      "string": [

                        "Default Resource",

                        "[Default Resource]"

                      ]

                    }

                  },

                  "queueBufferSize": 1000,

                  "reattachAttachments": true

                },

                "transmissionModeProperties": {

                  "@class": "com.mirth.connect.plugins.mllpmode.MLLPModeProperties",

                  "pluginPointName": "MLLP",

                  "startOfMessageBytes": "0B",

                  "endOfMessageBytes": "1C0D",

                  "useMLLPv2": false,

                  "ackBytes": "06",

                  "nackBytes": 15,

                  "maxRetries": 2

                },

                "serverMode": false,

                "remoteAddress": "172.19.133.5",

                "remotePort": 2991,

                "overrideLocalBinding": false,

                "localAddress": "0.0.0.0",

                "localPort": 0,

                "sendTimeout": 5000,

                "bufferSize": 65536,

                "maxConnections": 10,

                "keepConnectionOpen": false,

                "checkRemoteHost": false,

                "responseTimeout": 5000,

                "ignoreResponse": false,

                "queueOnResponseTimeout": true,

                "dataTypeBinary": false,

                "charsetEncoding": "DEFAULT_ENCODING",

                "template": "${message.encodedData}"

              },

              "transformer": {

                "@version": "4.5.1",

                "elements": null,

                "inboundDataType": "HL7V2",

                "outboundDataType": "HL7V2",

                "inboundProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties",

                  "@version": "4.5.1",

                  "serializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties",

                    "@version": "4.5.1",

                    "handleRepetitions": true,

                    "handleSubcomponents": true,

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "stripNamespaces": false,

                    "segmentDelimiter": "\\r",

                    "convertLineBreaks": true

                  },

                  "deserializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties",

                    "@version": "4.5.1",

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "segmentDelimiter": "\\r"

                  },

                  "batchProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties",

                    "@version": "4.5.1",

                    "splitType": "MSH_Segment",

                    "batchScript": null

                  },

                  "responseGenerationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties",

                    "@version": "4.5.1",

                    "segmentDelimiter": "\\r",

                    "successfulACKCode": "AA",

                    "successfulACKMessage": null,

                    "errorACKCode": "AE",

                    "errorACKMessage": "An Error Occurred Processing Message.",

                    "rejectedACKCode": "AR",

                    "rejectedACKMessage": "Message Rejected.",

                    "msh15ACKAccept": false,

                    "dateFormat": "yyyyMMddHHmmss.SSS"

                  },

                  "responseValidationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties",

                    "@version": "4.5.1",

                    "successfulACKCode": "AA,CA",

                    "errorACKCode": "AE,CE",

                    "rejectedACKCode": "AR,CR",

                    "validateMessageControlId": true,

                    "originalMessageControlId": "Destination_Encoded",

                    "originalIdMapVariable": null

                  }

                },

                "outboundProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties",

                  "@version": "4.5.1",

                  "serializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties",

                    "@version": "4.5.1",

                    "handleRepetitions": true,

                    "handleSubcomponents": true,

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "stripNamespaces": false,

                    "segmentDelimiter": "\\r",

                    "convertLineBreaks": true

                  },

                  "deserializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties",

                    "@version": "4.5.1",

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "segmentDelimiter": "\\r"

                  },

                  "batchProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties",

                    "@version": "4.5.1",

                    "splitType": "MSH_Segment",

                    "batchScript": null

                  },

                  "responseGenerationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties",

                    "@version": "4.5.1",

                    "segmentDelimiter": "\\r",

                    "successfulACKCode": "AA",

                    "successfulACKMessage": null,

                    "errorACKCode": "AE",

                    "errorACKMessage": "An Error Occurred Processing Message.",

                    "rejectedACKCode": "AR",

                    "rejectedACKMessage": "Message Rejected.",

                    "msh15ACKAccept": false,

                    "dateFormat": "yyyyMMddHHmmss.SSS"

                  },

                  "responseValidationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties",

                    "@version": "4.5.1",

                    "successfulACKCode": "AA,CA",

                    "errorACKCode": "AE,CE",

                    "rejectedACKCode": "AR,CR",

                    "validateMessageControlId": true,

                    "originalMessageControlId": "Destination_Encoded",

                    "originalIdMapVariable": null

                  }

                }

              },

              "responseTransformer": {

                "@version": "4.5.1",

                "elements": null,

                "inboundDataType": "HL7V2",

                "outboundDataType": "HL7V2",

                "inboundProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties",

                  "@version": "4.5.1",

                  "serializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties",

                    "@version": "4.5.1",

                    "handleRepetitions": true,

                    "handleSubcomponents": true,

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "stripNamespaces": false,

                    "segmentDelimiter": "\\r",

                    "convertLineBreaks": true

                  },

                  "deserializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties",

                    "@version": "4.5.1",

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "segmentDelimiter": "\\r"

                  },

                  "batchProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties",

                    "@version": "4.5.1",

                    "splitType": "MSH_Segment",

                    "batchScript": null

                  },

                  "responseGenerationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties",

                    "@version": "4.5.1",

                    "segmentDelimiter": "\\r",

                    "successfulACKCode": "AA",

                    "successfulACKMessage": null,

                    "errorACKCode": "AE",

                    "errorACKMessage": "An Error Occurred Processing Message.",

                    "rejectedACKCode": "AR",

                    "rejectedACKMessage": "Message Rejected.",

                    "msh15ACKAccept": false,

                    "dateFormat": "yyyyMMddHHmmss.SSS"

                  },

                  "responseValidationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties",

                    "@version": "4.5.1",

                    "successfulACKCode": "AA,CA",

                    "errorACKCode": "AE,CE",

                    "rejectedACKCode": "AR,CR",

                    "validateMessageControlId": true,

                    "originalMessageControlId": "Destination_Encoded",

                    "originalIdMapVariable": null

                  }

                },

                "outboundProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties",

                  "@version": "4.5.1",

                  "serializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties",

                    "@version": "4.5.1",

                    "handleRepetitions": true,

                    "handleSubcomponents": true,

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "stripNamespaces": false,

                    "segmentDelimiter": "\\r",

                    "convertLineBreaks": true

                  },

                  "deserializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties",

                    "@version": "4.5.1",

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "segmentDelimiter": "\\r"

                  },

                  "batchProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties",

                    "@version": "4.5.1",

                    "splitType": "MSH_Segment",

                    "batchScript": null

                  },

                  "responseGenerationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties",

                    "@version": "4.5.1",

                    "segmentDelimiter": "\\r",

                    "successfulACKCode": "AA",

                    "successfulACKMessage": null,

                    "errorACKCode": "AE",

                    "errorACKMessage": "An Error Occurred Processing Message.",

                    "rejectedACKCode": "AR",

                    "rejectedACKMessage": "Message Rejected.",

                    "msh15ACKAccept": false,

                    "dateFormat": "yyyyMMddHHmmss.SSS"

                  },

                  "responseValidationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties",

                    "@version": "4.5.1",

                    "successfulACKCode": "AA,CA",

                    "errorACKCode": "AE,CE",

                    "rejectedACKCode": "AR,CR",

                    "validateMessageControlId": true,

                    "originalMessageControlId": "Destination_Encoded",

                    "originalIdMapVariable": null

                  }

                }

              },

              "filter": {

                "@version": "4.5.1",

                "elements": null

              },

              "transportName": "TCP Sender",

              "mode": "DESTINATION",

              "enabled": false,

              "waitForPrevious": true

            },

            {

              "@version": "4.5.1",

              "metaDataId": 2,

              "name": "Destination 1",

              "properties": {

                "@class": "com.mirth.connect.connectors.vm.VmDispatcherProperties",

                "@version": "4.5.1",

                "pluginProperties": null,

                "destinationConnectorProperties": {

                  "@version": "4.5.1",

                  "queueEnabled": false,

                  "sendFirst": false,

                  "retryIntervalMillis": 10000,

                  "regenerateTemplate": false,

                  "retryCount": 0,

                  "rotate": false,

                  "includeFilterTransformer": false,

                  "threadCount": 1,

                  "threadAssignmentVariable": null,

                  "validateResponse": false,

                  "resourceIds": {

                    "@class": "linked-hash-map",

                    "entry": {

                      "string": [

                        "Default Resource",

                        "[Default Resource]"

                      ]

                    }

                  },

                  "queueBufferSize": 1000,

                  "reattachAttachments": true

                },

                "channelId": "none",

                "channelTemplate": "${message.encodedData}",

                "mapVariables": null

              },

              "transformer": {

                "@version": "4.5.1",

                "elements": null,

                "inboundDataType": "HL7V2",

                "outboundDataType": "HL7V2",

                "inboundProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties",

                  "@version": "4.5.1",

                  "serializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties",

                    "@version": "4.5.1",

                    "handleRepetitions": true,

                    "handleSubcomponents": true,

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "stripNamespaces": false,

                    "segmentDelimiter": "\\r",

                    "convertLineBreaks": true

                  },

                  "deserializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties",

                    "@version": "4.5.1",

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "segmentDelimiter": "\\r"

                  },

                  "batchProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties",

                    "@version": "4.5.1",

                    "splitType": "MSH_Segment",

                    "batchScript": null

                  },

                  "responseGenerationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties",

                    "@version": "4.5.1",

                    "segmentDelimiter": "\\r",

                    "successfulACKCode": "AA",

                    "successfulACKMessage": null,

                    "errorACKCode": "AE",

                    "errorACKMessage": "An Error Occurred Processing Message.",

                    "rejectedACKCode": "AR",

                    "rejectedACKMessage": "Message Rejected.",

                    "msh15ACKAccept": false,

                    "dateFormat": "yyyyMMddHHmmss.SSS"

                  },

                  "responseValidationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties",

                    "@version": "4.5.1",

                    "successfulACKCode": "AA,CA",

                    "errorACKCode": "AE,CE",

                    "rejectedACKCode": "AR,CR",

                    "validateMessageControlId": true,

                    "originalMessageControlId": "Destination_Encoded",

                    "originalIdMapVariable": null

                  }

                },

                "outboundProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties",

                  "@version": "4.5.1",

                  "serializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties",

                    "@version": "4.5.1",

                    "handleRepetitions": true,

                    "handleSubcomponents": true,

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "stripNamespaces": false,

                    "segmentDelimiter": "\\r",

                    "convertLineBreaks": true

                  },

                  "deserializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties",

                    "@version": "4.5.1",

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "segmentDelimiter": "\\r"

                  },

                  "batchProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties",

                    "@version": "4.5.1",

                    "splitType": "MSH_Segment",

                    "batchScript": null

                  },

                  "responseGenerationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties",

                    "@version": "4.5.1",

                    "segmentDelimiter": "\\r",

                    "successfulACKCode": "AA",

                    "successfulACKMessage": null,

                    "errorACKCode": "AE",

                    "errorACKMessage": "An Error Occurred Processing Message.",

                    "rejectedACKCode": "AR",

                    "rejectedACKMessage": "Message Rejected.",

                    "msh15ACKAccept": false,

                    "dateFormat": "yyyyMMddHHmmss.SSS"

                  },

                  "responseValidationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties",

                    "@version": "4.5.1",

                    "successfulACKCode": "AA,CA",

                    "errorACKCode": "AE,CE",

                    "rejectedACKCode": "AR,CR",

                    "validateMessageControlId": true,

                    "originalMessageControlId": "Destination_Encoded",

                    "originalIdMapVariable": null

                  }

                }

              },

              "responseTransformer": {

                "@version": "4.5.1",

                "elements": null,

                "inboundDataType": "HL7V2",

                "outboundDataType": "HL7V2",

                "inboundProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties",

                  "@version": "4.5.1",

                  "serializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties",

                    "@version": "4.5.1",

                    "handleRepetitions": true,

                    "handleSubcomponents": true,

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "stripNamespaces": false,

                    "segmentDelimiter": "\\r",

                    "convertLineBreaks": true

                  },

                  "deserializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties",

                    "@version": "4.5.1",

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "segmentDelimiter": "\\r"

                  },

                  "batchProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties",

                    "@version": "4.5.1",

                    "splitType": "MSH_Segment",

                    "batchScript": null

                  },

                  "responseGenerationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties",

                    "@version": "4.5.1",

                    "segmentDelimiter": "\\r",

                    "successfulACKCode": "AA",

                    "successfulACKMessage": null,

                    "errorACKCode": "AE",

                    "errorACKMessage": "An Error Occurred Processing Message.",

                    "rejectedACKCode": "AR",

                    "rejectedACKMessage": "Message Rejected.",

                    "msh15ACKAccept": false,

                    "dateFormat": "yyyyMMddHHmmss.SSS"

                  },

                  "responseValidationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties",

                    "@version": "4.5.1",

                    "successfulACKCode": "AA,CA",

                    "errorACKCode": "AE,CE",

                    "rejectedACKCode": "AR,CR",

                    "validateMessageControlId": true,

                    "originalMessageControlId": "Destination_Encoded",

                    "originalIdMapVariable": null

                  }

                },

                "outboundProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties",

                  "@version": "4.5.1",

                  "serializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties",

                    "@version": "4.5.1",

                    "handleRepetitions": true,

                    "handleSubcomponents": true,

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "stripNamespaces": false,

                    "segmentDelimiter": "\\r",

                    "convertLineBreaks": true

                  },

                  "deserializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties",

                    "@version": "4.5.1",

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "segmentDelimiter": "\\r"

                  },

                  "batchProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties",

                    "@version": "4.5.1",

                    "splitType": "MSH_Segment",

                    "batchScript": null

                  },

                  "responseGenerationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties",

                    "@version": "4.5.1",

                    "segmentDelimiter": "\\r",

                    "successfulACKCode": "AA",

                    "successfulACKMessage": null,

                    "errorACKCode": "AE",

                    "errorACKMessage": "An Error Occurred Processing Message.",

                    "rejectedACKCode": "AR",

                    "rejectedACKMessage": "Message Rejected.",

                    "msh15ACKAccept": false,

                    "dateFormat": "yyyyMMddHHmmss.SSS"

                  },

                  "responseValidationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties",

                    "@version": "4.5.1",

                    "successfulACKCode": "AA,CA",

                    "errorACKCode": "AE,CE",

                    "rejectedACKCode": "AR,CR",

                    "validateMessageControlId": true,

                    "originalMessageControlId": "Destination_Encoded",

                    "originalIdMapVariable": null

                  }

                }

              },

              "filter": {

                "@version": "4.5.1",

                "elements": null

              },

              "transportName": "Channel Writer",

              "mode": "DESTINATION",

              "enabled": true,

              "waitForPrevious": true

            }

          ]

        },

        "preprocessingScript": "// Modify the message variable below to pre process data\nreturn message;",

        "postprocessingScript": "// This script executes once after a message has been processed\n// Responses returned from here will be stored as \"Postprocessor\" in the response map\nreturn;",

        "deployScript": "// This script executes once when the channel is deployed\n// You only have access to the globalMap and globalChannelMap here to persist data\nreturn;",

        "undeployScript": "// This script executes once when the channel is undeployed\n// You only have access to the globalMap and globalChannelMap here to persist data\nreturn;",

        "properties": {

          "@version": "4.5.1",

          "clearGlobalChannelMap": true,

          "messageStorageMode": "DEVELOPMENT",

          "encryptData": false,

          "encryptAttachments": false,

          "encryptCustomMetaData": false,

          "removeContentOnCompletion": false,

          "removeOnlyFilteredOnCompletion": false,

          "removeAttachmentsOnCompletion": false,

          "initialState": "STARTED",

          "storeAttachments": true,

          "metaDataColumns": {

            "metaDataColumn": [

              {

                "name": "SOURCE",

                "type": "STRING",

                "mappingName": "mirth_source"

              },

              {

                "name": "TYPE",

                "type": "STRING",

                "mappingName": "mirth_type"

              },

              {

                "name": "PAT_ID",

                "type": "STRING",

                "mappingName": "patientId"

              },

              {

                "name": "VISIT_ID",

                "type": "STRING",

                "mappingName": "visitId"

              }

            ]

          },

          "attachmentProperties": {

            "@version": "4.5.1",

            "type": "None",

            "properties": null

          },

          "resourceIds": {

            "@class": "linked-hash-map",

            "entry": {

              "string": [

                "Default Resource",

                "[Default Resource]"

              ]

            }

          }

        },

        "exportData": {

          "metadata": {

            "enabled": true,

            "lastModified": {

              "time": 1744628671527,

              "timezone": "Europe/Berlin"

            },

            "pruningSettings": {

              "archiveEnabled": true,

              "pruneErroredMessages": false

            },

            "userId": 4

          },

          "dependentIds": null,

          "dependencyIds": null,

          "channelTags": null

        }

      },

      {

        "@version": "4.5.1",

        "id": "c92237ec-1ed3-4e8e-af55-016e8a6928fd",

        "nextMetaDataId": 2,

        "name": "C_QRYADT",

        "description": null,

        "revision": 6,

        "sourceConnector": {

          "@version": "4.5.1",

          "metaDataId": 0,

          "name": "sourceConnector",

          "properties": {

            "@class": "com.mirth.connect.connectors.tcp.TcpReceiverProperties",

            "@version": "4.5.1",

            "pluginProperties": null,

            "listenerConnectorProperties": {

              "@version": "4.5.1",

              "host": "0.0.0.0",

              "port": 10001

            },

            "sourceConnectorProperties": {

              "@version": "4.5.1",

              "responseVariable": "d1",

              "respondAfterProcessing": true,

              "processBatch": false,

              "firstResponse": true,

              "processingThreads": 1,

              "resourceIds": {

                "@class": "linked-hash-map",

                "entry": {

                  "string": [

                    "Default Resource",

                    "[Default Resource]"

                  ]

                }

              },

              "queueBufferSize": 1000

            },

            "transmissionModeProperties": {

              "@class": "com.mirth.connect.plugins.mllpmode.MLLPModeProperties",

              "pluginPointName": "MLLP",

              "startOfMessageBytes": "0B",

              "endOfMessageBytes": "1C0D",

              "useMLLPv2": false,

              "ackBytes": "06",

              "nackBytes": 15,

              "maxRetries": 2

            },

            "serverMode": true,

            "remoteAddress": null,

            "remotePort": null,

            "overrideLocalBinding": false,

            "reconnectInterval": 5000,

            "receiveTimeout": 0,

            "bufferSize": 65536,

            "maxConnections": 10,

            "keepConnectionOpen": true,

            "dataTypeBinary": false,

            "charsetEncoding": "windows-1252",

            "respondOnNewConnection": 0,

            "responseAddress": null,

            "responsePort": null

          },

          "transformer": {

            "@version": "4.5.1",

            "elements": null,

            "inboundDataType": "HL7V2",

            "outboundDataType": "HL7V2",

            "inboundProperties": {

              "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties",

              "@version": "4.5.1",

              "serializationProperties": {

                "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties",

                "@version": "4.5.1",

                "handleRepetitions": true,

                "handleSubcomponents": true,

                "useStrictParser": false,

                "useStrictValidation": false,

                "stripNamespaces": false,

                "segmentDelimiter": "\\r",

                "convertLineBreaks": true

              },

              "deserializationProperties": {

                "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties",

                "@version": "4.5.1",

                "useStrictParser": false,

                "useStrictValidation": false,

                "segmentDelimiter": "\\r"

              },

              "batchProperties": {

                "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties",

                "@version": "4.5.1",

                "splitType": "MSH_Segment",

                "batchScript": null

              },

              "responseGenerationProperties": {

                "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties",

                "@version": "4.5.1",

                "segmentDelimiter": "\\r",

                "successfulACKCode": "AA",

                "successfulACKMessage": null,

                "errorACKCode": "AE",

                "errorACKMessage": "An Error Occurred Processing Message.",

                "rejectedACKCode": "AR",

                "rejectedACKMessage": "Message Rejected.",

                "msh15ACKAccept": false,

                "dateFormat": "yyyyMMddHHmmss.SSS"

              },

              "responseValidationProperties": {

                "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties",

                "@version": "4.5.1",

                "successfulACKCode": "AA,CA",

                "errorACKCode": "AE,CE",

                "rejectedACKCode": "AR,CR",

                "validateMessageControlId": true,

                "originalMessageControlId": "Destination_Encoded",

                "originalIdMapVariable": null

              }

            },

            "outboundProperties": {

              "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties",

              "@version": "4.5.1",

              "serializationProperties": {

                "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties",

                "@version": "4.5.1",

                "handleRepetitions": true,

                "handleSubcomponents": true,

                "useStrictParser": false,

                "useStrictValidation": false,

                "stripNamespaces": false,

                "segmentDelimiter": "\\r",

                "convertLineBreaks": true

              },

              "deserializationProperties": {

                "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties",

                "@version": "4.5.1",

                "useStrictParser": false,

                "useStrictValidation": false,

                "segmentDelimiter": "\\r"

              },

              "batchProperties": {

                "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties",

                "@version": "4.5.1",

                "splitType": "MSH_Segment",

                "batchScript": null

              },

              "responseGenerationProperties": {

                "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties",

                "@version": "4.5.1",

                "segmentDelimiter": "\\r",

                "successfulACKCode": "AA",

                "successfulACKMessage": null,

                "errorACKCode": "AE",

                "errorACKMessage": "An Error Occurred Processing Message.",

                "rejectedACKCode": "AR",

                "rejectedACKMessage": "Message Rejected.",

                "msh15ACKAccept": false,

                "dateFormat": "yyyyMMddHHmmss.SSS"

              },

              "responseValidationProperties": {

                "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties",

                "@version": "4.5.1",

                "successfulACKCode": "AA,CA",

                "errorACKCode": "AE,CE",

                "rejectedACKCode": "AR,CR",

                "validateMessageControlId": true,

                "originalMessageControlId": "Destination_Encoded",

                "originalIdMapVariable": null

              }

            }

          },

          "filter": {

            "@version": "4.5.1",

            "elements": null

          },

          "transportName": "TCP Listener",

          "mode": "SOURCE",

          "enabled": true,

          "waitForPrevious": true

        },

        "destinationConnectors": {

          "connector": {

            "@version": "4.5.1",

            "metaDataId": 1,

            "name": "HL7_ADT_QUERY_TO_KIS",

            "properties": {

              "@class": "com.mirth.connect.connectors.tcp.TcpDispatcherProperties",

              "@version": "4.5.1",

              "pluginProperties": null,

              "destinationConnectorProperties": {

                "@version": "4.5.1",

                "queueEnabled": false,

                "sendFirst": false,

                "retryIntervalMillis": 10000,

                "regenerateTemplate": false,

                "retryCount": 0,

                "rotate": false,

                "includeFilterTransformer": false,

                "threadCount": 1,

                "threadAssignmentVariable": null,

                "validateResponse": true,

                "resourceIds": {

                  "@class": "linked-hash-map",

                  "entry": {

                    "string": [

                      "Default Resource",

                      "[Default Resource]"

                    ]

                  }

                },

                "queueBufferSize": 1000,

                "reattachAttachments": true

              },

              "transmissionModeProperties": {

                "@class": "com.mirth.connect.plugins.mllpmode.MLLPModeProperties",

                "pluginPointName": "MLLP",

                "startOfMessageBytes": "0B",

                "endOfMessageBytes": "1C0D",

                "useMLLPv2": false,

                "ackBytes": "06",

                "nackBytes": 15,

                "maxRetries": 2

              },

              "serverMode": false,

              "remoteAddress": "KIS",

              "remotePort": 5593,

              "overrideLocalBinding": false,

              "localAddress": "0.0.0.0",

              "localPort": 0,

              "sendTimeout": 5000,

              "bufferSize": 65536,

              "maxConnections": 10,

              "keepConnectionOpen": false,

              "checkRemoteHost": true,

              "responseTimeout": 15000,

              "ignoreResponse": false,

              "queueOnResponseTimeout": true,

              "dataTypeBinary": false,

              "charsetEncoding": "windows-1252",

              "template": "${message.encodedData}"

            },

            "transformer": {

              "@version": "4.5.1",

              "elements": null,

              "inboundTemplate": {

                "@encoding": "base64",

                "$": "TVNIfF5+XCZ8QW5naW9FeHBlcmllbmNlfHx8fDIwMjQxMjIwMTEzNjU1fHxRUlleQTE5fDIwMjQxMjIwMTEzNjU1fFB8Mi4zDVFSRHwyMDI0MTIyMDExMzY1NXxSfEl8R0VUUEFUMjAyNDEyMjAxMTM2NTV8fHx8MzcxMTU2OHxERU18DQ=="

              },

              "inboundDataType": "HL7V2",

              "outboundDataType": "HL7V2",

              "inboundProperties": {

                "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties",

                "@version": "4.5.1",

                "serializationProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties",

                  "@version": "4.5.1",

                  "handleRepetitions": true,

                  "handleSubcomponents": true,

                  "useStrictParser": false,

                  "useStrictValidation": false,

                  "stripNamespaces": false,

                  "segmentDelimiter": "\\r",

                  "convertLineBreaks": true

                },

                "deserializationProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties",

                  "@version": "4.5.1",

                  "useStrictParser": false,

                  "useStrictValidation": false,

                  "segmentDelimiter": "\\r"

                },

                "batchProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties",

                 "@version": "4.5.1",

                  "splitType": "MSH_Segment",

                  "batchScript": null

                },

                "responseGenerationProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties",

                  "@version": "4.5.1",

                  "segmentDelimiter": "\\r",

                  "successfulACKCode": "AA",

                  "successfulACKMessage": null,

                  "errorACKCode": "AE",

                  "errorACKMessage": "An Error Occurred Processing Message.",

                  "rejectedACKCode": "AR",

                  "rejectedACKMessage": "Message Rejected.",

                  "msh15ACKAccept": false,

                  "dateFormat": "yyyyMMddHHmmss.SSS"

                },

                "responseValidationProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties",

                  "@version": "4.5.1",

                  "successfulACKCode": "AA,CA",

                  "errorACKCode": "AE,CE",

                  "rejectedACKCode": "AR,CR",

                  "validateMessageControlId": true,

                  "originalMessageControlId": "Destination_Encoded",

                  "originalIdMapVariable": null

                }

              },

              "outboundProperties": {

                "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties",

                "@version": "4.5.1",

                "serializationProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties",

                  "@version": "4.5.1",

                  "handleRepetitions": true,

                  "handleSubcomponents": true,

                  "useStrictParser": false,

                  "useStrictValidation": false,

                  "stripNamespaces": false,

                  "segmentDelimiter": "\\r",

                  "convertLineBreaks": true

                },

                "deserializationProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties",

                  "@version": "4.5.1",

                  "useStrictParser": false,

                  "useStrictValidation": false,

                  "segmentDelimiter": "\\r"

                },

                "batchProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties",

                  "@version": "4.5.1",

                  "splitType": "MSH_Segment",

                  "batchScript": null

                },

                "responseGenerationProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties",

                  "@version": "4.5.1",

                 "segmentDelimiter": "\\r",

                  "successfulACKCode": "AA",

                  "successfulACKMessage": null,

                  "errorACKCode": "AE",

                  "errorACKMessage": "An Error Occurred Processing Message.",

                 "rejectedACKCode": "AR",

                  "rejectedACKMessage": "Message Rejected.",

                  "msh15ACKAccept": false,

                  "dateFormat": "yyyyMMddHHmmss.SSS"

                },

                "responseValidationProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties",

                  "@version": "4.5.1",

                  "successfulACKCode": "AA,CA",

                  "errorACKCode": "AE,CE",

                  "rejectedACKCode": "AR,CR",

                  "validateMessageControlId": true,

                  "originalMessageControlId": "Destination_Encoded",

                  "originalIdMapVariable": null

                }

              }

            },

            "responseTransformer": {

              "@version": "4.5.1",

              "elements": null,

              "inboundDataType": "HL7V2",

              "outboundDataType": "HL7V2",

              "inboundProperties": {

                "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties",

                "@version": "4.5.1",

                "serializationProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties",

                  "@version": "4.5.1",

                  "handleRepetitions": true,

                  "handleSubcomponents": true,

                  "useStrictParser": false,

                  "useStrictValidation": false,

                  "stripNamespaces": false,

                  "segmentDelimiter": "\\r",

                  "convertLineBreaks": true

                },

                "deserializationProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties",

                  "@version": "4.5.1",

                  "useStrictParser": false,

                  "useStrictValidation": false,

                  "segmentDelimiter": "\\r"

                },

                "batchProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties",

                  "@version": "4.5.1",

                  "splitType": "MSH_Segment",

                  "batchScript": null

                },

                "responseGenerationProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties",

                  "@version": "4.5.1",

                  "segmentDelimiter": "\\r",

                  "successfulACKCode": "AA",

                  "successfulACKMessage": null,

                  "errorACKCode": "AE",

                  "errorACKMessage": "An Error Occurred Processing Message.",

                  "rejectedACKCode": "AR",

                  "rejectedACKMessage": "Message Rejected.",

                  "msh15ACKAccept": false,

                  "dateFormat": "yyyyMMddHHmmss.SSS"

                },

                "responseValidationProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties",

                  "@version": "4.5.1",

                  "successfulACKCode": "AA,CA",

                  "errorACKCode": "AE,CE",

                  "rejectedACKCode": "AR,CR",

                  "validateMessageControlId": true,

                  "originalMessageControlId": "Destination_Encoded",

                  "originalIdMapVariable": null

                }

              },

              "outboundProperties": {

                "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties",

                "@version": "4.5.1",

               "serializationProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties",

                  "@version": "4.5.1",

                  "handleRepetitions": true,

                  "handleSubcomponents": true,

                  "useStrictParser": false,

                  "useStrictValidation": false,

                  "stripNamespaces": false,

                  "segmentDelimiter": "\\r",

                  "convertLineBreaks": true

                },

                "deserializationProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties",

                  "@version": "4.5.1",

                  "useStrictParser": false,

                  "useStrictValidation": false,

                  "segmentDelimiter": "\\r"

                },

                "batchProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties",

                  "@version": "4.5.1",

                  "splitType": "MSH_Segment",

                  "batchScript": null

                },

                "responseGenerationProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties",

                  "@version": "4.5.1",

                  "segmentDelimiter": "\\r",

                  "successfulACKCode": "AA",

                  "successfulACKMessage": null,

                  "errorACKCode": "AE",

                  "errorACKMessage": "An Error Occurred Processing Message.",

                  "rejectedACKCode": "AR",

                  "rejectedACKMessage": "Message Rejected.",

                  "msh15ACKAccept": false,

                  "dateFormat": "yyyyMMddHHmmss.SSS"

                },

                "responseValidationProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties",

                  "@version": "4.5.1",

                  "successfulACKCode": "AA,CA",

                  "errorACKCode": "AE,CE",

                  "rejectedACKCode": "AR,CR",

                  "validateMessageControlId": true,

                  "originalMessageControlId": "Destination_Encoded",

                  "originalIdMapVariable": null

                }

              }

            },

            "filter": {

              "@version": "4.5.1",

              "elements": null

            },

            "transportName": "TCP Sender",

            "mode": "DESTINATION",

            "enabled": true,

            "waitForPrevious": true

          }

        },

        "preprocessingScript": "// Modify the message variable below to pre process data\nreturn message;",

        "postprocessingScript": "// This script executes once after a message has been processed\n// Responses returned from here will be stored as \"Postprocessor\" in the response map\nreturn;",

        "deployScript": "// This script executes once when the channel is deployed\n// You only have access to the globalMap and globalChannelMap here to persist data\nreturn;",

        "undeployScript": "// This script executes once when the channel is undeployed\n// You only have access to the globalMap and globalChannelMap here to persist data\nreturn;",

        "properties": {

          "@version": "4.5.1",

          "clearGlobalChannelMap": true,

          "messageStorageMode": "PRODUCTION",

          "encryptData": false,

          "encryptAttachments": false,

          "encryptCustomMetaData": false,

          "removeContentOnCompletion": false,

          "removeOnlyFilteredOnCompletion": false,

          "removeAttachmentsOnCompletion": false,

          "initialState": "STARTED",

          "storeAttachments": true,

          "metaDataColumns": {

            "metaDataColumn": [

              {

                "name": "SOURCE",

                "type": "STRING",

                "mappingName": "mirth_source"

              },

              {

                "name": "TYPE",

                "type": "STRING",

                "mappingName": "mirth_type"

              }

            ]

          },

          "attachmentProperties": {

            "@version": "4.5.1",

            "type": "None",

            "properties": null

          },

          "resourceIds": {

            "@class": "linked-hash-map",

            "entry": {

              "string": [

                "Default Resource",

                "[Default Resource]"

              ]

            }

          }

        },

        "exportData": {

          "metadata": {

            "enabled": true,

            "lastModified": {

              "time": 1735545072890,

              "timezone": "Europe/Berlin"

            },

            "pruningSettings": {

              "pruneMetaDataDays": 31,

              "archiveEnabled": true,

              "pruneErroredMessages": false

            },

            "userId": 2

          },

          "dependentIds": null,

          "dependencyIds": null,

          "channelTags": null

        }

      },

      {

        "@version": "4.5.1",

        "id": "737f9ef8-8069-4b9d-bffc-7b0c2ef92a27",

        "nextMetaDataId": 2,

        "name": "C_TestADT",

        "description": null,

        "revision": 41,

        "sourceConnector": {

          "@version": "4.5.1",

          "metaDataId": 0,

          "name": "sourceConnector",

          "properties": {

            "@class": "com.mirth.connect.connectors.vm.VmReceiverProperties",

            "@version": "4.5.1",

            "pluginProperties": null,

            "sourceConnectorProperties": {

             "@version": "4.5.1",

              "responseVariable": "None",

              "respondAfterProcessing": true,

              "processBatch": false,

              "firstResponse": false,

              "processingThreads": 1,

              "resourceIds": {

                "@class": "linked-hash-map",

                "entry": {

                  "string": [

                    "Default Resource",

                    "[Default Resource]"

                  ]

                }

              },

              "queueBufferSize": 1000

            }

          },

          "transformer": {

            "@version": "4.5.1",

            "elements": null,

            "inboundTemplate": {

              "@encoding": "base64"

            },

            "inboundDataType": "HL7V2",

            "outboundDataType": "HL7V2",

            "inboundProperties": {

              "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties",

              "@version": "4.5.1",

              "serializationProperties": {

                "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties",

                "@version": "4.5.1",

                "handleRepetitions": true,

                "handleSubcomponents": true,

                "useStrictParser": false,

                "useStrictValidation": false,

                "stripNamespaces": false,

                "segmentDelimiter": "\\r",

                "convertLineBreaks": true

              },

              "deserializationProperties": {

                "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties",

                "@version": "4.5.1",

                "useStrictParser": false,

                "useStrictValidation": false,

                "segmentDelimiter": "\\r"

              },

              "batchProperties": {

                "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties",

                "@version": "4.5.1",

                "splitType": "MSH_Segment",

                "batchScript": null

              },

              "responseGenerationProperties": {

                "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties",

                "@version": "4.5.1",

                "segmentDelimiter": "\\r",

                "successfulACKCode": "AA",

                "successfulACKMessage": null,

                "errorACKCode": "AE",

                "errorACKMessage": "An Error Occurred Processing Message.",

                "rejectedACKCode": "AR",

                "rejectedACKMessage": "Message Rejected.",

                "msh15ACKAccept": false,

                "dateFormat": "yyyyMMddHHmmss.SSS"

              },

              "responseValidationProperties": {

                "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties",

                "@version": "4.5.1",

                "successfulACKCode": "AA,CA",

                "errorACKCode": "AE,CE",

                "rejectedACKCode": "AR,CR",

                "validateMessageControlId": true,

                "originalMessageControlId": "Destination_Encoded",

                "originalIdMapVariable": null

              }

            },

            "outboundProperties": {

              "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties",

              "@version": "4.5.1",

              "serializationProperties": {

                "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties",

                "@version": "4.5.1",

                "handleRepetitions": true,

                "handleSubcomponents": true,

                "useStrictParser": false,

                "useStrictValidation": false,

                "stripNamespaces": false,

                "segmentDelimiter": "\\r",

                "convertLineBreaks": true

              },

              "deserializationProperties": {

                "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties",

                "@version": "4.5.1",

                "useStrictParser": false,

                "useStrictValidation": false,

                "segmentDelimiter": "\\r"

              },

              "batchProperties": {

                "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties",

                "@version": "4.5.1",

                "splitType": "MSH_Segment",

                "batchScript": null

              },

              "responseGenerationProperties": {

                "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties",

                "@version": "4.5.1",

                "segmentDelimiter": "\\r",

                "successfulACKCode": "AA",

                "successfulACKMessage": null,

                "errorACKCode": "AE",

                "errorACKMessage": "An Error Occurred Processing Message.",

                "rejectedACKCode": "AR",

                "rejectedACKMessage": "Message Rejected.",

                "msh15ACKAccept": false,

               "dateFormat": "yyyyMMddHHmmss.SSS"

              },

              "responseValidationProperties": {

                "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties",

                "@version": "4.5.1",

                "successfulACKCode": "AA,CA",

                "errorACKCode": "AE,CE",

                "rejectedACKCode": "AR,CR",

                "validateMessageControlId": true,

                "originalMessageControlId": "Destination_Encoded",

                "originalIdMapVariable": null

              }

            }

          },

          "filter": {

            "@version": "4.5.1",

            "elements": null

          },

          "transportName": "Channel Reader",

          "mode": "SOURCE",

          "enabled": true,

          "waitForPrevious": true

        },

        "destinationConnectors": {

          "connector": {

            "@version": "4.5.1",

            "metaDataId": 1,

            "name": "No Destination",

            "properties": {

              "@class": "com.mirth.connect.connectors.vm.VmDispatcherProperties",

              "@version": "4.5.1",

              "pluginProperties": null,

              "destinationConnectorProperties": {

                "@version": "4.5.1",

                "queueEnabled": false,

                "sendFirst": false,

                "retryIntervalMillis": 10000,

                "regenerateTemplate": false,

                "retryCount": 0,

                "rotate": false,

                "includeFilterTransformer": false,

                "threadCount": 1,

                "threadAssignmentVariable": null,

                "validateResponse": false,

                "resourceIds": {

                  "@class": "linked-hash-map",

                  "entry": {

                    "string": [

                      "Default Resource",

                      "[Default Resource]"

                    ]

                  }

                },

                "queueBufferSize": 1000,

                "reattachAttachments": true

              },

              "channelId": "none",

              "channelTemplate": "${message.encodedData}",

              "mapVariables": null

            },

            "transformer": {

              "@version": "4.5.1",

              "elements": {

                "com.mirth.connect.plugins.javascriptstep.JavaScriptStep": [

                  {

                    "@version": "4.5.1",

                    "name": "prepare tmp",

                    "sequenceNumber": 0,

                    "enabled": true,

                    "script": "tmp = msg.copy();"

                  },

                  {

                    "@version": "4.5.1",

                    "name": "delete segments",

                    "sequenceNumber": 1,

                    "enabled": false,

                    "script": "delete tmp['GT1'];\ndelete tmp['ZBE'];"

                  },

                  {

                    "@version": "4.5.1",

                    "name": "Map A34  -> A40",

                    "sequenceNumber": 2,

                    "enabled": false,

                    "script": "//26.11.2024 MWE\n//Umwandlung der A34 in eine A40\n\nif( msg['MSH']['MSH.9']['MSH.9.2'].toString() == 'A34' &&\n    msg['PV1']['PV1.19']['PV1.19.1'].toString().length>0)\n   {\n   \ttmp['MSH']['MSH.9']['MSH.9.2'] = 'A40';\n   \ttmp['EVN']['EVN.1']['EVN.1.1'] = 'A40';\n   \ttmp['MRG']['MRG.5']['MRG.5.1'] = msg['PV1']['PV1.19']['PV1.19.1'].toString();\n   }"

                  },

                  {

                    "@version": "4.5.1",

                    "name": "parse or delete AL1 segments",

                    "sequenceNumber": 3,

                    "enabled": false,

                    "script": "for (var i = 0; i < getArrayOrXmlLength(tmp['AL1']); i++) \n{\n\t// Wenn das BIS-Datum nicht dem 31.12.2099 entspricht, lösche das Segment\n\tif(tmp['AL1'][i]['AL1.6']['AL1.6.2'].toString() != '20991231')\n\t{\n\t\tdelete tmp['AL1'][i];\t// lösche das aktuelle AL1 Sgement\n\t\ti--;\t\t\t\t\t// muss gemacht werden, um die Liste zu korrigieren (aktuelles Segments wurde gelöscht, das nächste Segment bekomme nun den Index des aktuellen)\n\t\tcontinue; \t\t\t// Springe zum nächsten Datensatz\n\t}\n\t\n    // Setzen des Allergie Types\n    tmp['AL1'][i]['AL1.2']['AL1.2.1'] = 'MA'\n    tmp['AL1'][i]['AL1.2']['AL1.2.2'] = tmp['AL1'][i]['AL1.3']['AL1.3.2'].toString()\n\n    // Setzen der Allergie \n    tmp['AL1'][i]['AL1.3']['AL1.3.2'] = tmp['AL1'][i]['AL1.3']['AL1.3.9'].toString()\n\n    // Löschen der nicht benötigen Allergie Segmente in AL1.3\n    tmp['AL1'][i]['AL1.3']['AL1.3.3'] = ''\n    tmp['AL1'][i]['AL1.3']['AL1.3.4'] = ''\n    tmp['AL1'][i]['AL1.3']['AL1.3.5'] = ''\n    tmp['AL1'][i]['AL1.3']['AL1.3.6'] = ''\n    tmp['AL1'][i]['AL1.3']['AL1.3.7'] = ''\n    tmp['AL1'][i]['AL1.3']['AL1.3.8'] = ''\n    tmp['AL1'][i]['AL1.3']['AL1.3.9'] = ''\n\n    // Setzen der Allergie Schwere\n    tmp['AL1'][i]['AL1.4']['AL1.4.1'] = 'U'\n\n    //Setzen der Allergie Reaktion\n    tmp['AL1'][i]['AL1.5']['AL1.5.1'] = 'Unbekannt'\n\n}"

                  },

                  {

                    "@version": "4.5.1",

                    "name": "adjust sending facility",

                    "sequenceNumber": 4,

                    "enabled": false,

                    "script": "if( msg['MSH']['MSH.9']['MSH.9.2'].toString() == 'A08')\n   {\n   \ttmp['MSH']['MSH.3']['MSH.3.1'] = 'DPS-Allergie';\n   }"

                  },

                  {

                    "@version": "4.5.1",

                    "name": "adjust sex",

                    "sequenceNumber": 5,

                    "enabled": true,

                    "script": "if (msg['PID']['PID.8']['PID.8.1'].toString() != 'W' &&\n    msg['PID']['PID.8']['PID.8.1'].toString() != 'M')\n{\n   tmp['PID']['PID.8']['PID.8.1'] = 'X';\n}\n\n\n\n\n/*\nif( msg['MSH']['MSH.9']['MSH.9.2'].toString() == 'A34' &&\n    msg['PV1']['PV1.19']['PV1.19.1'].toString().length>0)\n   {\n   \ttmp['MSH']['MSH.9']['MSH.9.2'] = 'A40';\n   \ttmp['EVN']['EVN.1']['EVN.1.1'] = 'A40';\n   \ttmp['MRG']['MRG.5']['MRG.5.1'] = msg['PV1']['PV1.19']['PV1.19.1'].toString();\n   }\n*/"

                  }

                ]

              },

              "inboundTemplate": {

                "@encoding": "base64",

                "$": "TVNIfF5+XCZ8RFBTfHxNSVJUSHx8MjAyNDAyMjAxNDI4NTR8fEFEVF5BMDh8MzUzOTIxMjh8UHwyLjJ8fHxBTHxORQ1FVk58QTA4fDIwMjQwMjIwMTQyODUzfDIwMjQwMjIyMDcwMDAwDVBJRHx8MzM0NjMxMHwzMzQ2MzEwfDQ0MDExMTc4fFJlaXNzZmVsZGVyLUdvdHRzY2hhbGteVXRlfEdvdHRzY2hhbGt8MTk0MDA5MjkwMDAwMDB8V3x8fFRhbm5lbndlZyA2NF5eSGFtYnVyZ15eMjI0MTVeRHwwMDI0MTM0MzJ8MDQwLSA1MzEgNzUgMDZ8fGRldXRzY2h8VkgufE9ITnx8fHx8fEthc2VuZG9yZnxOfHxEDU5LMXwxfFJlaXNzZmVsZGVyXk1hbmZyZWR8RUhFTUFOTnxUYW5uZW53ZWcgNjReXkhhbWJ1cmdeXjIyNDE1XkR8MDQwLSA1MzEgNzUgMDYNUFYxfHxTfEhOT15eXkhOT3xFfDQ0MDExMTc4fHx8VE9FUEZORVIsTV5Uw7ZwZm5lcl5NYXJncml0Xl5eRHIuIG1lZC5eRF4yMDM1NF5IYW1idXJnXkp1bmdmZXJuc3RpZWcgN15GUl4zNDM1NDN8fHx8fHx8fHx8U3w0NDAxMTE3OHx8S3x8fHx8fHx8fHx8fHx8fHx8fDk1NDAxMHx8fHx8MjAyNDAyMjIwNzAwMDB8fHx8fDF8NDQwMTExNzgNUFYyfHx8MDIwMQ1PQlh8MXxDV0V8Q0FWRV5eSEw3LURFVV5DSEVDS15Lb250cm9sbGUgYWRtaW5pc3RyYXRpdmUgRGF0ZW5eRFBTLVgxMTE2QU1BfHxGQUxMREFURU5eUGVycy4tdS5WZXJzLsO8YmVycHLDvGZ0IHVuZCBvaw1PQlh8MnxDV0V8Q0FWRV5eSEw3LURFVV5DSEVDS15Lb250cm9sbGUgYWRtaW5pc3RyYXRpdmUgRGF0ZW5eRFBTLVgxMTE2QU1BfHxWRVJUUkFHXmFsbGUgVW50ZXJzY2hyaWZ0ZW4gbGllZ2VuIHZvcg1PQlh8M3xDV0V8Q0FWRV5eSEw3LURFVV5IRUlMTUlUVEVMXkVpbndpbGxpZ3VuZyBIaWxmcy0gdS4gSGVpbG0uXkRQUy1YMTExNkFNQXx8TUstTEVeRW50bC5tYW4uOk1LIHNvbGwgTEUgYXVzd8OkaGxlbg1PQlh8NHxDV0V8Q0FWRV5eSEw3LURFVV5JREVOVF5JZGVudGl0w6R0c25hY2h3ZWlzXkRQUy1YMTExNkFNQXx8SkFeSWRlbnRpdMOkdHNuYWNod2VpcyB2b3JnZWxlZ3QNT0JYfDV8Q1dFfENBVkVeXkhMNy1ERVVeVkVSU15WZXJzaWNoZXJ1bmdzbmFjaHdlaXNeRFBTLVgxMTE2QU1BfHxHS1ZeZ2VzZXR6bC4gS1YtS2FydGUgdm9yZ2VsZWd0DUFMMXwxfHwwMDY1NDhfMV5BbGxlcmdpZSBzdHJ1a3R1cmllcnReSUQtUEhBUk1BXkFMTEVSR0lFXkFsbGVyZ2llIHN0cnVrdHVyaWVydF5TVFJVS0FMTEVSR0leXl5FY2hpbmFjZWF8fHwyMDI0MDEyM14yMDk5MTIzMQ1BTDF8Mnx8MDEyNTgwXzFeQWxsZXJnaWUgc3RydWt0dXJpZXJ0XklELVBIQVJNQV5BTExFUkdJRV5BbGxlcmdpZSBzdHJ1a3R1cmllcnReU1RSVUtBTExFUkdJXl5eVGV0cmFjeWNsaW5lfHx8MjAyNDAxMjNeMjA5OTEyMzENQUwxfDN8fDk4NzExNV8xXkFsbGVyZ2llIHN0cnVrdHVyaWVydF5JRC1QSEFSTUFeQUxMRVJHSUVeQWxsZXJnaWUgc3RydWt0dXJpZXJ0XlNUUlVLQUxMRVJHSV5eXkhlcGFyaW4sIHN5c3RlbWlzY2h8fHwyMDI0MDEyM14yMDk5MTIzMQ1BTDF8NHx8QTA2Mjk3XzFeQWxsZXJnaWUgc3RydWt0dXJpZXJ0XklELVBIQVJNQV5BTExFUkdJRV5BbGxlcmdpZSBzdHJ1a3R1cmllcnReU1RSVUtBTExFUkdJXl5eSWJ1cHJvZmVuLCBzeXN0ZW1pc2NofHx8MjAyNDAxMjNeMjA5OTEyMzENQUwxfDV8fEUwMDIyOENeQWxsZXJnaWUgc3RydWt0dXJpZXJ0XldOQ15BTExFUkdJRV5BbGxlcmdpZSBzdHJ1a3R1cmllcnReU1RSVUtBTExFUkdJXl5eQWNldHlsc2FsaWN5bHPDpHVyZXx8fDIwMjQwMTIzXjIwOTkxMjMxDUlOMXwxfFU2MzAyMDU5OTl8MTA1ODMwMDE2fERBSyBHZXN1bmRoZWl0IEZhY2h6ZW50ci4gTm9yZHxFbGxlcm5zdHIuIDQwXl5IYW5ub3Zlcl5eMzAxNzVeRHx8MDUxMSA4OTggNDU2LTExMDd8MXxEQUt8fHx8fDAyMTUwMDA4fE18UmVpc3NmZWxkZXItR290dHNjaGFsa15VdGV8fDE5NDAwOTI5fFRhbm5lbndlZyA2NF5eSGFtYnVyZ15eMjI0MTVeRA0="

              },

              "outboundTemplate": {

                "@encoding": "base64",

                "$": "TVNIfF5+XCZ8RFBTfHxNSVJUSHx8MjAyNDAyMjAxNDI4NTR8fEFEVF5BMDh8MzUzOTIxMjh8UHwyLjJ8fHxBTHxORQpFVk58QTA4fDIwMjQwMjIwMTQyODUzfDIwMjQwMjIyMDcwMDAwClBJRHx8MzM0NjMxMHwzMzQ2MzEwfDQ0MDExMTc4fFJlaXNzZmVsZGVyLUdvdHRzY2hhbGteVXRlfEdvdHRzY2hhbGt8MTk0MDA5MjkwMDAwMDB8V3x8fFRhbm5lbndlZyA2NF5eSGFtYnVyZ15eMjI0MTVeRHwwMDI0MTM0MzJ8MDQwLSA1MzEgNzUgMDZ8fGRldXRzY2h8VkgufE9ITnx8fHx8fEthc2VuZG9yZnxOfHxECk5LMXwxfFJlaXNzZmVsZGVyXk1hbmZyZWR8RUhFTUFOTnxUYW5uZW53ZWcgNjReXkhhbWJ1cmdeXjIyNDE1XkR8MDQwLSA1MzEgNzUgMDYKUFYxfHxTfEhOT15eXkhOT3xFfDQ0MDExMTc4fHx8VE9FUEZORVIsTV5Uw7ZwZm5lcl5NYXJncml0Xl5eRHIuIG1lZC5eRF4yMDM1NF5IYW1idXJnXkp1bmdmZXJuc3RpZWcgN15GUl4zNDM1NDN8fHx8fHx8fHx8U3w0NDAxMTE3OHx8S3x8fHx8fHx8fHx8fHx8fHx8fDk1NDAxMHx8fHx8MjAyNDAyMjIwNzAwMDB8fHx8fDF8NDQwMTExNzgKUFYyfHx8MDIwMQpPQlh8MXxDV0V8Q0FWRV5eSEw3LURFVV5DSEVDS15Lb250cm9sbGUgYWRtaW5pc3RyYXRpdmUgRGF0ZW5eRFBTLVgxMTE2QU1BfHxGQUxMREFURU5eUGVycy4tdS5WZXJzLsO8YmVycHLDvGZ0IHVuZCBvawpPQlh8MnxDV0V8Q0FWRV5eSEw3LURFVV5DSEVDS15Lb250cm9sbGUgYWRtaW5pc3RyYXRpdmUgRGF0ZW5eRFBTLVgxMTE2QU1BfHxWRVJUUkFHXmFsbGUgVW50ZXJzY2hyaWZ0ZW4gbGllZ2VuIHZvcgpPQlh8M3xDV0V8Q0FWRV5eSEw3LURFVV5IRUlMTUlUVEVMXkVpbndpbGxpZ3VuZyBIaWxmcy0gdS4gSGVpbG0uXkRQUy1YMTExNkFNQXx8TUstTEVeRW50bC5tYW4uOk1LIHNvbGwgTEUgYXVzd8OkaGxlbgpPQlh8NHxDV0V8Q0FWRV5eSEw3LURFVV5JREVOVF5JZGVudGl0w6R0c25hY2h3ZWlzXkRQUy1YMTExNkFNQXx8SkFeSWRlbnRpdMOkdHNuYWNod2VpcyB2b3JnZWxlZ3QKT0JYfDV8Q1dFfENBVkVeXkhMNy1ERVVeVkVSU15WZXJzaWNoZXJ1bmdzbmFjaHdlaXNeRFBTLVgxMTE2QU1BfHxHS1ZeZ2VzZXR6bC4gS1YtS2FydGUgdm9yZ2VsZWd0CkFMMXwxfHwwMDY1NDhfMV5BbGxlcmdpZSBzdHJ1a3R1cmllcnReSUQtUEhBUk1BXkFMTEVSR0lFXkFsbGVyZ2llIHN0cnVrdHVyaWVydF5TVFJVS0FMTEVSR0leXl5FY2hpbmFjZWF8fHwyMDI0MDEyM14yMDk5MTIzMQpBTDF8Mnx8MDEyNTgwXzFeQWxsZXJnaWUgc3RydWt0dXJpZXJ0XklELVBIQVJNQV5BTExFUkdJRV5BbGxlcmdpZSBzdHJ1a3R1cmllcnReU1RSVUtBTExFUkdJXl5eVGV0cmFjeWNsaW5lfHx8MjAyNDAxMjNeMjA5OTEyMzEKQUwxfDN8fDk4NzExNV8xXkFsbGVyZ2llIHN0cnVrdHVyaWVydF5JRC1QSEFSTUFeQUxMRVJHSUVeQWxsZXJnaWUgc3RydWt0dXJpZXJ0XlNUUlVLQUxMRVJHSV5eXkhlcGFyaW4sIHN5c3RlbWlzY2h8fHwyMDI0MDEyM14yMDk5MTIzMQpBTDF8NHx8QTA2Mjk3XzFeQWxsZXJnaWUgc3RydWt0dXJpZXJ0XklELVBIQVJNQV5BTExFUkdJRV5BbGxlcmdpZSBzdHJ1a3R1cmllcnReU1RSVUtBTExFUkdJXl5eSWJ1cHJvZmVuLCBzeXN0ZW1pc2NofHx8MjAyNDAxMjNeMjA5OTEyMzEKQUwxfDV8fEUwMDIyOENeQWxsZXJnaWUgc3RydWt0dXJpZXJ0XldOQ15BTExFUkdJRV5BbGxlcmdpZSBzdHJ1a3R1cmllcnReU1RSVUtBTExFUkdJXl5eQWNldHlsc2FsaWN5bHPDpHVyZXx8fDIwMjQwMTIzXjIwOTkxMjMxCklOMXwxfFU2MzAyMDU5OTl8MTA1ODMwMDE2fERBSyBHZXN1bmRoZWl0IEZhY2h6ZW50ci4gTm9yZHxFbGxlcm5zdHIuIDQwXl5IYW5ub3Zlcl5eMzAxNzVeRHx8MDUxMSA4OTggNDU2LTExMDd8MXxEQUt8fHx8fDAyMTUwMDA4fE18UmVpc3NmZWxkZXItR290dHNjaGFsa15VdGV8fDE5NDAwOTI5fFRhbm5lbndlZyA2NF5eSGFtYnVyZ15eMjI0MTVeRAo="

              },

              "inboundDataType": "HL7V2",

              "outboundDataType": "HL7V2",

              "inboundProperties": {

                "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties",

                "@version": "4.5.1",

                "serializationProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties",

                  "@version": "4.5.1",

                  "handleRepetitions": true,

                  "handleSubcomponents": true,

                  "useStrictParser": false,

                  "useStrictValidation": false,

                  "stripNamespaces": false,

                  "segmentDelimiter": "\\r",

                  "convertLineBreaks": true

                },

                "deserializationProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties",

                  "@version": "4.5.1",

                  "useStrictParser": false,

                  "useStrictValidation": false,

                  "segmentDelimiter": "\\r"

                },

                "batchProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties",

                  "@version": "4.5.1",

                  "splitType": "MSH_Segment",

                  "batchScript": null

                },

                "responseGenerationProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties",

                  "@version": "4.5.1",

                  "segmentDelimiter": "\\r",

                  "successfulACKCode": "AA",

                  "successfulACKMessage": null,

                  "errorACKCode": "AE",

                  "errorACKMessage": "An Error Occurred Processing Message.",

                  "rejectedACKCode": "AR",

                  "rejectedACKMessage": "Message Rejected.",

                  "msh15ACKAccept": false,

                  "dateFormat": "yyyyMMddHHmmss.SSS"

                },

                "responseValidationProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties",

                  "@version": "4.5.1",

                  "successfulACKCode": "AA,CA",

                  "errorACKCode": "AE,CE",

                  "rejectedACKCode": "AR,CR",

                  "validateMessageControlId": true,

                  "originalMessageControlId": "Destination_Encoded",

                  "originalIdMapVariable": null

                }

              },

              "outboundProperties": {

                "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties",

                "@version": "4.5.1",

                "serializationProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties",

                  "@version": "4.5.1",

                  "handleRepetitions": true,

                  "handleSubcomponents": true,

                  "useStrictParser": false,

                  "useStrictValidation": false,

                  "stripNamespaces": false,

                  "segmentDelimiter": "\\r",

                  "convertLineBreaks": true

                },

                "deserializationProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties",

                  "@version": "4.5.1",

                  "useStrictParser": false,

                  "useStrictValidation": false,

                  "segmentDelimiter": "\\r"

                },

                "batchProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties",

                  "@version": "4.5.1",

                  "splitType": "MSH_Segment",

                  "batchScript": null

                },

                "responseGenerationProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties",

                  "@version": "4.5.1",

                  "segmentDelimiter": "\\r",

                  "successfulACKCode": "AA",

                  "successfulACKMessage": null,

                  "errorACKCode": "AE",

                  "errorACKMessage": "An Error Occurred Processing Message.",

                  "rejectedACKCode": "AR",

                  "rejectedACKMessage": "Message Rejected.",

                  "msh15ACKAccept": false,

                  "dateFormat": "yyyyMMddHHmmss.SSS"

                },

                "responseValidationProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties",

                  "@version": "4.5.1",

                  "successfulACKCode": "AA,CA",

                  "errorACKCode": "AE,CE",

                  "rejectedACKCode": "AR,CR",

                  "validateMessageControlId": true,

                  "originalMessageControlId": "Destination_Encoded",

                  "originalIdMapVariable": null

                }

              }

            },

            "responseTransformer": {

              "@version": "4.5.1",

              "elements": null,

              "inboundDataType": "HL7V2",

              "outboundDataType": "HL7V2",

              "inboundProperties": {

                "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties",

                "@version": "4.5.1",

                "serializationProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties",

                  "@version": "4.5.1",

                  "handleRepetitions": true,

                  "handleSubcomponents": true,

                  "useStrictParser": false,

                  "useStrictValidation": false,

                  "stripNamespaces": false,

                  "segmentDelimiter": "\\r",

                  "convertLineBreaks": true

                },

                "deserializationProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties",

                  "@version": "4.5.1",

                  "useStrictParser": false,

                  "useStrictValidation": false,

                  "segmentDelimiter": "\\r"

                },

                "batchProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties",

                  "@version": "4.5.1",

                  "splitType": "MSH_Segment",

                  "batchScript": null

                },

                "responseGenerationProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties",

                  "@version": "4.5.1",

                  "segmentDelimiter": "\\r",

                  "successfulACKCode": "AA",

                  "successfulACKMessage": null,

                  "errorACKCode": "AE",

                  "errorACKMessage": "An Error Occurred Processing Message.",

                  "rejectedACKCode": "AR",

                  "rejectedACKMessage": "Message Rejected.",

                  "msh15ACKAccept": false,

                  "dateFormat": "yyyyMMddHHmmss.SSS"

                },

                "responseValidationProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties",

                  "@version": "4.5.1",

                  "successfulACKCode": "AA,CA",

                  "errorACKCode": "AE,CE",

                  "rejectedACKCode": "AR,CR",

                  "validateMessageControlId": true,

                  "originalMessageControlId": "Destination_Encoded",

                  "originalIdMapVariable": null

                }

              },

              "outboundProperties": {

                "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties",

                "@version": "4.5.1",

                "serializationProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties",

                  "@version": "4.5.1",

                  "handleRepetitions": true,

                  "handleSubcomponents": true,

                  "useStrictParser": false,

                  "useStrictValidation": false,

                  "stripNamespaces": false,

                  "segmentDelimiter": "\\r",

                  "convertLineBreaks": true

                },

                "deserializationProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties",

                  "@version": "4.5.1",

                  "useStrictParser": false,

                  "useStrictValidation": false,

                  "segmentDelimiter": "\\r"

                },

                "batchProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties",

                  "@version": "4.5.1",

                  "splitType": "MSH_Segment",

                  "batchScript": null

                },

                "responseGenerationProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties",

                  "@version": "4.5.1",

                  "segmentDelimiter": "\\r",

                  "successfulACKCode": "AA",

                  "successfulACKMessage": null,

                  "errorACKCode": "AE",

                  "errorACKMessage": "An Error Occurred Processing Message.",

                  "rejectedACKCode": "AR",

                  "rejectedACKMessage": "Message Rejected.",

                  "msh15ACKAccept": false,

                  "dateFormat": "yyyyMMddHHmmss.SSS"

                },

                "responseValidationProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties",

                  "@version": "4.5.1",

                  "successfulACKCode": "AA,CA",

                  "errorACKCode": "AE,CE",

                  "rejectedACKCode": "AR,CR",

                  "validateMessageControlId": true,

                  "originalMessageControlId": "Destination_Encoded",

                  "originalIdMapVariable": null

                }

              }

            },

            "filter": {

              "@version": "4.5.1",

              "elements": {

                "com.mirth.connect.plugins.javascriptrule.JavaScriptRule": [

                  {

                    "@version": "4.5.1",

                    "name": "Accept MSG if ['MSH']['MSH.3']['MSH.3.1'].toString() == 'Connex' ",

                    "sequenceNumber": 0,

                    "enabled": true,

                   "script": "if ((msg['MSH']['MSH.3']['MSH.3.1'].toString() == 'Connex')  && (msg['PV1']['PV1.19']['PV1.19.1'].toString().length == 8)) {\n\treturn true;\n}\n\tif ((msg['MSH']['MSH.3']['MSH.3.1'].toString() == \"Infinity\") && (msg['PV1']['PV1.19']['PV1.19.1'].toString().length == 8)) {\n\t\tif (msg['PV1']['PV1.3']['PV1.3.1'].toString() == \"MED3\")  return true;\n\t\tif (msg['PV1']['PV1.3']['PV1.3.1'].toString() == \"KS\")  return true;\n\t\tif (msg['PV1']['PV1.3']['PV1.3.1'].toString() == \"MED8\")  return true;\n}\nreturn false;"

                  },

                  {

                    "@version": "4.5.1",

                    "name": "Accept Messages from Draeger Vitalmonitoring  Stations Med3 ,KRS (Kreißsaal) and Med 8",

                    "sequenceNumber": 2,

                    "enabled": false,

                    "operator": "OR",

                    "script": "// Accept Messages from Draeger Vitalmonitoring  Stations Med3 ,KRS (Kreißsaal) and Med 8 \n\nif (msg['MSH']['MSH.3']['MSH.3.1'].toString() == \"Infinity\" )\n{\n\tif (msg['PV1']['PV1.3']['PV1.3.1'].toString() == \"MED3\")   return true;\n\tif (msg['PV1']['PV1.3']['PV1.3.1'].toString() == \"KS\") return true;\n\tif (msg['PV1']['PV1.3']['PV1.3.1'].toString() == \"MED8\") return true;\n\t\n}\nreturn false;"

                  },

                  {

                    "@version": "4.5.1",

                    "name": "Accept Messages from Draeger Vitalmonitoring  Stations Med3 ,KRS (Kreißsaal) and Med 8 if visitID is not 000000 ",

                    "sequenceNumber": 3,

                    "enabled": false,

                    "operator": "AND",

                    "script": "//Accept Messages from Draeger Vitalmonitoring  Stations Med3 ,KRS (Kreißsaal) and Med 8 if visitID is not 000000 \n\nif (msg['PV1']['PV1.19']['PV1.19.1'].toString() != \"000000\" ) return true;"

                  }

                ],

                "com.mirth.connect.plugins.rulebuilder.RuleBuilderRule": {

                  "@version": "4.5.1",

                  "name": "Accept message if \"msg['MSH']['MSH.3']['MSH.3.1'].toString()\" equals 'Connex'",

                  "sequenceNumber": 1,

                  "enabled": false,

                  "operator": "AND",

                  "field": "msg['MSH']['MSH.3']['MSH.3.1'].toString()",

                  "condition": "EQUALS",

                  "values": {

                    "string": "'Connex'"

                  }

                }

              }

            },

            "transportName": "Channel Writer",

            "mode": "DESTINATION",

            "enabled": true,

            "waitForPrevious": true

          }

        },

        "preprocessingScript": "// Modify the message variable below to pre process data\nreturn message;",

        "postprocessingScript": "// This script executes once after a message has been processed\n// Responses returned from here will be stored as \"Postprocessor\" in the response map\nreturn;",

        "deployScript": "// This script executes once when the channel is deployed\n// You only have access to the globalMap and globalChannelMap here to persist data\nreturn;",

        "undeployScript": "// This script executes once when the channel is undeployed\n// You only have access to the globalMap and globalChannelMap here to persist data\nreturn;",

        "properties": {

          "@version": "4.5.1",

          "clearGlobalChannelMap": true,

          "messageStorageMode": "PRODUCTION",

          "encryptData": false,

          "encryptAttachments": false,

          "encryptCustomMetaData": false,

          "removeContentOnCompletion": false,

          "removeOnlyFilteredOnCompletion": false,

          "removeAttachmentsOnCompletion": false,

          "initialState": "STARTED",

          "storeAttachments": false,

          "metaDataColumns": {

            "metaDataColumn": [

              {

                "name": "SOURCE",

                "type": "STRING",

                "mappingName": "mirth_source"

              },

              {

                "name": "TYPE",

                "type": "STRING",

                "mappingName": "mirth_type"

              }

            ]

          },

          "attachmentProperties": {

            "@version": "4.5.1",

            "type": "None",

            "properties": null

          },

          "resourceIds": {

            "@class": "linked-hash-map",

            "entry": {

              "string": [

                "Default Resource",

                "[Default Resource]"

              ]

            }

          }

        },

        "exportData": {

          "metadata": {

            "enabled": true,

            "lastModified": {

              "time": 1744625946882,

              "timezone": "Europe/Berlin"

            },

            "pruningSettings": {

              "archiveEnabled": true,

              "pruneErroredMessages": false

            },

            "userId": 4

          },

          "dependentIds": null,

          "dependencyIds": null,

          "channelTags": null

        }

      },

      {

        "@version": "4.5.1",

        "id": "cb80ed10-159b-45b1-bde9-26cd49a0e7b5",

        "nextMetaDataId": 2,

        "name": "R_CentricityRIS_BAR",

        "description": null,

        "revision": 6,

        "sourceConnector": {

          "@version": "4.5.1",

          "metaDataId": 0,

          "name": "sourceConnector",

          "properties": {

            "@class": "com.mirth.connect.connectors.tcp.TcpReceiverProperties",

            "@version": "4.5.1",

            "pluginProperties": null,

            "listenerConnectorProperties": {

              "@version": "4.5.1",

              "host": "0.0.0.0",

              "port": 6350

            },

            "sourceConnectorProperties": {

              "@version": "4.5.1",

              "responseVariable": "Auto-generate (After source transformer)",

              "respondAfterProcessing": true,

              "processBatch": false,

              "firstResponse": true,

              "processingThreads": 1,

              "resourceIds": {

                "@class": "linked-hash-map",

                "entry": {

                  "string": [

                    "Default Resource",

                    "[Default Resource]"

                  ]

                }

              },

              "queueBufferSize": 1000

            },

            "transmissionModeProperties": {

              "@class": "com.mirth.connect.plugins.mllpmode.MLLPModeProperties",

              "pluginPointName": "MLLP",

              "startOfMessageBytes": "0B",

              "endOfMessageBytes": "1C0D",

              "useMLLPv2": false,

              "ackBytes": "06",

              "nackBytes": 15,

              "maxRetries": 2

            },

            "serverMode": true,

            "remoteAddress": null,

            "remotePort": null,

            "overrideLocalBinding": false,

            "reconnectInterval": 5000,

            "receiveTimeout": 0,

            "bufferSize": 65536,

            "maxConnections": 10,

            "keepConnectionOpen": true,

            "dataTypeBinary": false,

            "charsetEncoding": "ISO-8859-15",

            "respondOnNewConnection": 0,

            "responseAddress": null,

            "responsePort": null

          },

          "transformer": {

            "@version": "4.5.1",

            "elements": {

              "com.mirth.connect.plugins.javascriptstep.JavaScriptStep": {

                "@version": "4.5.1",

                "sequenceNumber": 0,

                "enabled": true,

                "script": "getOrderMetadata();"

              }

            },

            "inboundTemplate": {

              "@encoding": "base64"

            },

            "outboundTemplate": {

              "@encoding": "base64"

            },

            "inboundDataType": "HL7V2",

            "outboundDataType": "HL7V2",

            "inboundProperties": {

              "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties",

              "@version": "4.5.1",

              "serializationProperties": {

                "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties",

                "@version": "4.5.1",

                "handleRepetitions": true,

                "handleSubcomponents": true,

                "useStrictParser": false,

                "useStrictValidation": false,

                "stripNamespaces": false,

                "segmentDelimiter": "\\r",

                "convertLineBreaks": true

              },

              "deserializationProperties": {

                "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties",

                "@version": "4.5.1",

                "useStrictParser": false,

                "useStrictValidation": false,

                "segmentDelimiter": "\\r"

              },

              "batchProperties": {

                "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties",

                "@version": "4.5.1",

                "splitType": "MSH_Segment",

                "batchScript": null

              },

              "responseGenerationProperties": {

                "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties",

                "@version": "4.5.1",

                "segmentDelimiter": "\\r",

                "successfulACKCode": "AA",

                "successfulACKMessage": null,

                "errorACKCode": "AE",

                "errorACKMessage": "An Error Occurred Processing Message.",

                "rejectedACKCode": "AR",

                "rejectedACKMessage": "Message Rejected.",

                "msh15ACKAccept": false,

                "dateFormat": "yyyyMMddHHmmss.SSS"

              },

              "responseValidationProperties": {

                "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties",

                "@version": "4.5.1",

                "successfulACKCode": "AA,CA",

                "errorACKCode": "AE,CE",

                "rejectedACKCode": "AR,CR",

                "validateMessageControlId": true,

                "originalMessageControlId": "Destination_Encoded",

                "originalIdMapVariable": null

              }

            },

            "outboundProperties": {

              "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties",

              "@version": "4.5.1",

              "serializationProperties": {

                "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties",

                "@version": "4.5.1",

                "handleRepetitions": true,

                "handleSubcomponents": true,

                "useStrictParser": false,

                "useStrictValidation": false,

                "stripNamespaces": false,

                "segmentDelimiter": "\\r",

                "convertLineBreaks": true

              },

              "deserializationProperties": {

                "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties",

                "@version": "4.5.1",

                "useStrictParser": false,

                "useStrictValidation": false,

                "segmentDelimiter": "\\r"

              },

              "batchProperties": {

                "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties",

                "@version": "4.5.1",

                "splitType": "MSH_Segment",

                "batchScript": null

              },

              "responseGenerationProperties": {

                "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties",

                "@version": "4.5.1",

                "segmentDelimiter": "\\r",

                "successfulACKCode": "AA",

                "successfulACKMessage": null,

                "errorACKCode": "AE",

                "errorACKMessage": "An Error Occurred Processing Message.",

                "rejectedACKCode": "AR",

                "rejectedACKMessage": "Message Rejected.",

                "msh15ACKAccept": false,

                "dateFormat": "yyyyMMddHHmmss.SSS"

              },

              "responseValidationProperties": {

                "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties",

                "@version": "4.5.1",

                "successfulACKCode": "AA,CA",

                "errorACKCode": "AE,CE",

                "rejectedACKCode": "AR,CR",

                "validateMessageControlId": true,

                "originalMessageControlId": "Destination_Encoded",

                "originalIdMapVariable": null

              }

            }

          },

          "filter": {

            "@version": "4.5.1",

            "elements": null

          },

          "transportName": "TCP Listener",

          "mode": "SOURCE",

          "enabled": true,

          "waitForPrevious": true

        },

        "destinationConnectors": {

          "connector": {

            "@version": "4.5.1",

            "metaDataId": 1,

            "name": "Bar to KIS",

            "properties": {

              "@class": "com.mirth.connect.connectors.vm.VmDispatcherProperties",

              "@version": "4.5.1",

              "pluginProperties": null,

              "destinationConnectorProperties": {

                "@version": "4.5.1",

                "queueEnabled": true,

                "sendFirst": true,

                "retryIntervalMillis": 10000,

                "regenerateTemplate": true,

                "retryCount": 0,

                "rotate": false,

                "includeFilterTransformer": false,

                "threadCount": 1,

                "threadAssignmentVariable": null,

                "validateResponse": false,

                "resourceIds": {

                  "@class": "linked-hash-map",

                  "entry": {

                    "string": [

                      "Default Resource",

                      "[Default Resource]"

                    ]

                  }

                },

                "queueBufferSize": 1000,

                "reattachAttachments": true

              },

              "channelId": "9f79c778-d996-4d1a-b0ab-a740214c8e2d",

              "channelTemplate": "${message.encodedData}",

              "mapVariables": null

            },

            "transformer": {

              "@version": "4.5.1",

              "elements": {

                "com.mirth.connect.plugins.javascriptstep.JavaScriptStep": {

                  "@version": "4.5.1",

                  "name": "modify PR1 and DG1",

                  "sequenceNumber": 0,

                  "enabled": true,

                  "script": "tmp = msg.copy();\nvar year;\nfor each(pr1 in tmp['PR1']){\n\tyear = msg['PR1'][0]['PR1.2']['PR1.2.1'].toString().search(/[0-9]{4}/);\n\tpr1['PR1.2']['PR1.2.1']='OPS301_'+msg['PR1'][0]['PR1.2']['PR1.2.1'].toString().substr(year);\n\tpr1['PR1.6']['PR1.6.1']='OP';\n\tpr1['PR1.6']['PR1.6.3']=pr1['PR1.19']['PR1.19.1'].toString();\n}\n\nfor each(dg1 in tmp['DG1']){\n\tyear = msg['DG1'][0]['DG1.2']['DG1.2.1'].toString().search(/[0-9]{4}/);\n\tdg1['DG1.2']['DG1.2.1']='ICD10_'+msg['DG1'][0]['DG1.2']['DG1.2.1'].toString().substr(year);\n}"

                }

              },

              "inboundTemplate": {

                "@encoding": "base64"

              },

              "outboundTemplate": {

                "@encoding": "base64",

                "$": "TVNIfF5+XCZ8Q1JJU3xSYWRpb2xvZ3l8SElTfHwyMDE1MDgxOTEwMTIxNnx8QkFSXlAxMnw5OTUyNDF8UHwyLjN8fHxBTA0="

              },

              "inboundDataType": "HL7V2",

              "outboundDataType": "HL7V2",

              "inboundProperties": {

                "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties",

                "@version": "4.5.1",

                "serializationProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties",

                  "@version": "4.5.1",

                  "handleRepetitions": true,

                  "handleSubcomponents": true,

                  "useStrictParser": false,

                  "useStrictValidation": false,

                  "stripNamespaces": false,

                  "segmentDelimiter": "\\r",

                  "convertLineBreaks": true

                },

                "deserializationProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties",

                  "@version": "4.5.1",

                  "useStrictParser": false,

                  "useStrictValidation": false,

                  "segmentDelimiter": "\\r"

                },

                "batchProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties",

                  "@version": "4.5.1",

                  "splitType": "MSH_Segment",

                  "batchScript": null

                },

                "responseGenerationProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties",

                  "@version": "4.5.1",

                  "segmentDelimiter": "\\r",

                  "successfulACKCode": "AA",

                  "successfulACKMessage": null,

                  "errorACKCode": "AE",

                  "errorACKMessage": "An Error Occurred Processing Message.",

                  "rejectedACKCode": "AR",

                  "rejectedACKMessage": "Message Rejected.",

                  "msh15ACKAccept": false,

                  "dateFormat": "yyyyMMddHHmmss.SSS"

                },

                "responseValidationProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties",

                  "@version": "4.5.1",

                  "successfulACKCode": "AA,CA",

                  "errorACKCode": "AE,CE",

                  "rejectedACKCode": "AR,CR",

                  "validateMessageControlId": true,

                  "originalMessageControlId": "Destination_Encoded",

                  "originalIdMapVariable": null

                }

              },

              "outboundProperties": {

                "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties",

                "@version": "4.5.1",

                "serializationProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties",

                  "@version": "4.5.1",

                  "handleRepetitions": true,

                  "handleSubcomponents": true,

                  "useStrictParser": false,

                  "useStrictValidation": false,

                  "stripNamespaces": false,

                  "segmentDelimiter": "\\r",

                  "convertLineBreaks": true

                },

                "deserializationProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties",

                  "@version": "4.5.1",

                  "useStrictParser": false,

                  "useStrictValidation": false,

                  "segmentDelimiter": "\\r"

                },

                "batchProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties",

                  "@version": "4.5.1",

                  "splitType": "MSH_Segment",

                  "batchScript": null

                },

                "responseGenerationProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties",

                  "@version": "4.5.1",

                  "segmentDelimiter": "\\r",

                  "successfulACKCode": "AA",

                  "successfulACKMessage": null,

                  "errorACKCode": "AE",

                  "errorACKMessage": "An Error Occurred Processing Message.",

                  "rejectedACKCode": "AR",

                  "rejectedACKMessage": "Message Rejected.",

                  "msh15ACKAccept": false,

                  "dateFormat": "yyyyMMddHHmmss.SSS"

                },

                "responseValidationProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties",

                  "@version": "4.5.1",

                  "successfulACKCode": "AA,CA",

                  "errorACKCode": "AE,CE",

                  "rejectedACKCode": "AR,CR",

                  "validateMessageControlId": true,

                  "originalMessageControlId": "Destination_Encoded",

                  "originalIdMapVariable": null

                }

              }

            },

            "responseTransformer": {

              "@version": "4.5.1",

              "elements": null,

              "inboundDataType": "HL7V2",

              "outboundDataType": "HL7V2",

              "inboundProperties": {

                "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties",

                "@version": "4.5.1",

                "serializationProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties",

                  "@version": "4.5.1",

                  "handleRepetitions": true,

                  "handleSubcomponents": true,

                  "useStrictParser": false,

                  "useStrictValidation": false,

                  "stripNamespaces": false,

                  "segmentDelimiter": "\\r",

                  "convertLineBreaks": true

                },

                "deserializationProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties",

                  "@version": "4.5.1",

                  "useStrictParser": false,

                  "useStrictValidation": false,

                  "segmentDelimiter": "\\r"

                },

                "batchProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties",

                  "@version": "4.5.1",

                  "splitType": "MSH_Segment",

                  "batchScript": null

                },

                "responseGenerationProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties",

                  "@version": "4.5.1",

                  "segmentDelimiter": "\\r",

                  "successfulACKCode": "AA",

                  "successfulACKMessage": null,

                  "errorACKCode": "AE",

                  "errorACKMessage": "An Error Occurred Processing Message.",

                  "rejectedACKCode": "AR",

                  "rejectedACKMessage": "Message Rejected.",

                  "msh15ACKAccept": false,

                  "dateFormat": "yyyyMMddHHmmss.SSS"

                },

                "responseValidationProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties",

                  "@version": "4.5.1",

                  "successfulACKCode": "AA,CA",

                  "errorACKCode": "AE,CE",

                  "rejectedACKCode": "AR,CR",

                  "validateMessageControlId": true,

                  "originalMessageControlId": "Destination_Encoded",

                  "originalIdMapVariable": null

                }

              },

              "outboundProperties": {

                "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties",

                "@version": "4.5.1",

                "serializationProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties",

                  "@version": "4.5.1",

                  "handleRepetitions": true,

                  "handleSubcomponents": true,

                  "useStrictParser": false,

                  "useStrictValidation": false,

                  "stripNamespaces": false,

                  "segmentDelimiter": "\\r",

                  "convertLineBreaks": true

                },

                "deserializationProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties",

                  "@version": "4.5.1",

                  "useStrictParser": false,

                  "useStrictValidation": false,

                  "segmentDelimiter": "\\r"

                },

                "batchProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties",

                  "@version": "4.5.1",

                  "splitType": "MSH_Segment",

                  "batchScript": null

                },

                "responseGenerationProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties",

                  "@version": "4.5.1",

                  "segmentDelimiter": "\\r",

                  "successfulACKCode": "AA",

                  "successfulACKMessage": null,

                  "errorACKCode": "AE",

                  "errorACKMessage": "An Error Occurred Processing Message.",

                  "rejectedACKCode": "AR",

                  "rejectedACKMessage": "Message Rejected.",

                  "msh15ACKAccept": false,

                  "dateFormat": "yyyyMMddHHmmss.SSS"

                },

                "responseValidationProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties",

                  "@version": "4.5.1",

                  "successfulACKCode": "AA,CA",

                  "errorACKCode": "AE,CE",

                  "rejectedACKCode": "AR,CR",

                  "validateMessageControlId": true,

                  "originalMessageControlId": "Destination_Encoded",

                  "originalIdMapVariable": null

                }

              }

            },

            "filter": {

              "@version": "4.5.1",

              "elements": {

                "com.mirth.connect.plugins.rulebuilder.RuleBuilderRule": {

                  "@version": "4.5.1",

                  "name": "Accept message if \"msg['MSH']['MSH.9']['MSH.9.1'].toString()\" equals 'BAR'",

                  "sequenceNumber": 0,

                  "enabled": true,

                  "field": "msg['MSH']['MSH.9']['MSH.9.1'].toString()",

                  "condition": "EQUALS",

                  "values": {

                    "string": "'BAR'"

                  }

                }

              }

            },

            "transportName": "Channel Writer",

            "mode": "DESTINATION",

            "enabled": true,

            "waitForPrevious": true

          }

        },

        "preprocessingScript": "// Modify the message variable below to pre process data\nreturn message;",

        "postprocessingScript": "// This script executes once after a message has been processed\n// Responses returned from here will be stored as \"Postprocessor\" in the response map\nreturn;",

        "deployScript": "// This script executes once when the channel is deployed\n// You only have access to the globalMap and globalChannelMap here to persist data\nreturn;",

        "undeployScript": "// This script executes once when the channel is undeployed\n// You only have access to the globalMap and globalChannelMap here to persist data\nreturn;",

        "properties": {

          "@version": "4.5.1",

          "clearGlobalChannelMap": true,

          "messageStorageMode": "PRODUCTION",

          "encryptData": false,

          "encryptAttachments": false,

          "encryptCustomMetaData": false,

          "removeContentOnCompletion": false,

          "removeOnlyFilteredOnCompletion": false,

          "removeAttachmentsOnCompletion": false,

          "initialState": "STARTED",

          "storeAttachments": true,

          "metaDataColumns": {

            "metaDataColumn": [

              {

                "name": "SOURCE",

                "type": "STRING",

                "mappingName": "mirth_source"

              },

              {

                "name": "TYPE",

                "type": "STRING",

                "mappingName": "mirth_type"

              },

              {

                "name": "PAT_ID",

                "type": "STRING",

                "mappingName": "patientId"

              },

              {

                "name": "VISIT_ID",

                "type": "STRING",

                "mappingName": "visitId"

             }

            ]

          },

          "attachmentProperties": {

            "@version": "4.5.1",

            "type": "None",

            "properties": null

          },

          "resourceIds": {

            "@class": "linked-hash-map",

            "entry": {

              "string": [

                "Default Resource",

                "[Default Resource]"

              ]

            }

          }

        },

        "exportData": {

          "metadata": {

            "enabled": true,

            "lastModified": {

              "time": 1744628521152,

              "timezone": "Europe/Berlin"

            },

            "pruningSettings": {

              "pruneMetaDataDays": 31,

              "archiveEnabled": true,

              "pruneErroredMessages": false

            },

            "userId": 4

          },

          "dependentIds": null,

          "dependencyIds": null,

          "channelTags": null

        }

      },

      {

        "@version": "4.5.1",

        "id": "c7a192ed-97b8-44ab-ac29-649323330e00",

        "nextMetaDataId": 2,

        "name": "R_CentricityRIS_MDM",

        "description": null,

        "revision": 5,

        "sourceConnector": {

          "@version": "4.5.1",

          "metaDataId": 0,

          "name": "sourceConnector",

          "properties": {

            "@class": "com.mirth.connect.connectors.tcp.TcpReceiverProperties",

            "@version": "4.5.1",

            "pluginProperties": null,

            "listenerConnectorProperties": {

              "@version": "4.5.1",

              "host": "0.0.0.0",

              "port": 6450

            },

            "sourceConnectorProperties": {

              "@version": "4.5.1",

              "responseVariable": "Auto-generate (After source transformer)",

              "respondAfterProcessing": true,

              "processBatch": false,

              "firstResponse": true,

              "processingThreads": 1,

              "resourceIds": {

                "@class": "linked-hash-map",

                "entry": {

                  "string": [

                    "Default Resource",

                    "[Default Resource]"

                  ]

                }

              },

              "queueBufferSize": 1000

            },

            "transmissionModeProperties": {

              "@class": "com.mirth.connect.plugins.mllpmode.MLLPModeProperties",

              "pluginPointName": "MLLP",

              "startOfMessageBytes": "0B",

              "endOfMessageBytes": "1C0D",

              "useMLLPv2": false,

              "ackBytes": "06",

              "nackBytes": 15,

              "maxRetries": 2

            },

            "serverMode": true,

            "remoteAddress": null,

            "remotePort": null,

            "overrideLocalBinding": false,

            "reconnectInterval": 5000,

            "receiveTimeout": 0,

            "bufferSize": 65536,

            "maxConnections": 10,

            "keepConnectionOpen": true,

            "dataTypeBinary": false,

            "charsetEncoding": "ISO-8859-15",

            "respondOnNewConnection": 0,

            "responseAddress": null,

            "responsePort": null

          },

          "transformer": {

            "@version": "4.5.1",

            "elements": {

              "com.mirth.connect.plugins.javascriptstep.JavaScriptStep": {

                "@version": "4.5.1",

                "sequenceNumber": 0,

                "enabled": true,

                "script": "getOrderMetadata();"

              }

            },

            "inboundTemplate": {

              "@encoding": "base64"

            },

            "outboundTemplate": {

              "@encoding": "base64"

            },

            "inboundDataType": "HL7V2",

            "outboundDataType": "HL7V2",

            "inboundProperties": {

              "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties",

              "@version": "4.5.1",

              "serializationProperties": {

                "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties",

                "@version": "4.5.1",

                "handleRepetitions": true,

                "handleSubcomponents": true,

                "useStrictParser": false,

                "useStrictValidation": false,

                "stripNamespaces": false,

                "segmentDelimiter": "\\r",

                "convertLineBreaks": true

              },

              "deserializationProperties": {

                "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties",

                "@version": "4.5.1",

                "useStrictParser": false,

                "useStrictValidation": false,

                "segmentDelimiter": "\\r"

              },

              "batchProperties": {

                "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties",

                "@version": "4.5.1",

                "splitType": "MSH_Segment",

                "batchScript": null

              },

              "responseGenerationProperties": {

                "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties",

                "@version": "4.5.1",

                "segmentDelimiter": "\\r",

                "successfulACKCode": "AA",

                "successfulACKMessage": null,

                "errorACKCode": "AE",

                "errorACKMessage": "An Error Occurred Processing Message.",

                "rejectedACKCode": "AR",

                "rejectedACKMessage": "Message Rejected.",

                "msh15ACKAccept": false,

                "dateFormat": "yyyyMMddHHmmss.SSS"

              },

              "responseValidationProperties": {

                "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties",

                "@version": "4.5.1",

                "successfulACKCode": "AA,CA",

                "errorACKCode": "AE,CE",

                "rejectedACKCode": "AR,CR",

                "validateMessageControlId": true,

                "originalMessageControlId": "Destination_Encoded",

                "originalIdMapVariable": null

              }

            },

            "outboundProperties": {

              "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties",

              "@version": "4.5.1",

              "serializationProperties": {

                "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties",

                "@version": "4.5.1",

                "handleRepetitions": true,

                "handleSubcomponents": true,

                "useStrictParser": false,

                "useStrictValidation": false,

                "stripNamespaces": false,

                "segmentDelimiter": "\\r",

                "convertLineBreaks": true

              },

              "deserializationProperties": {

                "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties",

                "@version": "4.5.1",

                "useStrictParser": false,

                "useStrictValidation": false,

                "segmentDelimiter": "\\r"

              },

              "batchProperties": {

                "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties",

                "@version": "4.5.1",

                "splitType": "MSH_Segment",

                "batchScript": null

              },

              "responseGenerationProperties": {

                "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties",

                "@version": "4.5.1",

                "segmentDelimiter": "\\r",

                "successfulACKCode": "AA",

                "successfulACKMessage": null,

                "errorACKCode": "AE",

                "errorACKMessage": "An Error Occurred Processing Message.",

                "rejectedACKCode": "AR",

                "rejectedACKMessage": "Message Rejected.",

                "msh15ACKAccept": false,

                "dateFormat": "yyyyMMddHHmmss.SSS"

              },

              "responseValidationProperties": {

                "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties",

                "@version": "4.5.1",

                "successfulACKCode": "AA,CA",

                "errorACKCode": "AE,CE",

                "rejectedACKCode": "AR,CR",

                "validateMessageControlId": true,

                "originalMessageControlId": "Destination_Encoded",

                "originalIdMapVariable": null

              }

            }

          },

          "filter": {

            "@version": "4.5.1",

            "elements": null

          },

          "transportName": "TCP Listener",

          "mode": "SOURCE",

          "enabled": true,

          "waitForPrevious": true

        },

        "destinationConnectors": {

          "connector": {

            "@version": "4.5.1",

            "metaDataId": 1,

            "name": "Oru to MDM for KIS",

            "properties": {

              "@class": "com.mirth.connect.connectors.vm.VmDispatcherProperties",

              "@version": "4.5.1",

              "pluginProperties": null,

              "destinationConnectorProperties": {

                "@version": "4.5.1",

                "queueEnabled": true,

                "sendFirst": true,

                "retryIntervalMillis": 10000,

                "regenerateTemplate": true,

                "retryCount": 0,

                "rotate": false,

                "includeFilterTransformer": false,

                "threadCount": 1,

                "threadAssignmentVariable": null,

                "validateResponse": false,

                "resourceIds": {

                  "@class": "linked-hash-map",

                  "entry": {

                    "string": [

                      "Default Resource",

                      "[Default Resource]"

                    ]

                  }

                },

                "queueBufferSize": 1000,

                "reattachAttachments": true

              },

              "channelId": "9a1e796c-990b-4347-8f06-42da7424ceb5",

              "channelTemplate": "${message.encodedData}",

              "mapVariables": null

            },

            "transformer": {

              "@version": "4.5.1",

              "elements": {

                "com.mirth.connect.plugins.javascriptstep.JavaScriptStep": [

                  {

                    "@version": "4.5.1",

                    "name": "prepare tmp",

                    "sequenceNumber": 0,

                    "enabled": true,

                    "script": "tmp = msg.copy();"

                  },

                  {

                    "@version": "4.5.1",

                    "name": "rebuild msg as MDM",

                    "sequenceNumber": 1,

                    "enabled": true,

                    "script": "delete tmp['OBR'];\ndelete tmp['OBX'];\n\ntmp['MSH']['MSH.9']['MSH.9.1']='MDM';\ntmp['MSH']['MSH.9']['MSH.9.2']='T02';\nif(msg['EVN'].length()<=0){\n\tcreateSegmentAfter('EVN', tmp['MSH']);\t\n\ttmp['EVN']['EVN.1']['EVN.1.1']='T02';\n}\n\nvar docNumber;\nvar docLink;\n\ncreateSegment('TXA', tmp);\n\nif(msg['OBR']['OBR.7']['OBR.7.1'].toString().length>0){\n\ttmp['TXA']['TXA.4']['TXA.4.1']=msg['OBR']['OBR.7']['OBR.7.1'].toString();\n}else{\n\ttmp['TXA']['TXA.4']['TXA.4.1']=msg['OBR']['OBR.8']['OBR.8.1'].toString();\n}\ntmp['TXA']['TXA.7']['TXA.7.1']=msg['OBR']['OBR.8']['OBR.8.1'].toString();\n\n\ntmp['TXA']['TXA.11']['TXA.11.1']=msg['OBR']['OBR.32']['OBR.32.2'].toString();\n\nif(msg['OBR']['OBR.3']['OBR.3.1'].toString().substr(0,4) == 'CRIS'){\n\tdocNumber = msg['OBR']['OBR.3']['OBR.3.1'].toString().substr(4);\n\ttmp['TXA']['TXA.12']['TXA.12.1']=docNumber;\n}else{\n\ttmp['TXA']['TXA.12']['TXA.12.1']=msg['OBR']['OBR.3']['OBR.3.1'].toString();\n}\n\nif(msg['OBX']['OBX.5']['OBX.5.1'].toString().length>0){\n\tdocLink = msg['OBX']['OBX.5']['OBX.5.1'].toString();\n\ttmp['TXA']['TXA.16']['TXA.16.1']=docLink.substr(docLink.search(/[0-9]*-[0-9]*(_[A-Za-z]*)*.PDF/));\n}\n\ntmp['TXA']['TXA.21']['TXA.21.1']=msg['OBR']['OBR.4']['OBR.4.2'].toString();\n\nif(msg['OBR']['OBR.3']['OBR.3.1'].toString().substr(0,4) == 'CRIS'){\n\ttmp['TXA']['TXA.22']['TXA.22.1']=tmp['TXA']['TXA.12']['TXA.12.1'].toString();\n}"

                  }

                ]

              },

              "inboundTemplate": {

                "@encoding": "base64"

              },

              "outboundTemplate": {

                "@encoding": "base64",

                "$": "TVNIfF5+XCZ8fElGQXxEUFN8fDIwMDQwNjA3MDgxNXx8TURNXlQwMnwzMDAwMDAwMDI5Mjg4fFB8Mi4zLjF8fHxBTHxORQpFVk58VDAyfDIwMDQwNjA3MDgxNQpQSUR8fHwxMDAyMDg5OV4wXk0xMHx8U3h4eHh4eHh4XkF4eHh4Xl5eXl5MXkF8fDE5eHh4ClBWMXx8SXx8fHx8fHx8fHx8fHx8fHx8MjQwNDcxODBeNV5NMTB8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8MjAwNDA2MDYKVFhBfDMwMDAwMDAwMjkyODh8Q0R8fDIwMDQwNjA3MDgxNXx8fHx8fHx8OTYxMTI5NDd8fHx8ZGJsYXR0X2hhZW1vXzMwMDAwOTYxMTI5NDcucGRmfHx8fHxLb21tZW50YXIgenVtIEJlZnVuZHw="

              },

              "inboundDataType": "HL7V2",

              "outboundDataType": "HL7V2",

              "inboundProperties": {

                "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties",

                "@version": "4.5.1",

                "serializationProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties",

                  "@version": "4.5.1",

                  "handleRepetitions": true,

                  "handleSubcomponents": true,

                  "useStrictParser": false,

                  "useStrictValidation": false,

                  "stripNamespaces": false,

                  "segmentDelimiter": "\\r",

                  "convertLineBreaks": true

                },

                "deserializationProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties",

                  "@version": "4.5.1",

                  "useStrictParser": false,

                  "useStrictValidation": false,

                  "segmentDelimiter": "\\r"

                },

                "batchProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties",

                  "@version": "4.5.1",

                  "splitType": "MSH_Segment",

                  "batchScript": null

                },

                "responseGenerationProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties",

                  "@version": "4.5.1",

                 "segmentDelimiter": "\\r",

                  "successfulACKCode": "AA",

                  "successfulACKMessage": null,

                  "errorACKCode": "AE",

                  "errorACKMessage": "An Error Occurred Processing Message.",

                 "rejectedACKCode": "AR",

                  "rejectedACKMessage": "Message Rejected.",

                  "msh15ACKAccept": false,

                  "dateFormat": "yyyyMMddHHmmss.SSS"

                },

                "responseValidationProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties",

                  "@version": "4.5.1",

                  "successfulACKCode": "AA,CA",

                  "errorACKCode": "AE,CE",

                  "rejectedACKCode": "AR,CR",

                  "validateMessageControlId": true,

                  "originalMessageControlId": "Destination_Encoded",

                  "originalIdMapVariable": null

                }

              },

              "outboundProperties": {

                "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties",

                "@version": "4.5.1",

                "serializationProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties",

                  "@version": "4.5.1",

                  "handleRepetitions": true,

                  "handleSubcomponents": true,

                  "useStrictParser": false,

                  "useStrictValidation": false,

                  "stripNamespaces": false,

                  "segmentDelimiter": "\\r",

                  "convertLineBreaks": true

                },

                "deserializationProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties",

                  "@version": "4.5.1",

                  "useStrictParser": false,

                  "useStrictValidation": false,

                  "segmentDelimiter": "\\r"

                },

                "batchProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties",

                  "@version": "4.5.1",

                  "splitType": "MSH_Segment",

                  "batchScript": null

                },

                "responseGenerationProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties",

                  "@version": "4.5.1",

                  "segmentDelimiter": "\\r",

                  "successfulACKCode": "AA",

                  "successfulACKMessage": null,

                  "errorACKCode": "AE",

                  "errorACKMessage": "An Error Occurred Processing Message.",

                  "rejectedACKCode": "AR",

                  "rejectedACKMessage": "Message Rejected.",

                  "msh15ACKAccept": false,

                  "dateFormat": "yyyyMMddHHmmss.SSS"

                },

                "responseValidationProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties",

                  "@version": "4.5.1",

                  "successfulACKCode": "AA,CA",

                  "errorACKCode": "AE,CE",

                  "rejectedACKCode": "AR,CR",

                  "validateMessageControlId": true,

                  "originalMessageControlId": "Destination_Encoded",

                  "originalIdMapVariable": null

                }

              }

            },

            "responseTransformer": {

              "@version": "4.5.1",

              "elements": null,

              "inboundDataType": "HL7V2",

              "outboundDataType": "HL7V2",

              "inboundProperties": {

                "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties",

                "@version": "4.5.1",

                "serializationProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties",

                  "@version": "4.5.1",

                  "handleRepetitions": true,

                  "handleSubcomponents": true,

                  "useStrictParser": false,

                  "useStrictValidation": false,

                  "stripNamespaces": false,

                  "segmentDelimiter": "\\r",

                  "convertLineBreaks": true

                },

                "deserializationProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties",

                  "@version": "4.5.1",

                  "useStrictParser": false,

                  "useStrictValidation": false,

                  "segmentDelimiter": "\\r"

                },

                "batchProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties",

                  "@version": "4.5.1",

                  "splitType": "MSH_Segment",

                  "batchScript": null

                },

                "responseGenerationProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties",

                  "@version": "4.5.1",

                  "segmentDelimiter": "\\r",

                  "successfulACKCode": "AA",

                  "successfulACKMessage": null,

                  "errorACKCode": "AE",

                  "errorACKMessage": "An Error Occurred Processing Message.",

                  "rejectedACKCode": "AR",

                  "rejectedACKMessage": "Message Rejected.",

                  "msh15ACKAccept": false,

                  "dateFormat": "yyyyMMddHHmmss.SSS"

                },

                "responseValidationProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties",

                  "@version": "4.5.1",

                  "successfulACKCode": "AA,CA",

                  "errorACKCode": "AE,CE",

                  "rejectedACKCode": "AR,CR",

                  "validateMessageControlId": true,

                  "originalMessageControlId": "Destination_Encoded",

                  "originalIdMapVariable": null

                }

              },

              "outboundProperties": {

                "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties",

                "@version": "4.5.1",

                "serializationProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties",

                  "@version": "4.5.1",

                  "handleRepetitions": true,

                  "handleSubcomponents": true,

                  "useStrictParser": false,

                  "useStrictValidation": false,

                  "stripNamespaces": false,

                  "segmentDelimiter": "\\r",

                  "convertLineBreaks": true

                },

                "deserializationProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties",

                  "@version": "4.5.1",

                  "useStrictParser": false,

                  "useStrictValidation": false,

                  "segmentDelimiter": "\\r"

                },

                "batchProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties",

                  "@version": "4.5.1",

                  "splitType": "MSH_Segment",

                  "batchScript": null

                },

                "responseGenerationProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties",

                  "@version": "4.5.1",

                  "segmentDelimiter": "\\r",

                  "successfulACKCode": "AA",

                  "successfulACKMessage": null,

                  "errorACKCode": "AE",

                  "errorACKMessage": "An Error Occurred Processing Message.",

                  "rejectedACKCode": "AR",

                  "rejectedACKMessage": "Message Rejected.",

                  "msh15ACKAccept": false,

                  "dateFormat": "yyyyMMddHHmmss.SSS"

                },

                "responseValidationProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties",

                  "@version": "4.5.1",

                  "successfulACKCode": "AA,CA",

                  "errorACKCode": "AE,CE",

                  "rejectedACKCode": "AR,CR",

                  "validateMessageControlId": true,

                  "originalMessageControlId": "Destination_Encoded",

                  "originalIdMapVariable": null

                }

              }

            },

            "filter": {

              "@version": "4.5.1",

              "elements": {

                "com.mirth.connect.plugins.rulebuilder.RuleBuilderRule": {

                  "@version": "4.5.1",

                  "name": "Accept message if \"msg['MSH']['MSH.9']['MSH.9.1'].toString()\" equals 'ORU'",

                  "sequenceNumber": 0,

                  "enabled": true,

                  "field": "msg['MSH']['MSH.9']['MSH.9.1'].toString()",

                  "condition": "EQUALS",

                  "values": {

                    "string": "'ORU'"

                  }

                }

              }

            },

            "transportName": "Channel Writer",

            "mode": "DESTINATION",

            "enabled": true,

            "waitForPrevious": true

          }

        },

        "preprocessingScript": "// Modify the message variable below to pre process data\nreturn message;",

        "postprocessingScript": "// This script executes once after a message has been processed\n// Responses returned from here will be stored as \"Postprocessor\" in the response map\nreturn;",

        "deployScript": "// This script executes once when the channel is deployed\n// You only have access to the globalMap and globalChannelMap here to persist data\nreturn;",

        "undeployScript": "// This script executes once when the channel is undeployed\n// You only have access to the globalMap and globalChannelMap here to persist data\nreturn;",

        "properties": {

          "@version": "4.5.1",

          "clearGlobalChannelMap": true,

          "messageStorageMode": "PRODUCTION",

          "encryptData": false,

          "encryptAttachments": false,

          "encryptCustomMetaData": false,

          "removeContentOnCompletion": false,

          "removeOnlyFilteredOnCompletion": false,

          "removeAttachmentsOnCompletion": false,

          "initialState": "STARTED",

          "storeAttachments": true,

          "metaDataColumns": {

            "metaDataColumn": [

              {

                "name": "SOURCE",

                "type": "STRING",

                "mappingName": "mirth_source"

              },

              {

                "name": "TYPE",

                "type": "STRING",

                "mappingName": "mirth_type"

              },

              {

                "name": "PAT_ID",

                "type": "STRING",

                "mappingName": "patientId"

              },

              {

                "name": "VISIT_ID",

                "type": "STRING",

                "mappingName": "visitId"

              }

            ]

          },

          "attachmentProperties": {

            "@version": "4.5.1",

            "type": "None",

            "properties": null

          },

          "resourceIds": {

            "@class": "linked-hash-map",

            "entry": {

              "string": [

                "Default Resource",

                "[Default Resource]"

              ]

            }

          }

        },

        "exportData": {

          "metadata": {

            "enabled": true,

            "lastModified": {

              "time": 1744628193394,

              "timezone": "Europe/Berlin"

            },

            "pruningSettings": {

              "pruneMetaDataDays": 31,

              "archiveEnabled": true,

              "pruneErroredMessages": false

            },

            "userId": 4

          },

          "dependentIds": null,

          "dependencyIds": null,

          "channelTags": null

        }

      },

      {

        "@version": "4.5.1",

        "id": "fd23cfb2-fbda-4732-ba33-b88307e44de7",

        "nextMetaDataId": 3,

        "name": "R_GetemedORUMDM",

        "description": null,

        "revision": 5,

        "sourceConnector": {

          "@version": "4.5.1",

          "metaDataId": 0,

          "name": "sourceConnector",

          "properties": {

            "@class": "com.mirth.connect.connectors.tcp.TcpReceiverProperties",

            "@version": "4.5.1",

            "pluginProperties": null,

            "listenerConnectorProperties": {

              "@version": "4.5.1",

              "host": "0.0.0.0",

              "port": 8020

            },

            "sourceConnectorProperties": {

              "@version": "4.5.1",

              "responseVariable": "Auto-generate (After source transformer)",

              "respondAfterProcessing": true,

              "processBatch": false,

              "firstResponse": true,

              "processingThreads": 1,

              "resourceIds": {

                "@class": "linked-hash-map",

                "entry": {

                  "string": [

                    "Default Resource",

                    "[Default Resource]"

                  ]

                }

              },

              "queueBufferSize": 1000

            },

            "transmissionModeProperties": {

              "@class": "com.mirth.connect.plugins.mllpmode.MLLPModeProperties",

              "pluginPointName": "MLLP",

              "startOfMessageBytes": "0B",

              "endOfMessageBytes": "1C0D",

              "useMLLPv2": false,

              "ackBytes": "06",

              "nackBytes": 15,

              "maxRetries": 2

            },

            "serverMode": true,

            "remoteAddress": null,

            "remotePort": null,

            "overrideLocalBinding": false,

            "reconnectInterval": 5000,

            "receiveTimeout": 0,

            "bufferSize": 65536,

            "maxConnections": 10,

            "keepConnectionOpen": true,

            "dataTypeBinary": false,

            "charsetEncoding": "ISO-8859-15",

            "respondOnNewConnection": 0,

            "responseAddress": null,

            "responsePort": null

          },

          "transformer": {

            "@version": "4.5.1",

            "elements": {

              "com.mirth.connect.plugins.mapper.MapperStep": {

                "@version": "4.5.1",

                "name": "event",

                "sequenceNumber": 0,

                "enabled": true,

                "variable": "event",

                "mapping": "msg['MSH']['MSH.9']['MSH.9.1'].toString()",

                "defaultValue": "'unbekannt'",

                "replacements": {

                  "org.apache.commons.lang3.tuple.ImmutablePair": [

                    {

                      "left": {

                        "@class": "string",

                        "$": "'ORU'"

                      },

                      "right": {

                        "@class": "string",

                        "$": "'oru'"

                      }

                    },

                    {

                      "left": {

                        "@class": "string",

                        "$": "'MDM'"

                      },

                      "right": {

                        "@class": "string",

                        "$": "'mdm'"

                      }

                    }

                  ]

                },

                "scope": "CHANNEL"

              },

              "com.mirth.connect.plugins.javascriptstep.JavaScriptStep": {

                "@version": "4.5.1",

                "name": "Metadata",

                "sequenceNumber": 1,

                "enabled": true,

                "script": "getOrderMetadata();"

              }

            },

            "inboundTemplate": {

              "@encoding": "base64"

            },

            "outboundTemplate": {

              "@encoding": "base64"

            },

            "inboundDataType": "HL7V2",

            "outboundDataType": "HL7V2",

            "inboundProperties": {

              "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties",

              "@version": "4.5.1",

              "serializationProperties": {

                "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties",

                "@version": "4.5.1",

                "handleRepetitions": true,

                "handleSubcomponents": true,

                "useStrictParser": false,

                "useStrictValidation": false,

                "stripNamespaces": false,

                "segmentDelimiter": "\\r",

                "convertLineBreaks": true

              },

              "deserializationProperties": {

                "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties",

                "@version": "4.5.1",

                "useStrictParser": false,

                "useStrictValidation": false,

                "segmentDelimiter": "\\r"

              },

              "batchProperties": {

                "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties",

                "@version": "4.5.1",

                "splitType": "MSH_Segment",

                "batchScript": null

              },

              "responseGenerationProperties": {

                "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties",

                "@version": "4.5.1",

                "segmentDelimiter": "\\r",

                "successfulACKCode": "AA",

                "successfulACKMessage": null,

                "errorACKCode": "AE",

                "errorACKMessage": "An Error Occurred Processing Message.",

                "rejectedACKCode": "AR",

                "rejectedACKMessage": "Message Rejected.",

                "msh15ACKAccept": false,

                "dateFormat": "yyyyMMddHHmmss.SSS"

              },

              "responseValidationProperties": {

                "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties",

                "@version": "4.5.1",

                "successfulACKCode": "AA,CA",

                "errorACKCode": "AE,CE",

                "rejectedACKCode": "AR,CR",

                "validateMessageControlId": true,

                "originalMessageControlId": "Destination_Encoded",

                "originalIdMapVariable": null

              }

            },

            "outboundProperties": {

              "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties",

              "@version": "4.5.1",

              "serializationProperties": {

                "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties",

                "@version": "4.5.1",

                "handleRepetitions": true,

                "handleSubcomponents": true,

                "useStrictParser": false,

                "useStrictValidation": false,

                "stripNamespaces": false,

               "segmentDelimiter": "\\r",

                "convertLineBreaks": true

              },

              "deserializationProperties": {

                "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties",

                "@version": "4.5.1",

                "useStrictParser": false,

                "useStrictValidation": false,

                "segmentDelimiter": "\\r"

              },

              "batchProperties": {

                "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties",

                "@version": "4.5.1",

                "splitType": "MSH_Segment",

                "batchScript": null

              },

              "responseGenerationProperties": {

                "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties",

                "@version": "4.5.1",

                "segmentDelimiter": "\\r",

                "successfulACKCode": "AA",

                "successfulACKMessage": null,

                "errorACKCode": "AE",

                "errorACKMessage": "An Error Occurred Processing Message.",

                "rejectedACKCode": "AR",

                "rejectedACKMessage": "Message Rejected.",

                "msh15ACKAccept": false,

                "dateFormat": "yyyyMMddHHmmss.SSS"

              },

              "responseValidationProperties": {

                "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties",

                "@version": "4.5.1",

                "successfulACKCode": "AA,CA",

                "errorACKCode": "AE,CE",

                "rejectedACKCode": "AR,CR",

                "validateMessageControlId": true,

                "originalMessageControlId": "Destination_Encoded",

                "originalIdMapVariable": null

              }

            }

          },

          "filter": {

            "@version": "4.5.1",

            "elements": null

          },

          "transportName": "TCP Listener",

          "mode": "SOURCE",

          "enabled": true,

          "waitForPrevious": true

        },

        "destinationConnectors": {

          "connector": [

            {

              "@version": "4.5.1",

              "metaDataId": 1,

              "name": "ORU to KIS",

              "properties": {

                "@class": "com.mirth.connect.connectors.vm.VmDispatcherProperties",

                "@version": "4.5.1",

                "pluginProperties": null,

                "destinationConnectorProperties": {

                  "@version": "4.5.1",

                  "queueEnabled": true,

                  "sendFirst": true,

                  "retryIntervalMillis": 10000,

                  "regenerateTemplate": true,

                  "retryCount": 0,

                  "rotate": false,

                  "includeFilterTransformer": false,

                  "threadCount": 1,

                  "threadAssignmentVariable": null,

                  "validateResponse": false,

                  "resourceIds": {

                    "@class": "linked-hash-map",

                    "entry": {

                      "string": [

                        "Default Resource",

                        "[Default Resource]"

                      ]

                    }

                  },

                  "queueBufferSize": 1000,

                  "reattachAttachments": true

                },

                "channelId": "62d98bd5-b661-4e22-85e5-3433127daa3c",

                "channelTemplate": "${message.encodedData}",

                "mapVariables": null

              },

              "transformer": {

                "@version": "4.5.1",

                "elements": {

                  "com.mirth.connect.plugins.javascriptstep.JavaScriptStep": [

                    {

                      "@version": "4.5.1",

                      "name": "prepare tmp",

                      "sequenceNumber": 0,

                      "enabled": true,

                      "script": "tmp = msg.copy();"

                    },

                    {

                      "@version": "4.5.1",

                      "name": "adjust MSH4.1 by Getemed long time RR",

                      "sequenceNumber": 1,

                      "enabled": true,

                      "script": "//Bei Langzeit RR im MSH.4.1 GETEMED gegen GETEMED_RR\n\nif(msg['OBR']['OBR.4']['OBR.4.1'].toString()=='LZRR')\n\t{\n\t\ttmp['MSH']['MSH.4']['MSH.4.1']='GETEMED_RR';\n\t}"

                    }

                  ]

                },

                "inboundTemplate": {

                  "@encoding": "base64"

                },

                "outboundTemplate": {

                  "@encoding": "base64",

                  "$": "TVNIfF5+XCZ8Z2V0ZW1lZF9XTFN8R0VURU1FRF9SUnxLSVN8RURWfDIwMTkwMjE5MTEwMzIxfHxPUlVeUjAxfEdldGVtZWQxMDQ2MEIwRjYzfFB8Mi40DVBJRHx8MzY1NjM3OHwzNjU2Mzc4fHxHdWFyaW5vXlNhbmRyYXx8MTk4MjA2MTgwMDAwMDB8VXx8fHx8fA1QVjF8fFN8R1lOM14xLjMwLjMxNF4zMTQtMDFeRlJBVUVOfHx8fHx8fHx8fHx8fHx8fDM5MDE5NTEzfHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHwNT1JDfFhPfDY3MjQ3NzF8MDAwMDExOTkxNXx8Q018fHx8MDAwMDAwMDAwMDAwMDB8fHx8DU9CUnwxfDAwMDAxMTk5MTV8fExaUlJeTGFuZ3plaXQtUlJ8fHwyMDE5MDIxODE1MTUxMHx8fHx8fHx8fHx8fHx8fHx8fFB8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fDY3MjQ3NzENT0JYfDF8U1R8UFReUGxhaW4gdGV4dHwxfFBST0MgKFBST0MpOiAgIFwuYnJcTGFuZ3plaXQtQmx1dGRydWNrIC8gQmV3ZXJ0dW5nICAgICAgICA6IChJTlRFUik6ICAgR2VzYW10c3RhdGlzdGlrIHZvbiAxNToxNSBiaXMgMTA6NTY6XC5iclwgICAgICAgIDU5IEJsdXRkcnVja21lc3N1bmcoZW4pXC5iclwgIFN0YXRpc3Rpa3plaXRlbiB2b20gQXVmbmFobWUtR2Vyw6R0OiBKYVwuYnJcICBHZXNhbXRkYXVlcjogMTk6NDEgaFwuYnJcICBEYXVlciBUYWdwZXJpb2RlOiAxMDo0MSBoXC5iclwgIERhdWVyIE5hY2h0cGVyaW9kZTogOTowMCBoXC5iclwgIEF1Zm5haG1lYXJ0OiBvc3ppbGxvbWV0cmlzY2hcLmJyXCAgMjRoLU1pdHRlbHdlcnQgc3lzL2RpYSBbbW1IZ10gMTMxLjggLyA4MC4xXC5iclwgIFdhY2hwaGFzZVwuYnJcICAgICAgZ8O8bHRpZ2UgTWVzc3VuZ2VuIDM5IHZvbiA0MSBbJV0gOTVcLmJyXCAgICAgIFN5c3QuQkQtTWVzc3VuZ2VuIMO8YmVyIDE0MCBtbUhnIFslXSAyMy4wXC5iclwgICAgICBEaWFzdC5CRC1NZXNzdW5nZW4gw7xiZXIgOTAgbW1IZyBbJV0gMTIuOFwuYnJcICBTY2hsYWYtL0F1ZndhY2hwaGFzZVwuYnJcICAgICAgZ8O8bHRpZ2UgTWVzc3VuZ2VuIDE4IHZvbiAxOCBbJV0gMTAwXC5iclwgICAgICBTeXN0LkJELU1lc3N1bmdlbiDDvGJlciAxNDAgbW1IZyBbJV0gMTEuMVwuYnJcICAgICAgRGlhc3QuQkQtTWVzc3VuZ2VuIMO8YmVyIDkwIG1tSGcgWyVdIDExLjFcLmJyXCAgVGFnZXMtTWl0dGVsd2VydCBzeXMvZGlhIFttbUhnXSAxMzQuMSAvIDgyLjJcLmJyXCAgTmFjaHQtTWl0dGVsd2VydCBzeXMvZGlhIFttbUhnXSAxMjYuOCAvIDc1LjZcLmJyXCAgRGlmZi5UYWctTmFjaHQtTWl0dGVsdy4gc3lzL2RpYSBbJV0gLTUuNCAgLyAtOC4wXC5iclxcLmJyXHx8fHxJTl8xfHxQfHx8fHx8QkRNMDF8fA0="

                },

                "inboundDataType": "HL7V2",

                "outboundDataType": "HL7V2",

                "inboundProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties",

                  "@version": "4.5.1",

                  "serializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties",

                    "@version": "4.5.1",

                    "handleRepetitions": true,

                    "handleSubcomponents": true,

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "stripNamespaces": false,

                    "segmentDelimiter": "\\r",

                    "convertLineBreaks": true

                  },

                  "deserializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties",

                    "@version": "4.5.1",

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "segmentDelimiter": "\\r"

                  },

                  "batchProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties",

                    "@version": "4.5.1",

                    "splitType": "MSH_Segment",

                    "batchScript": null

                  },

                  "responseGenerationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties",

                    "@version": "4.5.1",

                    "segmentDelimiter": "\\r",

                    "successfulACKCode": "AA",

                    "successfulACKMessage": null,

                    "errorACKCode": "AE",

                    "errorACKMessage": "An Error Occurred Processing Message.",

                    "rejectedACKCode": "AR",

                    "rejectedACKMessage": "Message Rejected.",

                    "msh15ACKAccept": false,

                    "dateFormat": "yyyyMMddHHmmss.SSS"

                  },

                  "responseValidationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties",

                    "@version": "4.5.1",

                    "successfulACKCode": "AA,CA",

                    "errorACKCode": "AE,CE",

                    "rejectedACKCode": "AR,CR",

                    "validateMessageControlId": true,

                    "originalMessageControlId": "Destination_Encoded",

                    "originalIdMapVariable": null

                  }

                },

                "outboundProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties",

                  "@version": "4.5.1",

                  "serializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties",

                    "@version": "4.5.1",

                    "handleRepetitions": true,

                    "handleSubcomponents": true,

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "stripNamespaces": false,

                    "segmentDelimiter": "\\r",

                    "convertLineBreaks": true

                  },

                  "deserializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties",

                    "@version": "4.5.1",

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "segmentDelimiter": "\\r"

                  },

                  "batchProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties",

                    "@version": "4.5.1",

                    "splitType": "MSH_Segment",

                    "batchScript": null

                  },

                  "responseGenerationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties",

                    "@version": "4.5.1",

                    "segmentDelimiter": "\\r",

                    "successfulACKCode": "AA",

                    "successfulACKMessage": null,

                    "errorACKCode": "AE",

                    "errorACKMessage": "An Error Occurred Processing Message.",

                    "rejectedACKCode": "AR",

                    "rejectedACKMessage": "Message Rejected.",

                    "msh15ACKAccept": false,

                    "dateFormat": "yyyyMMddHHmmss.SSS"

                  },

                  "responseValidationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties",

                    "@version": "4.5.1",

                    "successfulACKCode": "AA,CA",

                    "errorACKCode": "AE,CE",

                    "rejectedACKCode": "AR,CR",

                    "validateMessageControlId": true,

                    "originalMessageControlId": "Destination_Encoded",

                    "originalIdMapVariable": null

                  }

                }

              },

              "responseTransformer": {

                "@version": "4.5.1",

                "elements": null,

                "inboundDataType": "HL7V2",

                "outboundDataType": "HL7V2",

                "inboundProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties",

                  "@version": "4.5.1",

                  "serializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties",

                    "@version": "4.5.1",

                    "handleRepetitions": true,

                    "handleSubcomponents": true,

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "stripNamespaces": false,

                    "segmentDelimiter": "\\r",

                    "convertLineBreaks": true

                  },

                  "deserializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties",

                    "@version": "4.5.1",

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "segmentDelimiter": "\\r"

                  },

                  "batchProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties",

                    "@version": "4.5.1",

                    "splitType": "MSH_Segment",

                    "batchScript": null

                  },

                  "responseGenerationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties",

                    "@version": "4.5.1",

                    "segmentDelimiter": "\\r",

                    "successfulACKCode": "AA",

                    "successfulACKMessage": null,

                    "errorACKCode": "AE",

                    "errorACKMessage": "An Error Occurred Processing Message.",

                    "rejectedACKCode": "AR",

                    "rejectedACKMessage": "Message Rejected.",

                    "msh15ACKAccept": false,

                    "dateFormat": "yyyyMMddHHmmss.SSS"

                  },

                  "responseValidationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties",

                    "@version": "4.5.1",

                    "successfulACKCode": "AA,CA",

                    "errorACKCode": "AE,CE",

                    "rejectedACKCode": "AR,CR",

                    "validateMessageControlId": true,

                    "originalMessageControlId": "Destination_Encoded",

                    "originalIdMapVariable": null

                  }

                },

                "outboundProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties",

                  "@version": "4.5.1",

                  "serializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties",

                    "@version": "4.5.1",

                    "handleRepetitions": true,

                    "handleSubcomponents": true,

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "stripNamespaces": false,

                    "segmentDelimiter": "\\r",

                    "convertLineBreaks": true

                  },

                  "deserializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties",

                    "@version": "4.5.1",

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "segmentDelimiter": "\\r"

                  },

                  "batchProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties",

                    "@version": "4.5.1",

                    "splitType": "MSH_Segment",

                    "batchScript": null

                  },

                  "responseGenerationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties",

                    "@version": "4.5.1",

                    "segmentDelimiter": "\\r",

                    "successfulACKCode": "AA",

                    "successfulACKMessage": null,

                    "errorACKCode": "AE",

                    "errorACKMessage": "An Error Occurred Processing Message.",

                    "rejectedACKCode": "AR",

                    "rejectedACKMessage": "Message Rejected.",

                    "msh15ACKAccept": false,

                    "dateFormat": "yyyyMMddHHmmss.SSS"

                  },

                  "responseValidationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties",

                    "@version": "4.5.1",

                    "successfulACKCode": "AA,CA",

                    "errorACKCode": "AE,CE",

                    "rejectedACKCode": "AR,CR",

                    "validateMessageControlId": true,

                    "originalMessageControlId": "Destination_Encoded",

                    "originalIdMapVariable": null

                  }

                }

              },

              "filter": {

                "@version": "4.5.1",

                "elements": {

                  "com.mirth.connect.plugins.rulebuilder.RuleBuilderRule": {

                    "@version": "4.5.1",

                    "name": "Accept message if \"msg['MSH']['MSH.9']['MSH.9.1'].toString()\" equals 'ORU'",

                    "sequenceNumber": 0,

                    "enabled": true,

                    "field": "msg['MSH']['MSH.9']['MSH.9.1'].toString()",

                    "condition": "EQUALS",

                    "values": {

                      "string": "'ORU'"

                    }

                  }

                }

              },

              "transportName": "Channel Writer",

              "mode": "DESTINATION",

              "enabled": true,

              "waitForPrevious": true

            },

            {

              "@version": "4.5.1",

              "metaDataId": 2,

              "name": "MDM to KIS",

              "properties": {

                "@class": "com.mirth.connect.connectors.vm.VmDispatcherProperties",

                "@version": "4.5.1",

                "pluginProperties": null,

                "destinationConnectorProperties": {

                  "@version": "4.5.1",

                  "queueEnabled": true,

                  "sendFirst": true,

                  "retryIntervalMillis": 10000,

                  "regenerateTemplate": true,

                  "retryCount": 0,

                  "rotate": false,

                  "includeFilterTransformer": false,

                  "threadCount": 1,

                  "threadAssignmentVariable": null,

                  "validateResponse": false,

                  "resourceIds": {

                    "@class": "linked-hash-map",

                    "entry": {

                      "string": [

                        "Default Resource",

                        "[Default Resource]"

                      ]

                    }

                  },

                  "queueBufferSize": 1000,

                  "reattachAttachments": true

                },

                "channelId": "9a1e796c-990b-4347-8f06-42da7424ceb5",

                "channelTemplate": "${message.encodedData}",

                "mapVariables": null

              },

              "transformer": {

                "@version": "4.5.1",

                "elements": {

                  "com.mirth.connect.plugins.javascriptstep.JavaScriptStep": [

                    {

                      "@version": "4.5.1",

                      "name": "prepare tmp",

                      "sequenceNumber": 0,

                      "enabled": true,

                      "script": "tmp = msg.copy();"

                    },

                    {

                      "@version": "4.5.1",

                      "name": "adjust MSH4.1 by Getemed long time RR",

                      "sequenceNumber": 1,

                      "enabled": true,

                      "script": "//im MSH4.1 Getemed gegen Getemed_RR austauschen wenn im TXA21.1 = LZRR steht!\n\nif(msg['TXA']['TXA.21']['TXA.21.1'].toString()=='Langzeit-RR (LZRR)')\n\t{\n\t\ttmp['MSH']['MSH.4']['MSH.4.1']='GETEMED_RR';\n\t}"

                    }

                  ]

                },

                "inboundTemplate": {

                  "@encoding": "base64"

                },

                "outboundTemplate": {

                  "@encoding": "base64",

                  "$": "TVNIfF5+XCZ8Z2V0ZW1lZF9XTFN8R0VURU1FRF9SUnxLSVN8RURWfDIwMTkwMjE5MTEwMzIyfHxNRE1eVDAyfEdldGVtZWQxMDQ2MEIwRjlBfFB8Mi40DUVWTnxUMDJ8MjAxOTAyMTkxMTAzMjJ8fHwNUElEfHwzNjU2Mzc4fDM2NTYzNzh8fEd1YXJpbm9eU2FuZHJhfHwxOTgyMDYxODAwMDAwMHxVfHx8fHx8DVBWMXx8U3xHWU4zXjEuMzAuMzE0XjMxNC0wMV5GUkFVRU58fHx8fHx8fHx8fHx8fHx8MzkwMTk1MTN8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fA1UWEF8MXxDRHxBUHwyMDE5MDIxODE1MTUxMHx8MjAxOTAyMTgxNTE1MTB8MjAxOTAyMTgxNTE1MTB8MjAxOTAyMTgxNTE1MTB8fHxnZXRlbWVkfDAwMDAxMTk5MTV8fHw2NzI0NzcxfDM2NTYzNzgjR3VhcmlubyMyMDE5XzAyXzE4IzE1XzE1XzEwLnBkZnxQQXx8QVZ8fExhbmd6ZWl0LVJSIChMWlJSKQ0="

                },

                "inboundDataType": "HL7V2",

                "outboundDataType": "HL7V2",

                "inboundProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties",

                  "@version": "4.5.1",

                  "serializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties",

                    "@version": "4.5.1",

                    "handleRepetitions": true,

                    "handleSubcomponents": true,

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "stripNamespaces": false,

                    "segmentDelimiter": "\\r",

                    "convertLineBreaks": true

                  },

                  "deserializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties",

                    "@version": "4.5.1",

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "segmentDelimiter": "\\r"

                  },

                  "batchProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties",

                    "@version": "4.5.1",

                    "splitType": "MSH_Segment",

                    "batchScript": null

                  },

                  "responseGenerationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties",

                    "@version": "4.5.1",

                    "segmentDelimiter": "\\r",

                    "successfulACKCode": "AA",

                    "successfulACKMessage": null,

                    "errorACKCode": "AE",

                    "errorACKMessage": "An Error Occurred Processing Message.",

                    "rejectedACKCode": "AR",

                    "rejectedACKMessage": "Message Rejected.",

                    "msh15ACKAccept": false,

                    "dateFormat": "yyyyMMddHHmmss.SSS"

                  },

                  "responseValidationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties",

                    "@version": "4.5.1",

                    "successfulACKCode": "AA,CA",

                    "errorACKCode": "AE,CE",

                    "rejectedACKCode": "AR,CR",

                    "validateMessageControlId": true,

                    "originalMessageControlId": "Destination_Encoded",

                    "originalIdMapVariable": null

                  }

                },

                "outboundProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties",

                  "@version": "4.5.1",

                  "serializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties",

                    "@version": "4.5.1",

                    "handleRepetitions": true,

                    "handleSubcomponents": true,

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "stripNamespaces": false,

                    "segmentDelimiter": "\\r",

                    "convertLineBreaks": true

                  },

                  "deserializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties",

                    "@version": "4.5.1",

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "segmentDelimiter": "\\r"

                  },

                  "batchProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties",

                    "@version": "4.5.1",

                    "splitType": "MSH_Segment",

                    "batchScript": null

                  },

                  "responseGenerationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties",

                    "@version": "4.5.1",

                    "segmentDelimiter": "\\r",

                    "successfulACKCode": "AA",

                    "successfulACKMessage": null,

                    "errorACKCode": "AE",

                    "errorACKMessage": "An Error Occurred Processing Message.",

                    "rejectedACKCode": "AR",

                    "rejectedACKMessage": "Message Rejected.",

                    "msh15ACKAccept": false,

                    "dateFormat": "yyyyMMddHHmmss.SSS"

                  },

                  "responseValidationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties",

                    "@version": "4.5.1",

                    "successfulACKCode": "AA,CA",

                    "errorACKCode": "AE,CE",

                    "rejectedACKCode": "AR,CR",

                    "validateMessageControlId": true,

                    "originalMessageControlId": "Destination_Encoded",

                    "originalIdMapVariable": null

                  }

                }

              },

              "responseTransformer": {

                "@version": "4.5.1",

                "elements": null,

                "inboundDataType": "HL7V2",

                "outboundDataType": "HL7V2",

                "inboundProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties",

                  "@version": "4.5.1",

                  "serializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties",

                    "@version": "4.5.1",

                    "handleRepetitions": true,

                    "handleSubcomponents": true,

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "stripNamespaces": false,

                    "segmentDelimiter": "\\r",

                    "convertLineBreaks": true

                  },

                  "deserializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties",

                    "@version": "4.5.1",

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "segmentDelimiter": "\\r"

                  },

                  "batchProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties",

                    "@version": "4.5.1",

                    "splitType": "MSH_Segment",

                    "batchScript": null

                  },

                  "responseGenerationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties",

                    "@version": "4.5.1",

                    "segmentDelimiter": "\\r",

                    "successfulACKCode": "AA",

                    "successfulACKMessage": null,

                    "errorACKCode": "AE",

                    "errorACKMessage": "An Error Occurred Processing Message.",

                    "rejectedACKCode": "AR",

                    "rejectedACKMessage": "Message Rejected.",

                    "msh15ACKAccept": false,

                    "dateFormat": "yyyyMMddHHmmss.SSS"

                  },

                  "responseValidationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties",

                    "@version": "4.5.1",

                    "successfulACKCode": "AA,CA",

                    "errorACKCode": "AE,CE",

                    "rejectedACKCode": "AR,CR",

                    "validateMessageControlId": true,

                    "originalMessageControlId": "Destination_Encoded",

                    "originalIdMapVariable": null

                  }

                },

                "outboundProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties",

                  "@version": "4.5.1",

                  "serializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties",

                    "@version": "4.5.1",

                    "handleRepetitions": true,

                    "handleSubcomponents": true,

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "stripNamespaces": false,

                    "segmentDelimiter": "\\r",

                    "convertLineBreaks": true

                  },

                  "deserializationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties",

                    "@version": "4.5.1",

                    "useStrictParser": false,

                    "useStrictValidation": false,

                    "segmentDelimiter": "\\r"

                  },

                  "batchProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties",

                    "@version": "4.5.1",

                    "splitType": "MSH_Segment",

                    "batchScript": null

                  },

                  "responseGenerationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties",

                    "@version": "4.5.1",

                    "segmentDelimiter": "\\r",

                    "successfulACKCode": "AA",

                    "successfulACKMessage": null,

                    "errorACKCode": "AE",

                    "errorACKMessage": "An Error Occurred Processing Message.",

                    "rejectedACKCode": "AR",

                    "rejectedACKMessage": "Message Rejected.",

                    "msh15ACKAccept": false,

                    "dateFormat": "yyyyMMddHHmmss.SSS"

                  },

                  "responseValidationProperties": {

                    "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties",

                    "@version": "4.5.1",

                    "successfulACKCode": "AA,CA",

                    "errorACKCode": "AE,CE",

                    "rejectedACKCode": "AR,CR",

                    "validateMessageControlId": true,

                    "originalMessageControlId": "Destination_Encoded",

                    "originalIdMapVariable": null

                  }

                }

              },

              "filter": {

                "@version": "4.5.1",

                "elements": {

                  "com.mirth.connect.plugins.rulebuilder.RuleBuilderRule": {

                    "@version": "4.5.1",

                    "name": "Accept message if \"msg['MSH']['MSH.9']['MSH.9.1'].toString()\" equals 'MDM'",

                    "sequenceNumber": 0,

                    "enabled": true,

                    "field": "msg['MSH']['MSH.9']['MSH.9.1'].toString()",

                    "condition": "EQUALS",

                    "values": {

                      "string": "'MDM'"

                    }

                  }

                }

              },

              "transportName": "Channel Writer",

              "mode": "DESTINATION",

              "enabled": true,

              "waitForPrevious": false

            }

          ]

        },

        "preprocessingScript": "// Modify the message variable below to pre process data\nreturn message;",

        "postprocessingScript": "// This script executes once after a message has been processed\n// Responses returned from here will be stored as \"Postprocessor\" in the response map\nreturn;",

        "deployScript": "// This script executes once when the channel is deployed\n// You only have access to the globalMap and globalChannelMap here to persist data\nreturn;",

        "undeployScript": "// This script executes once when the channel is undeployed\n// You only have access to the globalMap and globalChannelMap here to persist data\nreturn;",

        "properties": {

          "@version": "4.5.1",

          "clearGlobalChannelMap": true,

          "messageStorageMode": "PRODUCTION",

          "encryptData": false,

          "encryptAttachments": false,

          "encryptCustomMetaData": false,

          "removeContentOnCompletion": false,

          "removeOnlyFilteredOnCompletion": false,

          "removeAttachmentsOnCompletion": false,

          "initialState": "STARTED",

          "storeAttachments": true,

          "metaDataColumns": {

            "metaDataColumn": [

              {

                "name": "SOURCE",

                "type": "STRING",

                "mappingName": "mirth_source"

              },

              {

                "name": "TYPE",

                "type": "STRING",

                "mappingName": "mirth_type"

              },

              {

                "name": "PAT_ID",

                "type": "STRING",

                "mappingName": "patientId"

              },

              {

                "name": "VISIT_ID",

                "type": "STRING",

                "mappingName": "visitId"

              }

            ]

          },

          "attachmentProperties": {

            "@version": "4.5.1",

            "type": "None",

            "properties": null

          },

          "resourceIds": {

            "@class": "linked-hash-map",

            "entry": {

              "string": [

                "Default Resource",

                "[Default Resource]"

              ]

            }

          }

        },

        "exportData": {

          "metadata": {

            "enabled": true,

            "lastModified": {

              "time": 1744008915970,

              "timezone": "Europe/Berlin"

            },

            "pruningSettings": {

              "pruneMetaDataDays": 31,

              "archiveEnabled": true,

              "pruneErroredMessages": false

            },

            "userId": 2

          },

          "dependentIds": null,

          "dependencyIds": null,

          "channelTags": null

        }

      },

      {

        "@version": "4.5.1",

        "id": "e1dadbd7-6fb5-437a-a6ef-5b44b6850c72",

        "nextMetaDataId": 2,

        "name": "S_GetemedAdtOrm",

        "description": null,

        "revision": 6,

        "sourceConnector": {

          "@version": "4.5.1",

          "metaDataId": 0,

          "name": "sourceConnector",

          "properties": {

            "@class": "com.mirth.connect.connectors.vm.VmReceiverProperties",

            "@version": "4.5.1",

            "pluginProperties": null,

            "sourceConnectorProperties": {

              "@version": "4.5.1",

              "responseVariable": "None",

              "respondAfterProcessing": true,

              "processBatch": false,

              "firstResponse": false,

              "processingThreads": 1,

              "resourceIds": {

                "@class": "linked-hash-map",

                "entry": {

                  "string": [

                    "Default Resource",

                    "[Default Resource]"

                  ]

                }

              },

              "queueBufferSize": 1000

            }

          },

          "transformer": {

            "@version": "4.5.1",

            "elements": {

              "com.mirth.connect.plugins.javascriptstep.JavaScriptStep": {

                "@version": "4.5.1",

                "name": "Metadata",

                "sequenceNumber": 0,

                "enabled": true,

                "script": "getOrderMetadata();"

              }

            },

            "inboundTemplate": {

              "@encoding": "base64"

            },

            "outboundTemplate": {

              "@encoding": "base64"

            },

            "inboundDataType": "HL7V2",

            "outboundDataType": "HL7V2",

            "inboundProperties": {

              "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties",

              "@version": "4.5.1",

              "serializationProperties": {

                "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties",

                "@version": "4.5.1",

                "handleRepetitions": true,

                "handleSubcomponents": true,

                "useStrictParser": false,

                "useStrictValidation": false,

                "stripNamespaces": false,

                "segmentDelimiter": "\\r",

                "convertLineBreaks": true

              },

              "deserializationProperties": {

                "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties",

                "@version": "4.5.1",

                "useStrictParser": false,

                "useStrictValidation": false,

                "segmentDelimiter": "\\r"

              },

              "batchProperties": {

                "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties",

                "@version": "4.5.1",

                "splitType": "MSH_Segment",

                "batchScript": null

              },

              "responseGenerationProperties": {

                "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties",

                "@version": "4.5.1",

                "segmentDelimiter": "\\r",

                "successfulACKCode": "AA",

                "successfulACKMessage": null,

                "errorACKCode": "AE",

                "errorACKMessage": "An Error Occurred Processing Message.",

                "rejectedACKCode": "AR",

                "rejectedACKMessage": "Message Rejected.",

                "msh15ACKAccept": false,

                "dateFormat": "yyyyMMddHHmmss.SSS"

              },

              "responseValidationProperties": {

                "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties",

                "@version": "4.5.1",

                "successfulACKCode": "AA,CA",

                "errorACKCode": "AE,CE",

                "rejectedACKCode": "AR,CR",

                "validateMessageControlId": true,

                "originalMessageControlId": "Destination_Encoded",

                "originalIdMapVariable": null

              }

            },

            "outboundProperties": {

              "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties",

              "@version": "4.5.1",

              "serializationProperties": {

                "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties",

                "@version": "4.5.1",

                "handleRepetitions": true,

                "handleSubcomponents": true,

                "useStrictParser": false,

                "useStrictValidation": false,

                "stripNamespaces": false,

                "segmentDelimiter": "\\r",

                "convertLineBreaks": true

              },

              "deserializationProperties": {

                "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties",

                "@version": "4.5.1",

                "useStrictParser": false,

                "useStrictValidation": false,

                "segmentDelimiter": "\\r"

              },

              "batchProperties": {

                "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties",

                "@version": "4.5.1",

                "splitType": "MSH_Segment",

                "batchScript": null

              },

              "responseGenerationProperties": {

                "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties",

                "@version": "4.5.1",

                "segmentDelimiter": "\\r",

                "successfulACKCode": "AA",

                "successfulACKMessage": null,

                "errorACKCode": "AE",

                "errorACKMessage": "An Error Occurred Processing Message.",

                "rejectedACKCode": "AR",

                "rejectedACKMessage": "Message Rejected.",

                "msh15ACKAccept": false,

                "dateFormat": "yyyyMMddHHmmss.SSS"

              },

              "responseValidationProperties": {

                "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties",

                "@version": "4.5.1",

                "successfulACKCode": "AA,CA",

                "errorACKCode": "AE,CE",

                "rejectedACKCode": "AR,CR",

                "validateMessageControlId": true,

                "originalMessageControlId": "Destination_Encoded",

                "originalIdMapVariable": null

              }

            }

          },

          "filter": {

            "@version": "4.5.1",

            "elements": null

          },

          "transportName": "Channel Reader",

          "mode": "SOURCE",

          "enabled": true,

          "waitForPrevious": true

        },

        "destinationConnectors": {

          "connector": {

            "@version": "4.5.1",

            "metaDataId": 1,

            "name": "Getemed",

            "properties": {

              "@class": "com.mirth.connect.connectors.tcp.TcpDispatcherProperties",

              "@version": "4.5.1",

              "pluginProperties": null,

              "destinationConnectorProperties": {

                "@version": "4.5.1",

                "queueEnabled": true,

                "sendFirst": true,

                "retryIntervalMillis": 10000,

                "regenerateTemplate": true,

                "retryCount": 0,

                "rotate": false,

                "includeFilterTransformer": false,

                "threadCount": 1,

                "threadAssignmentVariable": null,

                "validateResponse": true,

                "resourceIds": {

                  "@class": "linked-hash-map",

                  "entry": {

                    "string": [

                      "Default Resource",

                      "[Default Resource]"

                    ]

                  }

                },

                "queueBufferSize": 1000,

                "reattachAttachments": true

              },

              "transmissionModeProperties": {

                "@class": "com.mirth.connect.plugins.mllpmode.MLLPModeProperties",

                "pluginPointName": "MLLP",

                "startOfMessageBytes": "0B",

                "endOfMessageBytes": "1C0D",

                "useMLLPv2": false,

                "ackBytes": "06",

                "nackBytes": 15,

                "maxRetries": 2

              },

              "serverMode": false,

              "remoteAddress": "172.19.2.251",

              "remotePort": 6095,

              "overrideLocalBinding": false,

              "localAddress": "0.0.0.0",

              "localPort": 0,

              "sendTimeout": 5000,

              "bufferSize": 65536,

              "maxConnections": 10,

              "keepConnectionOpen": true,

              "checkRemoteHost": true,

              "responseTimeout": 5000,

              "ignoreResponse": false,

              "queueOnResponseTimeout": true,

              "dataTypeBinary": false,

              "charsetEncoding": "ISO-8859-15",

              "template": "${message.encodedData}"

            },

            "transformer": {

              "@version": "4.5.1",

              "elements": null,

              "inboundTemplate": {

                "@encoding": "base64"

              },

              "inboundDataType": "HL7V2",

              "outboundDataType": "HL7V2",

              "inboundProperties": {

                "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties",

                "@version": "4.5.1",

                "serializationProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties",

                  "@version": "4.5.1",

                  "handleRepetitions": true,

                  "handleSubcomponents": true,

                  "useStrictParser": false,

                  "useStrictValidation": false,

                  "stripNamespaces": false,

                  "segmentDelimiter": "\\r",

                  "convertLineBreaks": true

                },

                "deserializationProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties",

                  "@version": "4.5.1",

                  "useStrictParser": false,

                  "useStrictValidation": false,

                  "segmentDelimiter": "\\r"

                },

                "batchProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties",

                  "@version": "4.5.1",

                  "splitType": "MSH_Segment",

                  "batchScript": null

                },

                "responseGenerationProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties",

                  "@version": "4.5.1",

                  "segmentDelimiter": "\\r",

                  "successfulACKCode": "AA",

                  "successfulACKMessage": null,

                  "errorACKCode": "AE",

                  "errorACKMessage": "An Error Occurred Processing Message.",

                  "rejectedACKCode": "AR",

                  "rejectedACKMessage": "Message Rejected.",

                  "msh15ACKAccept": false,

                  "dateFormat": "yyyyMMddHHmmss.SSS"

                },

                "responseValidationProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties",

                  "@version": "4.5.1",

                  "successfulACKCode": "AA,CA",

                  "errorACKCode": "AE,CE",

                  "rejectedACKCode": "AR,CR",

                  "validateMessageControlId": true,

                  "originalMessageControlId": "Destination_Encoded",

                  "originalIdMapVariable": null

                }

              },

              "outboundProperties": {

                "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties",

                "@version": "4.5.1",

                "serializationProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties",

                  "@version": "4.5.1",

                  "handleRepetitions": true,

                  "handleSubcomponents": true,

                  "useStrictParser": false,

                  "useStrictValidation": false,

                  "stripNamespaces": false,

                  "segmentDelimiter": "\\r",

                  "convertLineBreaks": true

                },

                "deserializationProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties",

                  "@version": "4.5.1",

                  "useStrictParser": false,

                  "useStrictValidation": false,

                  "segmentDelimiter": "\\r"

                },

                "batchProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties",

                  "@version": "4.5.1",

                  "splitType": "MSH_Segment",

                  "batchScript": null

                },

                "responseGenerationProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties",

                  "@version": "4.5.1",

                  "segmentDelimiter": "\\r",

                  "successfulACKCode": "AA",

                  "successfulACKMessage": null,

                  "errorACKCode": "AE",

                  "errorACKMessage": "An Error Occurred Processing Message.",

                  "rejectedACKCode": "AR",

                  "rejectedACKMessage": "Message Rejected.",

                  "msh15ACKAccept": false,

                  "dateFormat": "yyyyMMddHHmmss.SSS"

                },

                "responseValidationProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties",

                  "@version": "4.5.1",

                  "successfulACKCode": "AA,CA",

                  "errorACKCode": "AE,CE",

                  "rejectedACKCode": "AR,CR",

                  "validateMessageControlId": true,

                  "originalMessageControlId": "Destination_Encoded",

                  "originalIdMapVariable": null

                }

              }

            },

            "responseTransformer": {

              "@version": "4.5.1",

              "elements": null,

              "inboundDataType": "HL7V2",

              "outboundDataType": "HL7V2",

              "inboundProperties": {

                "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties",

                "@version": "4.5.1",

                "serializationProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties",

                  "@version": "4.5.1",

                  "handleRepetitions": true,

                  "handleSubcomponents": true,

                  "useStrictParser": false,

                  "useStrictValidation": false,

                  "stripNamespaces": false,

                  "segmentDelimiter": "\\r",

                  "convertLineBreaks": true

                },

                "deserializationProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties",

                  "@version": "4.5.1",

                  "useStrictParser": false,

                  "useStrictValidation": false,

                  "segmentDelimiter": "\\r"

                },

                "batchProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties",

                  "@version": "4.5.1",

                  "splitType": "MSH_Segment",

                  "batchScript": null

                },

                "responseGenerationProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties",

                  "@version": "4.5.1",

                  "segmentDelimiter": "\\r",

                  "successfulACKCode": "AA",

                  "successfulACKMessage": null,

                  "errorACKCode": "AE",

                  "errorACKMessage": "An Error Occurred Processing Message.",

                  "rejectedACKCode": "AR",

                  "rejectedACKMessage": "Message Rejected.",

                  "msh15ACKAccept": false,

                  "dateFormat": "yyyyMMddHHmmss.SSS"

                },

                "responseValidationProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties",

                  "@version": "4.5.1",

                  "successfulACKCode": "AA,CA",

                  "errorACKCode": "AE,CE",

                  "rejectedACKCode": "AR,CR",

                  "validateMessageControlId": true,

                  "originalMessageControlId": "Destination_Encoded",

                  "originalIdMapVariable": null

                }

              },

              "outboundProperties": {

                "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties",

                "@version": "4.5.1",

                "serializationProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties",

                  "@version": "4.5.1",

                  "handleRepetitions": true,

                  "handleSubcomponents": true,

                  "useStrictParser": false,

                  "useStrictValidation": false,

                  "stripNamespaces": false,

                  "segmentDelimiter": "\\r",

                  "convertLineBreaks": true

                },

                "deserializationProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties",

                  "@version": "4.5.1",

                  "useStrictParser": false,

                  "useStrictValidation": false,

                  "segmentDelimiter": "\\r"

                },

                "batchProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties",

                  "@version": "4.5.1",

                  "splitType": "MSH_Segment",

                  "batchScript": null

                },

                "responseGenerationProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties",

                  "@version": "4.5.1",

                  "segmentDelimiter": "\\r",

                  "successfulACKCode": "AA",

                  "successfulACKMessage": null,

                  "errorACKCode": "AE",

                  "errorACKMessage": "An Error Occurred Processing Message.",

                  "rejectedACKCode": "AR",

                  "rejectedACKMessage": "Message Rejected.",

                  "msh15ACKAccept": false,

                  "dateFormat": "yyyyMMddHHmmss.SSS"

                },

                "responseValidationProperties": {

                  "@class": "com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties",

                  "@version": "4.5.1",

                  "successfulACKCode": "AA,CA",

                  "errorACKCode": "AE,CE",

                  "rejectedACKCode": "AR,CR",

                  "validateMessageControlId": true,

                  "originalMessageControlId": "Destination_Encoded",

                  "originalIdMapVariable": null

                }

              }

            },

            "filter": {

              "@version": "4.5.1",

              "elements": {

                "com.mirth.connect.plugins.rulebuilder.RuleBuilderRule": {

                  "@version": "4.5.1",

                  "name": "Accept message if \"msg['OBR']['OBR.4']['OBR.4.1'].toString()\" does not equal 'VITA' or 'ERGO' or 'BODY' or 'PRICK' or 'FENO' or 'ATEMMUSKEL' or 'DIFFDIAG' or 'PRAEOPDIAG' or 'DIFFDIAG' or 'STAGING' or 'SPIRO'",

                  "sequenceNumber": 0,

                  "enabled": true,

                  "field": "msg['OBR']['OBR.4']['OBR.4.1'].toString()",

                  "condition": "NOT_EQUAL",

                  "values": {

                    "string": [

                      "'VITA'",

                      "'ERGO'",

                      "'BODY'",

                      "'PRICK'",

                      "'FENO'",

                      "'ATEMMUSKEL'",

                      "'DIFFDIAG'",

                      "'PRAEOPDIAG'",

                      "'DIFFDIAG'",

                      "'STAGING'",

                      "'SPIRO'"

                    ]

                  }

                }

              }

            },

            "transportName": "TCP Sender",

            "mode": "DESTINATION",

            "enabled": true,

            "waitForPrevious": true

          }

        },

        "preprocessingScript": "// Modify the message variable below to pre process data\nreturn message;",

        "postprocessingScript": "// This script executes once after a message has been processed\n// Responses returned from here will be stored as \"Postprocessor\" in the response map\nreturn;",

        "deployScript": "// This script executes once when the channel is deployed\n// You only have access to the globalMap and globalChannelMap here to persist data\nreturn;",

        "undeployScript": "// This script executes once when the channel is undeployed\n// You only have access to the globalMap and globalChannelMap here to persist data\nreturn;",

        "properties": {

          "@version": "4.5.1",

          "clearGlobalChannelMap": true,

          "messageStorageMode": "PRODUCTION",

          "encryptData": false,

          "encryptAttachments": false,

          "encryptCustomMetaData": false,

          "removeContentOnCompletion": false,

          "removeOnlyFilteredOnCompletion": false,

          "removeAttachmentsOnCompletion": false,

          "initialState": "STARTED",

          "storeAttachments": true,

          "metaDataColumns": {

            "metaDataColumn": [

              {

                "name": "SOURCE",

                "type": "STRING",

                "mappingName": "mirth_source"

              },

              {

                "name": "TYPE",

                "type": "STRING",

                "mappingName": "mirth_type"

              },

              {

                "name": "PAT_ID",

                "type": "STRING",

                "mappingName": "patientId"

              },

              {

                "name": "VISIT_ID",

                "type": "STRING",

                "mappingName": "visitId"

              }

            ]

          },

          "attachmentProperties": {

            "@version": "4.5.1",

            "type": "None",

            "properties": null

          },

          "resourceIds": {

            "@class": "linked-hash-map",

            "entry": {

              "string": [

                "Default Resource",

                "[Default Resource]"

              ]

            }

          }

        },

        "exportData": {

          "metadata": {

            "enabled": true,

            "lastModified": {

              "time": 1744627644550,

              "timezone": "Europe/Berlin"

            },

            "pruningSettings": {

              "pruneMetaDataDays": 31,

              "archiveEnabled": true,

              "pruneErroredMessages": false

            },

            "userId": 2

          },

          "dependentIds": null,

          "dependencyIds": null,

          "channelTags": null

        }

      }

    ]

  }

}

;


